Content-Type: multipart/related; start=<op.mhtml.1279323229611.b0d4ae546242b696@69.91.131.229>; boundary=----------3obnvootT3GXYRHo5brlc5
Content-Location: http://compbiol.plosjms.org/cgi-bin/main.plex
Subject: =?utf-8?Q?PLoS=20Computational=20Biology?=
MIME-Version: 1.0

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=main.htm
Content-Type: text/html; charset=utf-8; name=main.htm
Content-ID: <op.mhtml.1279323229611.b0d4ae546242b696@69.91.131.229>
Content-Location: http://compbiol.plosjms.org/cgi-bin/main.plex
Content-Transfer-Encoding: Quoted-Printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://w=
ww.w3.org/TR/html4/loose.dtd">
<html>
<head>
<base href=3D"http://compbiol.plosjms.org/">
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8"=
>
<SCRIPT language=3D"JavaScript" type=3D"text/javascript">
<!-- Hide from old browsers =

var bref;
bref=3D"http://compbiol.plosjms.org";
var prog_base =3D 'cgi-bin/main.plex';
var ajax_capable_browser =3D 1;
var image_dir =3D '/images/';
var upload_base =3D 'cgi-bin/upload.plex';
var sitename =3D 'compbiolplosjmsorg';
// Unhide -->
</SCRIPT>
<title>PLoS Computational Biology</title>
<link rel=3D"stylesheet" type=3D"text/css" href=3D"/html/default_folder.=
css" >
<link rel=3D"stylesheet" type=3D"text/css" href=3D"/html/toolbar.css" >
<link rel=3D"stylesheet" type=3D"text/css" href=3D"/html/look_and_feel.c=
ss" >
<link rel=3D"stylesheet" href=3D"http://compbiol.plosjms.org/html/ejpupl=
oad.css" media=3D"screen" type=3D"text/css" />

<!-- SpellChecker Code: START -->
<script src=3D"/html/spellcheck.js" type=3D"text/javascript" language=3D=
"Javascript1.3"></script>
<!-- SpellChecker Code: END -->
<script LANGUAGE=3D"JavaScript" type=3D"text/javascript">
<!-- Hide from old browsers>
function do_mailto(rest) {
var link =3D bref+"/cgi-bin/main.plex?form_type=3Ddo_mailto"+rest;
var w=3Dwindow.open(link,'','toolbar=3Dno,location=3Dno,directories=3Dno=
,status=3Dno,scrollbars=3Dyes,resizable=3Dyes,copyhistory=3Dno,width=3D5=
50,height=3D300');
w.focus();
}
// Unhide -->
</SCRIPT>
		     <!-- Serviced by hostname: CL-Enclosure3-3 -->
<META name=3D"ROBOTS" content=3D"NOINDEX, NOFOLLOW">
<script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/html=
/prototype.js"></script>
<script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/html=
/scriptaculous.js?load=3Dbuilder,effects,controls"></script>
<script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/html=
/ejp.js"></script>
<script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/html=
/ejpupload.js"></script>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8"=
>
<HTML>
<HEAD>
<!-- charset=3Diso-8859-1 -->
<!-- utf-8 -->
<TITLE>PLoS Computational Biology Manuscript Submission and Peer Review<=
/TITLE>
<style type=3D"text/css">
<!--
A {
     font-size: 10pt;
	 font-weight: normal;
	 font-family: verdana,arial,helvetica,sans-serif;
     text-decoration: underline;
	 }
	A:link          { color:#003399;}
	A:visited       { color:#003399;}
	A:hover         { color:#FF3300;}
	A:active 		{ color:#FF3300;}

A.BAR {
	color: #ffffff;
	font-size: 10pt;
	font-weight: normal;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}

A.HELPBAR {
	color:#000000;
	font-size:10pt;
	font-weight: normal;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}

A.GUTTER1 {
	color:#ffcc66;
	font-size:12pt;
	font-weight: normal;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}

A.GUTTER2 {
	color:#ffffff;
	font-size:10pt;
	font-family: arial,helvetica,sans-serif;
	text-decoration:none;
	}
A.SP {
	font-size:10pt;
	font-weight: normal;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}
A.ND {
	text-decoration:none;
	}

A.H1 {
	color:#000000;
	font-size:18pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}

A.H6 {
	color:#000000;
	font-size:10pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	text-decoration:none;
	}

A.TEXT {
	color:#000000;
	font-size:12pt;
	font-weight: normal;
	font-family: verdana,arial,helvetica,sans-serif;
	margin-top: -4 pt;
	text-decoration:none;
	}

P.height    { line-height:0.75; }

.nav { font: 9pt helvetica,arial; }

B {
	font-size:12pt;
	font-family: verdana,arial,helvetica,sans-serif;
	font-weight: bold;}

.openacctbg {background-color: #FFCC33;}

.TEXT {
	font-size:10pt;
	font-family: verdana,arial,helvetica,sans-serif;
	}

.TTS    {
	font-size:12pt;
        font-family: verdana,arial,helvetica,sans-serif;
	font-weight: bold;
        }
.TTS2    {
	font-size:12pt;
        font-family: verdana,arial,helvetica,sans-serif;
        }

.TES    {
	font-size:12pt;
        font-family: verdana,arial,helvetica,sans-serif;
        color:#ff0000;
        }
.TRS {
	font-size:10pt;
	font-family: verdana,arial,helvetica,sans-serif;
	}

.SMALL1 {
	font-size:10pt;
	font-family: verdana,arial,helvetica,sans-serif;
	}

.SMALL2 {
	font-size:10pt;
	font-family: verdana,arial,helvetica,sans-serif;
	}

.SMALL3 {
	font-size:10pt;
	font-family: 'Courier New',courier, monospace;
	}

.GUTTER1 {
	color:#ffcc66;
	font-size:12pt;
	font-weight: normal;
    font-family: verdana,arial,helvetica,sans-serif;
    }
.REDN {
	color: #FF0000;
	font-size:10pt;
	font-weight: normal;
	font-family: Georgia,'Times New Roman',Times,serif;
    }
.GSA {
	color: #000000;
	font-size:22pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #FFFFFF;
    }
.MBC1 {
	color: #FFFFFF;
	font-size:22pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #000000;
    }
.MBC2 {
	color: #FFFFFF;
	font-size:8pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #010165;
    }
.g31 {
	color: #FFFFFF;
	font-size:22pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #004080;
    }
.g32 {
	color: #FFFFFF;
	font-size:8pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #010165;
    }
.gsa32 {
	color: #FFFFFF;
	font-size:8pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	background-color: #009900;

    }
.WH {
	color: #FFFFFF;
	font-size:8pt;
    }

.GUTTER2 {
	font-size:10pt;
	font-family: Georgia,'Times New Roman',Times,serif;
	color:#ffffff;
	}

.GUTTER3 {
	color:#ccccff;
	font-size:10pt;
	font-family: verdana,arial,helvetica,sans-serif;
	}
H1, .H1 {
	font-size:18pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	}

H2, .H2 {
	font-size:16pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	}

H3, .H3 {
	font-size:14pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	}

H4, .H4 {
	font-size:12pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	}

H5, .H5 {
	font-size:12pt;
	font-weight: bold;
	font-style: italic;
	font-family: verdana,arial,helvetica,sans-serif;
	}

H6, .H6 {
	font-size:10pt;
	font-weight: bold;
	font-family: verdana,arial,helvetica,sans-serif;
	}

A:link.fl		{ color:#003399;}
A:visited.fl	{ color:#003399;}
A:hover.fl 		{ color:#FF3300; text-decoration:underline;}
A:active.fl		{ color:#FF3300; text-decoration: underline;}

A:link.hl 		{ color:#003399;}
A:visited.hl	{ color:#003399;}
A:hover.hl		{ color:#FF3300; text-decoration:underline;}
A:active.hl		{ color:#FF3300; text-decoration: underline }

IMAGE.nb	{border: none;}

td#nav a, td#nav a:visited {
	background: #000;
	color: #FFF;
	text-decoration: none;
	font-size: .6em;
	padding: 5px 10px;
	border-right: 1px dotted #999;
}
td#nav a:hover {
	background: #AAB8CD;
	color: #000;
}

-->
</style>

</HEAD>
<BODY text=3D"#000000" bgcolor=3D"#FFFFFF" topmargin=3D"0" leftmargin=3D=
"0" marginheight=3D"0" marginwidth=3D"0" onLoad=3D"focus();">
<A name=3D"Top"></A>
<SCRIPT language=3D"JavaScript" type=3D"text/javascript">
<!-- Hide from old browsers onclick=3D"hup('url')">
function hup (txt) {
	var ftxt;
	ftxt=3Dbref+"/cgi-bin/main.plex?form_type=3Ddo_help&file_nm=3D"+txt;
var w=3Dwindow.open(ftxt,'nodocnm','toolbar=3Dno,location=3Dno,directori=
es=3Dno,status=3Dno,scrollbars=3Dyes,resizable=3Dyes,copyhistory=3Dno,wi=
dth=3D600,height=3D200');
w.focus();
}
// Unhide -->
</SCRIPT>

<!-- EJPRESS TITLE IMAGE -->
<TABLE border=3D"0" cellspacing=3D"0" cellpadding=3D"5" width=3D"100%">
<TR><TD bgcolor=3D"#667893" align=3D"center"><IMG width=3D"470" height=3D=
"117" src=3D"images/pcbijmshdr.gif" class=3D"nb" alt=3D"PLoS Computation=
al Biology Manuscript Submission and Peer Review"></TD></TR>
<TR><TD align=3D"center" style=3D"border-top: 1px solid #999; border-bot=
tom: 1px solid #999; background: #000;" id=3D"nav"><A href=3D"cgi-bin/ma=
in.plex?form_type=3Dhome" tabindex=3D"1" title=3D"PLoS Computational Bio=
logy JMS : My Home Page" style=3D"border-left: 1px dotted #999;">&nbsp;M=
y&nbsp;Home&nbsp;Page&nbsp;</A><A href=3D"http://www.ploscompbiol.org/" =
 tabindex=3D"2" title=3D"PLoS Computational Biology : Journal Site">&nbs=
p;Journal&nbsp;Site&nbsp;</A><a href=3D"http://www.ploscompbiol.org/stat=
ic/edboard.action" tabindex=3D"3" title=3D"PLoS Computational Biology : =
Editorial Board">Editorial&nbsp;Board</a><A href=3D"http://www.ploscompb=
iol.org/static/policies.action" tabindex=3D"4" title=3D"PLoS Computation=
al Biology : Editorial Policies">&nbsp;Editorial&nbsp;Policies&nbsp;</A>=
<A href=3D"http://www.ploscompbiol.org/static/guidelines.action" tabinde=
x=3D"5" title=3D"PLoS Computational Biology : Author Guidelines">&nbsp;A=
uthor&nbsp;Guidelines&nbsp;</A><A href=3D"http://www.ploscompbiol.org/st=
atic/reviewerGuidelines.action" tabindex=3D"6" title=3D"PLoS Computation=
al Biology : Reviewer Guidelines">&nbsp;Reviewer&nbsp;Guidelines&nbsp;</=
A><A href=3D"http://compbiol.plosjms.org/cgi-bin/main.plex?form_type=3Dd=
isplay_presubmission_instructions&j_id=3D85" tabindex=3D"7" title=3D"PLo=
S Computational Biology : Presubmission Inquiry">&nbsp;Presubmission&nbs=
p;Inquiry&nbsp;</A></TD></TR>
<TR><TD align=3D"right"><a href=3D"http://www.allentrack.net/AllenTrack_=
requirements/requirements.htm">Make sure JavaScript, Cookies, and Pop-up=
s are enabled.</a>&nbsp;&nbsp;</TD></TR>
</TABLE>

<!-- <SCRIPT language=3D"Javascript" src=3D"http://www.allentrack.net/ma=
int.js"></SCRIPT> -->
<SCRIPT language=3D"Javascript" src=3D"http://www.allentrack.net/maint_p=
los.js"></SCRIPT>

<TABLE border=3D"0" cellspacing=3D"15" cellpadding=3D"15" width=3D"100%"=
>
<TR><TD>

<P>


<!-- START -->
<!-- START -->
<!-- START -->


   <script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/h=
tml/tvs_submit.js"></script>
<link rel=3D"stylesheet" href=3D"http://compbiol.plosjms.org/html/tvs_su=
bmit.css" media=3D"screen" type=3D"text/css" />
<script type=3D"text/javascript" src=3D"http://compbiol.plosjms.org/html=
/treemenu.js"></script>
<link rel=3D"stylesheet" href=3D"http://compbiol.plosjms.org/html/treeme=
nu.css" media=3D"screen" type=3D"text/css" />
<script type=3D"text/javascript" language=3D"JavaScript">
<!-- Hide from old Browsers >
var rw =3D window.open ('', 'reminder');
rw.close();
// Unhide -->
</script>
<b><FONT FACE=3D"arial, helvetica" SIZE=3D4>Submit Manuscript Steps</FON=
T></b><br>
<table border=3D0>
<tr>
<td width=3D15>&nbsp;</td>
<td><table border=3D0><tr><td>1)&nbsp;General Information<br>
2)&nbsp;Upload Files<br>
3)&nbsp;<strong>Receipt</strong><br>
4)&nbsp;Approve Manuscript Files<br>
</td></tr></table></td>
</tr>
</table>
<P>
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000><B>Manuscript #=
 10-PLCB-RA-2560</B></FONT><br />
&nbsp;<br />
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000>Please print an=
d save this page for your records.</FONT><br />
&nbsp;<br />
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000>9 files receive=
d. File conversion may take up to <B>10 minutes</B>.</FONT><br />
&nbsp;<br />
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000>Once the files =
have been converted, you must approve the new PDF files before the submi=
ssion is complete. If you do not approve the PDF files, your manuscript =
will <B>not</b> be submitted.</FONT><br />
&nbsp;<br />
<BR>
<TABLE BORDER=3D1 WIDTH=3D"100%">
<TR><TH ALIGN=3DLEFT NOWRAP=3D1 WIDTH=3D"25%">Manuscript #</TH><td>
10-PLCB-RA-2560&nbsp </td>
</TR>
<TR><TH ALIGN=3DLEFT NOWRAP=3D1>Current Revision #</TH><TD>0</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Submission Date</TH><TD>2010-07-16 18:14:47<=
/TD></TR>
<TH ALIGN=3DLEFT NOWRAP=3D1><a href=3D"cgi-bin/main.plex?form_type=3Dsta=
tus_details&ms_id=3D136778&ms_rev_no=3D0&ms_id_key=3D1OsqiOm9kfDbJXl4e1Q=
UoQ&j_id=3D85">Current Stage</a></TH><TD>Manuscript Files Submitted</TD>=
</TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Title</TH><TD>Axial and Radial Forces of Cro=
ss-bridges Depend on Lattice Spacing</TD></TR><TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Running Title</TH><TD>Cross-bridge forces de=
pend on lattice spacing</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Manuscript Type</TH><TD>Research Article</TD=
></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Corresponding Author</TH><TD><a href=3D"cgi-=
bin/main.plex?form_type=3Dget_simple_bio&ms_id=3D136778&ms_rev_no=3D0&ms=
_id_key=3D1OsqiOm9kfDbJXl4e1QUoQ&j_id=3D85&auth_id=3D359878">Charles Wil=
liams (University of Washington)</a> </TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Contributing Authors</TH><TD><a href=3D"cgi-=
bin/main.plex?form_type=3Dget_simple_bio&ms_id=3D136778&ms_rev_no=3D0&ms=
_id_key=3D1OsqiOm9kfDbJXl4e1QUoQ&j_id=3D85&auth_id=3D360358">Michael Reg=
nier</a> , <a href=3D"cgi-bin/main.plex?form_type=3Dget_simple_bio&ms_id=
=3D136778&ms_rev_no=3D0&ms_id_key=3D1OsqiOm9kfDbJXl4e1QUoQ&j_id=3D85&aut=
h_id=3D360359">Thomas Daniel</a> </TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Background Abstract</TH><TD>Nearly all mecha=
nochemical models of the cross-bridge treat myosin as a simple linear sp=
ring arranged parallel to the contractile filaments. These single-spring=
 models cannot account for the radial force that muscle generates (ortho=
gonal to the direction of contraction) or the effects of changes in fila=
ment lattice spacing. =

</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Methodology/Principal Findings Abstract</TH>=
<TD>We describe a more complex myosin cross-bridge model that uses multi=
ple springs to replicate myosin's force-generating power stroke and acco=
unt for the effects of lattice spacing and radial force. The four spring=
s which comprise this model (the 4sXB) correspond to the mechanically re=
levant portions of myosin's structure. As occurs in vivo, the 4sXB's sta=
te-transition kinetics and force production dynamics vary with lattice s=
pacing. =

 =

Additionally, we describe a simpler two spring cross-bridge (2sXB) model=
 which produces results similar to those of the 4sXB model. Unlike the 4=
sXB model, the 2sXB model requires no iterative techniques, making it mo=
re computationally efficient. =

</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Conclusions/Significance Abstract</TH><TD>Th=
e rate at which both multi-spring cross-bridges bind and generate force =
decreases as lattice spacing grows. The axial force generated by each cr=
oss-bridge as it undergoes a power stroke increases as lattice spacing g=
rows. The radial force that a cross-bridge produces as it undergoes a po=
wer stroke varies from expansive to compressive as lattice spacing incre=
ases. Importantly, these results mirror those for intact, contracting mu=
scle force production. =

</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Author Reviewer Suggestions to Include</TH><=
TD>Angela Bagni (Universita degli Studi di Firenze), Kenneth Campbell (U=
niversity of Kentucky), Henk Granzier (University of Arizona), Thomas Ir=
ving (Illinois Institute of Technology)</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Suggested Reviewers or Associate Editors to =
Exclude</TH><TD>N/A</TD></TR>
<TR>
<TH ALIGN=3DLEFT NOWRAP=3D1>Dual Publication</TH><TD>No</TD></TR>
<tr>
<th align=3Dleft nowrap=3D1>Competing Interest<	h>
<td>No, there is no competing interest that I should disclose, having re=
ad the above statement.</td>
</tr>
</TABLE>
<BR>
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000>To simplify the=
 handling of your paper, we create a merged PDF containing your manuscri=
pt article, figures and tables. EICs and/or
                                 Reviewers will also be able to look at =
the individual PDF files if necessary.</FONT><br />
&nbsp;<br />
<form name=3D"none" id=3D"none" method=3D"post" action=3D"http://compbio=
l.plosjms.org/cgi-bin/main.plex">
<input type=3D"hidden" name=3D"form_type" id=3D"form_type" value=3D"set_=
sort_order" />
<input type=3D"hidden" name=3D"j_id" id=3D"j_id" value=3D"85" />
<input type=3D"hidden" name=3D"ms_id" id=3D"ms_id" value=3D"136778" />
<input type=3D"hidden" name=3D"ms_rev_no" id=3D"ms_rev_no" value=3D"0" /=
>
<input type=3D"hidden" name=3D"is_step" value=3D"1">
<input type=3D"hidden" name=3D"next_form" value=3D"step_four_email">Sele=
ct which files to include in the merge. If figures or tables are include=
d in your document, there is no need to include them again.<P>
Use the <B>Sequence Number</B> column below to select the order in which=
 these files should be presented to the EIC. All manuscript items need a=
 sequence number.<P>
<table border=3D1 celpadding=3D2>
<tr>
   <th>File</th>
   <th>Sequence Number</th>   <th>Include in Merge</th></tr>
<tr><td>Author Cover Letter File #1</td>
<td>N/A<input type=3Dhidden name=3D"1950506_0_seq" value=3D1></td>
<td align=3Dleft>
File not included.<input type=3Dhidden name=3D"1950506_0_merge" value=3D=
0>
</td>
<tr><td>Article File including Tables #1</td>
<td><select name=3D"1950507_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950507_0_merge" value=3D1>
</td>
<tr><td>Figure 1</td>
<td><select name=3D"1950508_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950508_0_merge" value=3D1>
</td>
<tr><td>Figure 2</td>
<td><select name=3D"1950509_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950509_0_merge" value=3D1>
</td>
<tr><td>Figure 3</td>
<td><select name=3D"1950510_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950510_0_merge" value=3D1>
</td>
<tr><td>Figure 4</td>
<td><select name=3D"1950511_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950511_0_merge" value=3D1>
</td>
<tr><td>Figure 5</td>
<td><select name=3D"1950512_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950512_0_merge" value=3D1>
</td>
<tr><td>Figure 6</td>
<td><select name=3D"1950513_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950513_0_merge" value=3D1>
</td>
<tr><td>Figure 7</td>
<td><select name=3D"1950514_0_seq">
<option value=3D"0">--Please Select--</option>
<option value=3D"3" >1st</option>
<option value=3D"4" >2nd</option>
<option value=3D"5" >3rd</option>
<option value=3D"6" >4th</option>
<option value=3D"7" >5th</option>
<option value=3D"8" >6th</option>
<option value=3D"9" >7th</option>
<option value=3D"10" >8th</option>
</select>
</td>
<td align=3Dcenter>
<input type=3Dcheckbox name=3D"1950514_0_merge" value=3D1>
</td>
<input type=3D"hidden" name=3D"has_selection" value=3D"1">
</table>
<FONT FACE=3D"arial, helvetica" SIZE=3D3 COLOR=3D#FF0000>You can approve=
 the manuscript by pressing the "Continue" button and following the link=
s with the red arrow on the next web screen.</FONT><br />
&nbsp;<br />
<input type=3D"submit" name=3D"continue" value=3D"Continue">
</form>
<!-- END -->
<!-- END -->
<!-- END --></CENTER>
</TD>
</TR>
</TABLE>

<P>
<!-- COPYRIGHT TABLE -->
<TABLE valign=3D"bottom" bgcolor=3D"#667893" border=3D"0" cellspacing=3D=
"0" cellpadding=3D"0" width=3D"100%" nowrap>
<TR>
<TD align=3D"left" valign=3D"top"><A href=3D"http://www.iscb.org" class=3D=
""fl" title=3D"http://www.iscb.org"><IMG width=3D"195" height=3D"108" sr=
c=3D"images/iscb195x108.gif" class=3D"nb" border=3D"0"></A></TD>
<TD align=3D"center" valign=3D"top" width=3D"*">
<BR>
<FONT face=3D"Verdana,Arial,Helvetica,sans-serif" color=3D"#FFFFFF" size=
=3D"-1">For assistance, please contact the PLoS editorial office: <A hre=
f=3D"mailto:ploscompbiol@plos.org" class=3D"fl" title=3D"mailto:ploscomp=
biol@plos.org">ploscompbiol@plos.org</a> or +1-415-624-1200
<BR>
<A href=3D"http://www.plos.org" class=3D"fl" title=3D"http://www.plos.or=
g">Public Library of Science</A>
<BR>
<A href=3D"http://www.iscb.org" class=3D"fl" title=3D"http://www.iscb.or=
g">International Society for Computational Biology</A>
<BR>
<A href=3D"http://www.allentrack.net" class=3D"fl" title=3D"http://www.a=
llentrack.net">AllenTrack</A> by <A href=3D"http://www.allenpress.com" c=
lass=3D"fl" title=3D"http://www.allenpress.com">Allen Press, Inc.</A>
<BR>
Powered by <A href=3D"http://www.ejournalpress.com" class=3D"fl" title=3D=
"http://www.ejournalpress.com">eJournalPress</A>
</FONT>
<BR>
</TD>
<TD align=3D"right" valign=3D"top"><A href=3D"http://www.plos.org" title=
=3D"http://www.plos.org"><IMG width=3D"73" height=3D"108" src=3D"images/=
plos73x108.gif" class=3D"nb" border=3D"0"></A></TD>
</TR>
</TABLE>
</BODY>
</HTML>

<!-- SpellChecker Code: START -->
<form name=3D"spell_form" id=3D"spell_form" method=3D"post" action=3D"ht=
tp://compbiol.plosjms.org/cgi-bin/main.plex" target=3D"spellWindow">
<input type=3D"hidden" name=3D"form_type" id=3D"form_type" value=3D"spel=
ling_check" />
<input type=3D"hidden" name=3D"j_id" id=3D"j_id" value=3D"85" />
<input type=3D"hidden" name=3D"spell_formname" value=3D""  />
<input type=3D"hidden" name=3D"spell_fieldname" value=3D""  />
<input type=3D"hidden" name=3D"spellstring" value=3D""  />
</form>
<!-- SpellChecker Code: END -->
<!-- done -->

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=default_folder.css
Content-Type: text/css; charset=utf-8; name=default_folder.css
Content-Location: http://compbiol.plosjms.org/html/default_folder.css
Content-Transfer-Encoding: 8bit

/* $Id: default_folder.css,v 10.0 2004/11/05 23:10:40 plotkin Exp $ */

.folder_row_even {
  background-color: #FFFFFF;
  color: #000000;
//  border: 1px solid black;
}

.folder_row_odd {
  background-color: #F0F0F0;
  color: #000000;
//  border: 1px solid black;
}

.folder_row_header {
	background-color: #3A4972;
	color: #FFFFFF;
}

.folder_table {
//  border-style: solid;
  border-style: none;
}

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=toolbar.css
Content-Type: text/css; charset=utf-8; name=toolbar.css
Content-Location: http://compbiol.plosjms.org/html/toolbar.css
Content-Transfer-Encoding: 8bit

/* $Id: toolbar.css,v 26.0 2009/11/25 19:31:00 plotkin Exp $ */

.toolbar {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background-color: white;
      border: 1px solid black;
      padding-top: 2px;
      padding-left: 2px;
      padding-right: 2px;
}

.tb_search_popup {
      position: fixed;
      bottom: 0px;
      right: 0px;
      background-color: white;
      border: 1px solid black;
      width: 250px;
      display: none;
      z-index: 20;
}
.tb_results_scroll {
      position: fixed;
      bottom: 0px;
      right: 0px;
      background-color: white;
      border: 1px solid black;
      display: none;
      z-index: 20;
      font-family: Verdana, Tahoma;
      font-size: 12px; 
      padding: 3px;
      padding-bottom: 10px;
      height:300px;
      width: 50%;
      overflow:auto;
}
.tb_results {
      position: fixed;
      bottom: 0px;
      right: 0px;
      background-color: white;
      border: 1px solid black;
      display: none;
      z-index: 20;
      font-family: Verdana, Tahoma;
      font-size: 12px; 
      padding: 3px;
      padding-bottom: 10px;
      width: 50%;
      height: 75%;
      overflow:auto;
}

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=look_and_feel.css
Content-Type: text/css; charset=utf-8; name=look_and_feel.css
Content-Location: http://compbiol.plosjms.org/html/look_and_feel.css
Content-Transfer-Encoding: 8bit

A.nodecoration{
    text-decoration:none;
}

span.amt_faq{
    position:relative;
    left:30px;
}
a.amt_faq{
    font-size:12pt;
}
img.amt_faq{
    border:none;
    display:inline-block;
    vertical-align:middle;
}

#amt_links_table td{
    padding:1px;
    padding-right:20px}

.link_icon_same_page{
    display:inline-block;
    border:none;
    padding-left:2px;
    height:10px;
    width:10px}
.link_icon_same_page:hover{
    border:solid;
    border-width:thin;
    border-style:solid;
}

.link_icon_new_page{
    display:inline-block;
    border:none;
    padding-left:2px;
    height:10px;
    width:10px}
.link_icon_new_page:hover{
    border:solid;
    border-width:thin;
    border-style:solid;
}

.expand_collapse_debug_link{
    font-size:12pt;
    position:relative;
    top:-20px;
}
.expandable_debug_span{
    display:none;
    font-size:8pt;
}
.collapsable_debug_span{
    display:block;
    font-size:8pt;
}
.PEERcheckboxnotsent{
    border:1px dashed red;
}
.PEERcheckboxalreadysent{
    color:gray;
}


------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=ejpupload.css
Content-Type: text/css; charset=utf-8; name=ejpupload.css
Content-Location: http://compbiol.plosjms.org/html/ejpupload.css
Content-Transfer-Encoding: 8bit

/* $Id: ejpupload.css,v 18.0 2007/04/03 17:53:52 plotkin Exp $ */

/* Upload meter stuff */

#uploadmetercontainer {
  width:100%;
}

#uploadbar {
  border: 1px solid black;
  background-color: lightgray;
  
}

#uploadmeter {
  height: 20px;
  background-color: blue;
}

#uploadrate{ 
  float: left; 
  text-align: left; 
  width: 25%; 
}

#uploadstatus { 
  float: left; 
  text-align: center; 
  width: 50%; 
  font-style: italic; 
}

#uploadpercent	{ 
  float: right; 
  text-align: right; 
  width: 24%; 
}

#themeter { 
  margin-bottom: 60px; 
}


#statustable table { 
  width: 400px; 
  margin: 4px auto 20px auto; 
  text-align: right; 
  border-collapse: collapse; 
  border: 0; 
  border-bottom: 1px solid #bbb;
}

#statustable table td { 
  border-top: 1px solid #bbb; 
  text-align: center; 
}

.header {
  font-weight: bold;
}

.alt1 {
  background-color: #e6e6e6; 
}

.alt2 {
  background-color: #efefef; 
}




/* - - - - - - - - - - - - - - - - - - - - -

Title : Lightbox CSS
Author : Kevin Hale
URL : http://particletree.com/features/lightbox-gone-wild/

Created : January 13, 2006
Modified : February 1, 2006

- - - - - - - - - - - - - - - - - - - - - */

#lightbox{
	display:none;

	top:50%;
	left:50%;
	z-index:9999;
	width:500px;
	height:400px;
	margin:-220px 0 0 -250px;
	border:1px solid #fff;
	background:#FDFCE9;
	text-align:left;
	position:absolute;
}
#lightbox[id]{
	position:fixed;
}

#overlay{
	display:none;
	position:absolute;
	top:0;
	left:0;
	width:100%;
	height:100%;
	z-index:5000;
	background-color:#000;
	-moz-opacity: 0.6;
	opacity:.60;
	filter: alpha(opacity=60);
}
#overlay[id]{
	position:fixed;
}

#lightbox.done #lbLoadMessage{
	display:none;
}
#lightbox.done #lbcontent{
	display:block;
}
#lightbox.loading #lbcontent{
	display:none;
}
#lightbox.loading #lbLoadMessage{
	display:block;
}

/*
#lightbox.done img{
	width:100%;
	height:100%;
}
*/

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=spellcheck.js
Content-Type: application/x-javascript; charset=utf-8; name=spellcheck.js
Content-Location: http://compbiol.plosjms.org/html/spellcheck.js
Content-Transfer-Encoding: Base64

LyoKUHVuZ28gU3BlbGwgQ29weXJpZ2h0IChjKSAyMDAzIEJpbGx5IENvb2ssIEJh
cnJ5IEpvaG5zb24KClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUg
b2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhp
cyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0
aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQg
cmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJp
Z2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3Ry
aWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29m
dHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2Fy
ZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2lu
ZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRo
aXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNv
cGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpU
SEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5U
WSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVU
IE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElU
WSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJ
TkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJ
R0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1Ig
T1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFD
VCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElO
IENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhF
UiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiovCgoKLy8gUHVibGljIGZ1bmN0
aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gc3BlbGxD
aGVjayAtIHNwZWxsIGNoZWNrIGEgZmllbGQKZnVuY3Rpb24gc3BlbGxDaGVjaygg
Zm9ybU5hbWUsIGZpZWxkTmFtZSwgc3BlbGx0ZXh0ICkgewoKICAgdmFyIGhfc3Bl
bGxmb3JtID0gZG9jdW1lbnQuZm9ybXNbJ3NwZWxsX2Zvcm0nXTsKICAgaF9zcGVs
bGZvcm0uc3BlbGxfZm9ybW5hbWUudmFsdWUgPSBmb3JtTmFtZTsKICAgaF9zcGVs
bGZvcm0uc3BlbGxfZmllbGRuYW1lLnZhbHVlID0gZmllbGROYW1lOwogICBoX3Nw
ZWxsZm9ybS5zcGVsbHN0cmluZy52YWx1ZSA9IGRvY3VtZW50LmZvcm1zW2Zvcm1O
YW1lXVtmaWVsZE5hbWVdLnZhbHVlOwogICBvcGVuU3BlbGxXaW4oODAwLCA2MDAp
OwogICBoX3NwZWxsZm9ybS5zdWJtaXQoKTsKICAgcmV0dXJuIHRydWU7Cn0KCi8v
IFByaXZhdGUgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0KCi8vIGdsb2JhbHMKdmFyIHdvcmRpbmRleCA9IC0xOwp2YXIgb2Zmc2V0aW5k
ZXggPSAwOwp2YXIgaWdub3JlZFdvcmRzID0gQXJyYXkoKTsKdmFyIGFsbGRvbmUg
PSAwOwoKLy8gbWlzcGVsbGVkIHdvcmQgb2JqZWN0Ci8vCmZ1bmN0aW9uIG1pc3Ao
d29yZCwgc3RhcnQsIGVuZCwgc3VnZ2VzdGlvbnMpIHsKICAgdGhpcy53b3JkID0g
d29yZDsgICAgICAgICAgICAgICAvLyB0aGUgd29yZAogICB0aGlzLnN0YXJ0ID0g
c3RhcnQ7ICAgICAgICAgICAgIC8vIHN0YXJ0IGluZGV4CiAgIHRoaXMuZW5kID0g
ZW5kOyAgICAgICAgICAgICAgICAgLy8gZW5kIGluZGV4CiAgIHRoaXMuc3VnZ2Vz
dGlvbnMgPSBzdWdnZXN0aW9uczsgLy8gYXJyYXkgb2Ygc3VnZ2VzdGlvbnMKfQoK
Ly8gcmVwbGFjZSB0aGUgd29yZCBpbiB0aGUgbWlzcHMgYXJyYXkgYXQgdGhlICJ3
b3JkaW5kZXgiIGluZGV4LiAgVGhlCi8vIG1pc3BzIGFycmF5IGlzIGdlbmVyYXRl
ZCBieSBhIFBIUCBzY3JpcHQgYWZ0ZXIgdGhlIHN0cmluZyB0byBiZSBzcGVsbAov
LyBjaGVja2VkIGlzIGV2YWx1YXRlZCB3aXRoIHBzcGVsbAovLwpmdW5jdGlvbiBy
ZXBsYWNlV29yZCgpIHsKICAgdmFyIGZybSA9IGRvY3VtZW50LmZtMTsKICAgdmFy
IHN0cnN0YXJ0ID0gJyc7CiAgIHZhciBzdHJlbmQ7CgogICAvLyBpZiB0aGlzIGlz
bid0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyB0aGVuIGdldCBhbGwgb2Yg
dGhlIHN0cmluZwogICAvLyB0aGF0IGlzIGJlZm9yZSB0aGUgd29yZCB3ZSBhcmUg
cmVwbGFjaW5nCiAgIGlmICggbWlzcHNbIHdvcmRpbmRleCBdLnN0YXJ0ICE9IDAg
KQogICAgICAgc3Ryc3RhcnQgPSBtaXNwc3RyLnNsaWNlKCAwLCBtaXNwc1sgd29y
ZGluZGV4IF0uc3RhcnQgKyBvZmZzZXRpbmRleCk7CgogICAvLyBnZXQgdGhlIGVu
ZCBvZiB0aGUgc3RyaW5nIGFmdGVyIHRoZSB3b3JkIHdlIGFyZSByZXBsYWNpbmcK
ICAgc3RyZW5kID0gbWlzcHN0ci5zbGljZSggbWlzcHNbIHdvcmRpbmRleCBdLmVu
ZCArIDEgKyBvZmZzZXRpbmRleCk7CiAgCiAgIC8vIHJlYnVpbGQgdGhlIHN0cmlu
ZyB3aXRoIHRoZSBuZXcgd29yZAogICBtaXNwc3RyID0gc3Ryc3RhcnQgKyAgZnJt
LmNoYW5nZXRvLnZhbHVlICArIHN0cmVuZDsKCiAgIC8vIHVwZGF0ZSBvZmZzZXRp
bmRleCB0byBjb21wZW5zYXRlIGZvciByZXBsYWNpbmcgYSB3b3JkIHdpdGggYSB3
b3JkCiAgIC8vIG9mIGEgZGlmZmVyZW50IGxlbmd0aC4KICAgb2Zmc2V0aW5kZXgg
Kz0gZnJtLmNoYW5nZXRvLnZhbHVlLmxlbmd0aCAtIG1pc3BzWyB3b3JkaW5kZXgg
XS53b3JkLmxlbmd0aDsKCiAgIC8vIHVwZGF0ZSB0aGUgd29yZCBzbyBmdXR1cmUg
cmVwbGFjZUFsbCBjYWxscyBkb24ndCBjaGFuZ2UgaXQKICAgbWlzcHNbIHdvcmRp
bmRleCBdLndvcmQgPSBmcm0uY2hhbmdldG8udmFsdWU7CgogICBuZXh0V29yZChm
YWxzZSk7Cn0KCi8vIHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgY3VycmVudGx5
IHNlbGVjdGVkIHdvcmQgd2l0aCBjb250ZW50cyBjaG9zZW4gYnkgdXNlci4gCi8v
IG5vdGU6IGN1cnJlbnRseSBvbmx5IHJlcGxhY2VzIHdvcmRzIGFmdGVyIGhpbGln
aHRlZCB3b3JkLiAgSSB0aGluayB3ZSBjYW4gcmUtaW5kZXgKLy8gYWxsIHdvcmRz
IGF0IHJlcGxhY2VtZW50IG9yIGlnbm9yZSB0aW1lIHRvIGhhdmUgaXQgd3JhcCB0
byB0aGUgYmVnaW5uaW5nIGlmIHdlIHdhbnQKLy8gdG8uCi8vCmZ1bmN0aW9uIHJl
cGxhY2VBbGwoKSB7CiAgIHZhciBmcm0gPSBkb2N1bWVudC5mbTE7CiAgIHZhciBz
dHJzdGFydCA9ICcnOwogICB2YXIgc3RyZW5kOwogICB2YXIgaWR4OwogICB2YXIg
b3JpZ3dvcmQ7CiAgIHZhciBsb2NhbG9mZnNldGluZGV4ID0gb2Zmc2V0aW5kZXg7
CgogICBvcmlnd29yZCA9IG1pc3BzWyB3b3JkaW5kZXggXS53b3JkOwoKICAgLy8g
cmVpbmRleCBldmVyeXRoaW5nIHBhc3QgdGhlIGN1cnJlbnQgd29yZAogICBmb3Ig
KGlkeCA9IHdvcmRpbmRleDsgaWR4IDwgbWlzcHMubGVuZ3RoOyBpZHgrKykgewog
ICAgICBtaXNwc1sgaWR4IF0uc3RhcnQgKz0gbG9jYWxvZmZzZXRpbmRleDsKICAg
ICAgbWlzcHNbIGlkeCBdLmVuZCArPSBsb2NhbG9mZnNldGluZGV4OwogICB9Cgog
ICAvLyB0ZXN0aW5nCiAgIGxvY2Fsb2Zmc2V0aW5kZXggPSAwOwoKICAgZm9yIChp
ZHggPSAwOyBpZHggPCBtaXNwcy5sZW5ndGg7IGlkeCsrKSB7CgogICAgICBpZiAo
bWlzcHNbIGlkeCBdLndvcmQgPT0gb3JpZ3dvcmQpIHsKICAgICAgICAgaWYgKCBt
aXNwc1sgaWR4IF0uc3RhcnQgIT0gMCApCiAgICAgICAgICAgIHN0cnN0YXJ0ID0g
bWlzcHN0ci5zbGljZSggMCwgbWlzcHNbIGlkeCBdLnN0YXJ0ICsgbG9jYWxvZmZz
ZXRpbmRleCk7CiAgIAogICAKICAgICAgICAgLy8gZ2V0IHRoZSBlbmQgb2YgdGhl
IHN0cmluZyBhZnRlciB0aGUgd29yZCB3ZSBhcmUgcmVwbGFjaW5nCiAgICAgICAg
IHN0cmVuZCA9IG1pc3BzdHIuc2xpY2UoIG1pc3BzWyBpZHggXS5lbmQgKyAxICsg
bG9jYWxvZmZzZXRpbmRleCk7CiAgICAgICAgCiAgICAgICAgIC8vIHJlYnVpbGQg
dGhlIHN0cmluZyB3aXRoIHRoZSBuZXcgd29yZAogICAgICAgICBtaXNwc3RyID0g
c3Ryc3RhcnQgKyAgZnJtLmNoYW5nZXRvLnZhbHVlICArIHN0cmVuZDsKICAgICAg
CiAgICAgICAgIC8vIHVwZGF0ZSBvZmZzZXRpbmRleCB0byBjb21wZW5zYXRlIGZv
ciByZXBsYWNpbmcgYSB3b3JkIHdpdGggYSB3b3JkCiAgICAgICAgIC8vIG9mIGEg
ZGlmZmVyZW50IGxlbmd0aC4KICAgICAgICAgbG9jYWxvZmZzZXRpbmRleCArPSBm
cm0uY2hhbmdldG8udmFsdWUubGVuZ3RoIC0gbWlzcHNbIGlkeCBdLndvcmQubGVu
Z3RoOwoKICAgICAgfQogICAgICAvLyB3ZSBoYXZlIHRvIHJlLWluZGV4IGV2ZXJ5
dGhpbmcgYWZ0ZXIgcmVwbGFjZW1lbnRzCiAgICAgIG1pc3BzWyBpZHggXS5zdGFy
dCArPSBsb2NhbG9mZnNldGluZGV4OwogICAgICBtaXNwc1sgaWR4IF0uZW5kICs9
IGxvY2Fsb2Zmc2V0aW5kZXg7CiAgIH0KCiAgIC8vIGFkZCB0aGUgd29yZCB0byB0
aGUgaWdub3JlIGFycmF5CiAgIGlnbm9yZWRXb3Jkc1sgb3JpZ3dvcmQgXSA9IDE7
CgogICAvLyByZXNldCBvZmZzZXRpbmRleCBzaW5jZSB3ZSByZWluZGV4ZWQKICAg
b2Zmc2V0aW5kZXggPSAwOwoKICAgbmV4dFdvcmQoZmFsc2UpOwp9CgovLyBoaWxp
Z2h0IHRoZSB3b3JkIHRoYXQgd2FzIHNlbGVjdGVkIHVzaW5nIHRoZSBuZXh0V29y
ZCBmdW5jdGlvbgovLwpmdW5jdGlvbiBoaWxpZ2h0V29yZCgpIHsKICAgdmFyIHN0
cnN0YXJ0ID0gJyc7CiAgIHZhciBzdHJlbmQ7CgogICAvLyBpZiB0aGlzIGlzbid0
IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyB0aGVuIGdldCBhbGwgb2YgdGhl
IHN0cmluZwogICAvLyB0aGF0IGlzIGJlZm9yZSB0aGUgd29yZCB3ZSBhcmUgcmVw
bGFjaW5nCgogICBpZiAoIG1pc3BzWyB3b3JkaW5kZXggXS5zdGFydCAhPSAwICkK
ICAgICAgIHN0cnN0YXJ0ID0gbWlzcHN0ci5zbGljZSggMCwgbWlzcHNbIHdvcmRp
bmRleCBdLnN0YXJ0ICsgb2Zmc2V0aW5kZXgpOwoKICAgLy8gZ2V0IHRoZSBlbmQg
b2YgdGhlIHN0cmluZyBhZnRlciB0aGUgd29yZCB3ZSBhcmUgcmVwbGFjaW5nCgog
ICBzdHJlbmQgPSBtaXNwc3RyLnNsaWNlKCBtaXNwc1sgd29yZGluZGV4IF0uZW5k
ICsgMSArIG9mZnNldGluZGV4KTsKCiAgIC8vIHJlYnVpbGQgdGhlIHN0cmluZyB3
aXRoIGEgc3BhbiB3cmFwcGVkIGFyb3VuZCB0aGUgbWlzc3BlbGxlZCB3b3JkIAog
ICAvLyBzbyB3ZSBjYW4gaGlsaWdodCBpdCBpbiB0aGUgZGl2IHRoZSB1c2VyIGlz
IHZpZXdpbmcgdGhlIHN0cmluZyBpbgoKCiAgIC8vdmFyIGRpdnB0ciA9IGRvY3Vt
ZW50LmdldEVsZW1lbnRCeUlkKCJzdHJ2aWV3Iik7CiAgIHZhciBkaXZwdHIgPSBp
RnJhbWVCb2R5OwoKICAgZGl2cHRyLmlubmVySFRNTCA9ICcnOwogICBkaXZwdHIu
aW5uZXJIVE1MID0gc3Ryc3RhcnQ7CgogICBkaXZwdHIuaW5uZXJIVE1MICs9ICAi
PHNwYW4gY2xhc3M9J2hpbGlnaHQnIGlkPSdoMSc+IiArIG1pc3BzWyB3b3JkaW5k
ZXggXS53b3JkICsgIjwvc3Bhbj4iICsgaHRtbFRvVGV4dChzdHJlbmQpOwogICAK
ICAgLy9pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImgxIikuc2Nyb2xsSW50
b1ZpZXcpCiAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImgxIikuc2Ny
b2xsSW50b1ZpZXcoKTsKCiAgIGRpdnB0ci5pbm5lckhUTUwgPSBkaXZwdHIuaW5u
ZXJIVE1MLnJlcGxhY2UoL19cfF8vZywgIjxicj4iKTsKfQoKCi8vIGNhbGxlZCBi
eSBvbkxvYWQgaGFuZGxlciB0byBzdGFydCB0aGUgcHJvY2VzcyBvZiBldmFsdWF0
aW5nIG1pc3NwZWxsZWQKLy8gd29yZHMKLy8KZnVuY3Rpb24gc3RhcnRzcCgpIHsK
ICAgbmV4dFdvcmQoZmFsc2UpOwp9CgpmdW5jdGlvbiBnZXRDb3JyZWN0ZWRUZXh0
KCkgewogICByZXR1cm4gbWlzcHN0cjsKfQoKLy8gZGlzcGxheSB0aGUgbmV4dCBt
aXNzcGVsbGVkIHdvcmQgdG8gdGhlIHVzZXIgYW5kIHBvcHVsYXRlIHRoZSBzdWdn
ZXN0ZWQKLy8gc3BlbGxpbmdzIGJveAovLwpmdW5jdGlvbiBkb25lU3BlbGxpbmco
KQp7CiBhbGxkb25lPTE7CiBuZXh0V29yZCh0cnVlKTsKfQpmdW5jdGlvbiBuZXh0
V29yZChpZ25vcmVhbGwpIHsKICAgdmFyIGZybSA9IGRvY3VtZW50LmZtMTsKICAg
dmFyIHN1ZyA9IGRvY3VtZW50LmZtMS5zdWdnZXN0aW9uczsKICAgdmFyIHN1Z2lk
eCA9IDA7CiAgIHZhciBuZXdvcHQ7CiAgIHZhciBpc3NlbGVjdGVkID0gMDsKCiAg
IC8vIHB1c2ggaWdub3JlZCB3b3JkIG9udG8gaW5nb3JlZFdvcmRzIGFycmF5CiAg
IGlmIChpZ25vcmVhbGwpCiAgICAgIGlnbm9yZWRXb3Jkc1sgbWlzcHNbIHdvcmRp
bmRleCBdLndvcmQgXSA9IDE7CgogICAvLyB1cGRhdGUgdGhlIGluZGV4IG9mIGFs
bCB3b3JkcyB3ZSBoYXZlIHByb2Nlc3NlZAogICAvLyBUaGlzIG11c3QgYmUgZG9u
ZSB0byBhY2NvbW9kYXRlIHRoZSByZXBsYWNlQWxsIGZ1bmN0aW9uLgogICBpZiAo
d29yZGluZGV4ID49IDApIHsKICAgICAgbWlzcHNbIHdvcmRpbmRleCBdLnN0YXJ0
ICs9IG9mZnNldGluZGV4OwogICAgICBtaXNwc1sgd29yZGluZGV4IF0uZW5kICs9
IG9mZnNldGluZGV4OwogICB9CgogICAvLyBpbmNyZW1lbnQgdGhlIGNvdW50ZXIg
Zm9yIHRoZSBhcnJheSBvZiBtaXNzcGVsbGVkIHdvcmRzCiAgIHdvcmRpbmRleCsr
OwoKIAoKICAgLy8gZHJhdyBpdCBhbmQgcXVpdCBpZiB0aGVyZSBhcmUgbm8gbW9y
ZSBtaXNzcGVsbGVkIHdvcmRzIHRvIGV2YWx1YXRlCiAgIGlmIChtaXNwcy5sZW5n
dGggPD0gd29yZGluZGV4IHx8IGFsbGRvbmUpIHsKICAgICAgaUZyYW1lQm9keS5p
bm5lckhUTUwgPSBtaXNwc3RyOwogICAgICBpRnJhbWVCb2R5LmlubmVySFRNTCA9
IGlGcmFtZUJvZHkuaW5uZXJIVE1MLnJlcGxhY2UoL19cfF8vZywgIjxicj4iKTsK
ICAgICAgCiAgICAgIGNsZWFyQm94KCBzdWcgKTsKICAgICAgYWxlcnQoJ1NwZWxs
IGNoZWNraW5nIGNvbXBsZXRlLicpOwogICAgICBmcm0uY2hhbmdlLmRpc2FibGVk
ID0gdHJ1ZTsKICAgICAgZnJtLmNoYW5nZWFsbC5kaXNhYmxlZCA9IHRydWU7CiAg
ICAgIGZybS5pZ25vcmUuZGlzYWJsZWQgPSB0cnVlOwogICAgICBmcm0uaWdub3Jl
YWxsLmRpc2FibGVkID0gdHJ1ZTsKCiAgICAgIC8vIHB1dCBsaW5lIGZlZWRzIGJh
Y2sKICAgICAgbWlzcHN0ciA9IG1pc3BzdHIucmVwbGFjZSgvX1x8Xy9nLCAiXG4i
KTsKCiAgICAgIC8vIGdldCBhIGhhbmRsZSB0byB0aGUgZmllbGQgd2UgbmVlZCB0
byByZS1wb3B1bGF0ZQogICAgICB3aW5kb3cub3BlbmVyLmRvY3VtZW50LmZvcm1z
W3NwZWxsX2Zvcm1uYW1lXVtzcGVsbF9maWVsZG5hbWVdLnZhbHVlID0gbWlzcHN0
cjsKICAgICAgd2luZG93LmNsb3NlKCk7CiAgICAgIHJldHVybiB0cnVlOwogICB9
CgoKICAgLy8gY2hlY2sgdG8gc2VlIGlmIHdvcmQgaXMgc3VwcG9zZWQgdG8gYmUg
aWdub3JlZAogICBpZiAoaWdub3JlZFdvcmRzWyBtaXNwc1sgd29yZGluZGV4IF0u
d29yZCBdID09IDEpIHsKICAgICAgIG5leHRXb3JkKGZhbHNlKTsKICAgICAgIHJl
dHVybjsKICAgfQoKICAgLy8gY2xlYXIgb3V0IHRoZSBzdWdnZXN0aW9ucyBib3gK
ICAgY2xlYXJCb3goIHN1ZyApOwoKICAgLy8gcmUtcG9wdWxhdGUgdGhlIHN1Z2dl
c3Rpb25zIGJveCBpZiB0aGVyZSBhcmUgYW55IHN1Z2dlc3RlZCBzcGVsbGluZ3Mg
Zm9yIHRoZSB3b3JkCiAgIGlmIChtaXNwc1sgd29yZGluZGV4IF0uc3VnZ2VzdGlv
bnMubGVuZ3RoKSB7CiAgICAgIGZvciAoc3VnaWR4ID0gMDsgc3VnaWR4IDwgbWlz
cHNbIHdvcmRpbmRleCBdLnN1Z2dlc3Rpb25zLmxlbmd0aDsgc3VnaWR4KyspIHsK
ICAgICAgICAgaWYgKHN1Z2lkeCA9PSAwKQogICAgICAgICAgICBpc3NlbGVjdGVk
ID0gMTsKICAgICAgICAgZWxzZQogICAgICAgICAgICBpc3NlbGVjdGVkID0gMDsK
ICAgICAgICAgbmV3b3B0ID0gbmV3IE9wdGlvbihtaXNwc1sgd29yZGluZGV4IF0u
c3VnZ2VzdGlvbnNbc3VnaWR4XSwgbWlzcHNbIHdvcmRpbmRleCBdLnN1Z2dlc3Rp
b25zW3N1Z2lkeF0sIDAsIGlzc2VsZWN0ZWQpOyAKICAgICAgICAgc3VnLm9wdGlv
bnNbIHN1Z2lkeCBdID0gbmV3b3B0OwoKICAgICAgICAgaWYgKGlzc2VsZWN0ZWQp
IHsKICAgICAgICAgICAgZnJtLmNoYW5nZXRvLnZhbHVlID0gbWlzcHNbIHdvcmRp
bmRleCBdLnN1Z2dlc3Rpb25zW3N1Z2lkeF07CiAgICAgICAgICAgIGZybS5jaGFu
Z2V0by5zZWxlY3QoKTsKICAgICAgICAgfQogICAgICB9CiAgIH0KICAgaGlsaWdo
dFdvcmQoKTsKfQoKZnVuY3Rpb24gaHRtbFRvVGV4dCh0aGV0ZXh0KSB7CiAgIC8v
IGRpc2FibGUgZm9yIG5vdwogICByZXR1cm4gdGhldGV4dDsKCiAgIHZhciByZSA9
IC9cPC9nOwogICB2YXIgcmUyID0gL1w+L2c7CiAgIHZhciByZTMgPSAvXG4vZzsK
ICAgdmFyIHJlNCA9IC9cIC9nOwogICAKICAgdGhldGV4dCA9IHRoZXRleHQucmVw
bGFjZShyZSwgIiZsdDsiKTsgICAgICAgICAgICAgICAgICAgICAgICAgIAogICB0
aGV0ZXh0ID0gdGhldGV4dC5yZXBsYWNlKHJlMiwgIiZndDsiKTsKICAgdGhldGV4
dCA9IHRoZXRleHQucmVwbGFjZShyZTMsICI8YnI+Iik7CiAgIHRoZXRleHQgPSB0
aGV0ZXh0LnJlcGxhY2UocmU0LCAiJm5ic3A7Iik7CgogICByZXR1cm4gdGhldGV4
dDsKfQoKLy8gcmVtb3ZlIGFsbCBpdGVtcyBmcm9tIHRoZSBzdWdnZXN0ZWQgc3Bl
bGxpbmcgYm94Ci8vIApmdW5jdGlvbiBjbGVhckJveCggYm94ICkgewogIHZhciBs
ZW5ndGggPSBib3gubGVuZ3RoOwoKICAvLyBkZWxldGUgb2xkIG9wdGlvbnMgLS0g
cmVtZW1lYmVyIHRoYXQgc2VsZWN0CiAgLy8gICAgICAgICAgICAgICAgICAgICAg
IGJveGVzIGF1dG9tYXRpY2FsbHkgcmUtaW5kZXgKICBmb3IgKGkgPSAwOyBpIDwg
bGVuZ3RoOyBpKyspIHsKICAgICBib3gub3B0aW9uc1swXSA9IG51bGw7CiAgfQp9
CgpmdW5jdGlvbiBvcGVuU3BlbGxXaW4od2lkdGgsIGhlaWdodCkgewogIHdpbmRv
dy5vcGVuKCIiLCAic3BlbGxXaW5kb3ciLCAndG9vbGJhcj1ubyxsb2NhdGlvbj1u
byxkaXJlY3Rvcmllcz1ubyxzdGF0dXM9bm8sbWVudWJhcj1ubyxzY3JvbGxiYXJz
PWF1dG8scmVzaXphYmxlPXllcyx3aWR0aD0nK3dpZHRoKycsaGVpZ2h0PScraGVp
Z2h0KydcJycpOwp9CgovLyB3aWxsIHBhdXNlIGZvciB0aGUgZ2l2ZW4gYW1vdW50
IGluIG1pbGlzZWNvbmRzCi8vCmZ1bmN0aW9uIHBhdXNlY29tcChBbW91bnQpCnsK
ICBkID0gbmV3IERhdGUoKSAvL3RvZGF5J3MgZGF0ZQogIHdoaWxlICgxKQogIHsK
ICAgIG1pbGw9bmV3IERhdGUoKSAvLyBEYXRlIE5vdwogICAgZGlmZiA9IG1pbGwt
ZCAvL2RpZmZlcmVuY2UgaW4gbWlsbGlzZWNvbmRzCiAgICBpZiggZGlmZiA+IEFt
b3VudCApIHticmVhazt9CiAgfQp9Cg==

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=prototype.js
Content-Type: application/x-javascript; charset=utf-8; name=prototype.js
Content-Location: http://compbiol.plosjms.org/html/prototype.js
Content-Transfer-Encoding: Base64

LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjYu
MC4zCiAqICAoYykgMjAwNS0yMDA4IFNhbSBTdGVwaGVuc29uCiAqCiAqICBQcm90
b3R5cGUgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIHRlcm1zIG9m
IGFuIE1JVC1zdHlsZSBsaWNlbnNlLgogKiAgRm9yIGRldGFpbHMsIHNlZSB0aGUg
UHJvdG90eXBlIHdlYiBzaXRlOiBodHRwOi8vd3d3LnByb3RvdHlwZWpzLm9yZy8K
ICoKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIgUHJvdG90eXBl
ID0gewogIFZlcnNpb246ICcxLjYuMC4zJywKCiAgQnJvd3NlcjogewogICAgSUU6
ICAgICAhISh3aW5kb3cuYXR0YWNoRXZlbnQgJiYKICAgICAgbmF2aWdhdG9yLnVz
ZXJBZ2VudC5pbmRleE9mKCdPcGVyYScpID09PSAtMSksCiAgICBPcGVyYTogIG5h
dmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignT3BlcmEnKSA+IC0xLAogICAgV2Vi
S2l0OiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FwcGxlV2ViS2l0Lycp
ID4gLTEsCiAgICBHZWNrbzogIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZign
R2Vja28nKSA+IC0xICYmCiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhP
ZignS0hUTUwnKSA9PT0gLTEsCiAgICBNb2JpbGVTYWZhcmk6ICEhbmF2aWdhdG9y
LnVzZXJBZ2VudC5tYXRjaCgvQXBwbGUuKk1vYmlsZS4qU2FmYXJpLykKICB9LAoK
ICBCcm93c2VyRmVhdHVyZXM6IHsKICAgIFhQYXRoOiAhIWRvY3VtZW50LmV2YWx1
YXRlLAogICAgU2VsZWN0b3JzQVBJOiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Is
CiAgICBFbGVtZW50RXh0ZW5zaW9uczogISF3aW5kb3cuSFRNTEVsZW1lbnQsCiAg
ICBTcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zOgogICAgICBkb2N1bWVudC5jcmVh
dGVFbGVtZW50KCdkaXYnKVsnX19wcm90b19fJ10gJiYKICAgICAgZG9jdW1lbnQu
Y3JlYXRlRWxlbWVudCgnZGl2JylbJ19fcHJvdG9fXyddICE9PQogICAgICAgIGRv
Y3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVsnX19wcm90b19fJ10KICB9LAoK
ICBTY3JpcHRGcmFnbWVudDogJzxzY3JpcHRbXj5dKj4oW1xcU1xcc10qPyk8XC9z
Y3JpcHQ+JywKICBKU09ORmlsdGVyOiAvXlwvXCotc2VjdXJlLShbXHNcU10qKVwq
XC9ccyokLywKCiAgZW1wdHlGdW5jdGlvbjogZnVuY3Rpb24oKSB7IH0sCiAgSzog
ZnVuY3Rpb24oeCkgeyByZXR1cm4geCB9Cn07CgppZiAoUHJvdG90eXBlLkJyb3dz
ZXIuTW9iaWxlU2FmYXJpKQogIFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuU3Bl
Y2lmaWNFbGVtZW50RXh0ZW5zaW9ucyA9IGZhbHNlOwoKCi8qIEJhc2VkIG9uIEFs
ZXggQXJuZWxsJ3MgaW5oZXJpdGFuY2UgaW1wbGVtZW50YXRpb24uICovCnZhciBD
bGFzcyA9IHsKICBjcmVhdGU6IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhcmVudCA9
IG51bGwsIHByb3BlcnRpZXMgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKE9iamVj
dC5pc0Z1bmN0aW9uKHByb3BlcnRpZXNbMF0pKQogICAgICBwYXJlbnQgPSBwcm9w
ZXJ0aWVzLnNoaWZ0KCk7CgogICAgZnVuY3Rpb24ga2xhc3MoKSB7CiAgICAgIHRo
aXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAg
IE9iamVjdC5leHRlbmQoa2xhc3MsIENsYXNzLk1ldGhvZHMpOwogICAga2xhc3Mu
c3VwZXJjbGFzcyA9IHBhcmVudDsKICAgIGtsYXNzLnN1YmNsYXNzZXMgPSBbXTsK
CiAgICBpZiAocGFyZW50KSB7CiAgICAgIHZhciBzdWJjbGFzcyA9IGZ1bmN0aW9u
KCkgeyB9OwogICAgICBzdWJjbGFzcy5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90
eXBlOwogICAgICBrbGFzcy5wcm90b3R5cGUgPSBuZXcgc3ViY2xhc3M7CiAgICAg
IHBhcmVudC5zdWJjbGFzc2VzLnB1c2goa2xhc3MpOwogICAgfQoKICAgIGZvciAo
dmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykKICAgICAga2xh
c3MuYWRkTWV0aG9kcyhwcm9wZXJ0aWVzW2ldKTsKCiAgICBpZiAoIWtsYXNzLnBy
b3RvdHlwZS5pbml0aWFsaXplKQogICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlh
bGl6ZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwoKICAgIGtsYXNzLnByb3Rv
dHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzOwoKICAgIHJldHVybiBrbGFzczsKICB9
Cn07CgpDbGFzcy5NZXRob2RzID0gewogIGFkZE1ldGhvZHM6IGZ1bmN0aW9uKHNv
dXJjZSkgewogICAgdmFyIGFuY2VzdG9yICAgPSB0aGlzLnN1cGVyY2xhc3MgJiYg
dGhpcy5zdXBlcmNsYXNzLnByb3RvdHlwZTsKICAgIHZhciBwcm9wZXJ0aWVzID0g
T2JqZWN0LmtleXMoc291cmNlKTsKCiAgICBpZiAoIU9iamVjdC5rZXlzKHsgdG9T
dHJpbmc6IHRydWUgfSkubGVuZ3RoKQogICAgICBwcm9wZXJ0aWVzLnB1c2goInRv
U3RyaW5nIiwgInZhbHVlT2YiKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3Ro
ID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2
YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldLCB2YWx1ZSA9IHNvdXJjZVtwcm9w
ZXJ0eV07CiAgICAgIGlmIChhbmNlc3RvciAmJiBPYmplY3QuaXNGdW5jdGlvbih2
YWx1ZSkgJiYKICAgICAgICAgIHZhbHVlLmFyZ3VtZW50TmFtZXMoKS5maXJzdCgp
ID09ICIkc3VwZXIiKSB7CiAgICAgICAgdmFyIG1ldGhvZCA9IHZhbHVlOwogICAg
ICAgIHZhbHVlID0gKGZ1bmN0aW9uKG0pIHsKICAgICAgICAgIHJldHVybiBmdW5j
dGlvbigpIHsgcmV0dXJuIGFuY2VzdG9yW21dLmFwcGx5KHRoaXMsIGFyZ3VtZW50
cykgfTsKICAgICAgICB9KShwcm9wZXJ0eSkud3JhcChtZXRob2QpOwoKICAgICAg
ICB2YWx1ZS52YWx1ZU9mID0gbWV0aG9kLnZhbHVlT2YuYmluZChtZXRob2QpOwog
ICAgICAgIHZhbHVlLnRvU3RyaW5nID0gbWV0aG9kLnRvU3RyaW5nLmJpbmQobWV0
aG9kKTsKICAgICAgfQogICAgICB0aGlzLnByb3RvdHlwZVtwcm9wZXJ0eV0gPSB2
YWx1ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9Cn07Cgp2YXIgQWJzdHJh
Y3QgPSB7IH07CgpPYmplY3QuZXh0ZW5kID0gZnVuY3Rpb24oZGVzdGluYXRpb24s
IHNvdXJjZSkgewogIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkKICAgIGRl
c3RpbmF0aW9uW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07CiAgcmV0dXJu
IGRlc3RpbmF0aW9uOwp9OwoKT2JqZWN0LmV4dGVuZChPYmplY3QsIHsKICBpbnNw
ZWN0OiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHRyeSB7CiAgICAgIGlmIChPYmpl
Y3QuaXNVbmRlZmluZWQob2JqZWN0KSkgcmV0dXJuICd1bmRlZmluZWQnOwogICAg
ICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gJ251bGwnOwogICAgICByZXR1
cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5zcGVjdCgpIDogU3RyaW5nKG9i
amVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlIGluc3RhbmNlb2Yg
UmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwogICAgICB0aHJvdyBlOwogICAgfQog
IH0sCgogIHRvSlNPTjogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICB2YXIgdHlwZSA9
IHR5cGVvZiBvYmplY3Q7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAn
dW5kZWZpbmVkJzoKICAgICAgY2FzZSAnZnVuY3Rpb24nOgogICAgICBjYXNlICd1
bmtub3duJzogcmV0dXJuOwogICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuIG9i
amVjdC50b1N0cmluZygpOwogICAgfQoKICAgIGlmIChvYmplY3QgPT09IG51bGwp
IHJldHVybiAnbnVsbCc7CiAgICBpZiAob2JqZWN0LnRvSlNPTikgcmV0dXJuIG9i
amVjdC50b0pTT04oKTsKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KG9iamVjdCkp
IHJldHVybjsKCiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJv
cGVydHkgaW4gb2JqZWN0KSB7CiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC50b0pT
T04ob2JqZWN0W3Byb3BlcnR5XSk7CiAgICAgIGlmICghT2JqZWN0LmlzVW5kZWZp
bmVkKHZhbHVlKSkKICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkudG9KU09O
KCkgKyAnOiAnICsgdmFsdWUpOwogICAgfQoKICAgIHJldHVybiAneycgKyByZXN1
bHRzLmpvaW4oJywgJykgKyAnfSc7CiAgfSwKCiAgdG9RdWVyeVN0cmluZzogZnVu
Y3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gJEgob2JqZWN0KS50b1F1ZXJ5U3Ry
aW5nKCk7CiAgfSwKCiAgdG9IVE1MOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHJl
dHVybiBvYmplY3QgJiYgb2JqZWN0LnRvSFRNTCA/IG9iamVjdC50b0hUTUwoKSA6
IFN0cmluZy5pbnRlcnByZXQob2JqZWN0KTsKICB9LAoKICBrZXlzOiBmdW5jdGlv
bihvYmplY3QpIHsKICAgIHZhciBrZXlzID0gW107CiAgICBmb3IgKHZhciBwcm9w
ZXJ0eSBpbiBvYmplY3QpCiAgICAgIGtleXMucHVzaChwcm9wZXJ0eSk7CiAgICBy
ZXR1cm4ga2V5czsKICB9LAoKICB2YWx1ZXM6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgdmFyIHZhbHVlcyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2Jq
ZWN0KQogICAgICB2YWx1ZXMucHVzaChvYmplY3RbcHJvcGVydHldKTsKICAgIHJl
dHVybiB2YWx1ZXM7CiAgfSwKCiAgY2xvbmU6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgcmV0dXJuIE9iamVjdC5leHRlbmQoeyB9LCBvYmplY3QpOwogIH0sCgogIGlz
RWxlbWVudDogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gISEob2JqZWN0
ICYmIG9iamVjdC5ub2RlVHlwZSA9PSAxKTsKICB9LAoKICBpc0FycmF5OiBmdW5j
dGlvbihvYmplY3QpIHsKICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBl
b2Ygb2JqZWN0ID09ICJvYmplY3QiICYmCiAgICAgICdzcGxpY2UnIGluIG9iamVj
dCAmJiAnam9pbicgaW4gb2JqZWN0OwogIH0sCgogIGlzSGFzaDogZnVuY3Rpb24o
b2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSGFzaDsKICB9
LAoKICBpc0Z1bmN0aW9uOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHJldHVybiB0
eXBlb2Ygb2JqZWN0ID09ICJmdW5jdGlvbiI7CiAgfSwKCiAgaXNTdHJpbmc6IGZ1
bmN0aW9uKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT0gInN0
cmluZyI7CiAgfSwKCiAgaXNOdW1iZXI6IGZ1bmN0aW9uKG9iamVjdCkgewogICAg
cmV0dXJuIHR5cGVvZiBvYmplY3QgPT0gIm51bWJlciI7CiAgfSwKCiAgaXNVbmRl
ZmluZWQ6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmpl
Y3QgPT0gInVuZGVmaW5lZCI7CiAgfQp9KTsKCk9iamVjdC5leHRlbmQoRnVuY3Rp
b24ucHJvdG90eXBlLCB7CiAgYXJndW1lbnROYW1lczogZnVuY3Rpb24oKSB7CiAg
ICB2YXIgbmFtZXMgPSB0aGlzLnRvU3RyaW5nKCkubWF0Y2goL15bXHNcKF0qZnVu
Y3Rpb25bXihdKlwoKFteXCldKilcKS8pWzFdCiAgICAgIC5yZXBsYWNlKC9ccysv
ZywgJycpLnNwbGl0KCcsJyk7CiAgICByZXR1cm4gbmFtZXMubGVuZ3RoID09IDEg
JiYgIW5hbWVzWzBdID8gW10gOiBuYW1lczsKICB9LAoKICBiaW5kOiBmdW5jdGlv
bigpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiBPYmplY3QuaXNV
bmRlZmluZWQoYXJndW1lbnRzWzBdKSkgcmV0dXJuIHRoaXM7CiAgICB2YXIgX19t
ZXRob2QgPSB0aGlzLCBhcmdzID0gJEEoYXJndW1lbnRzKSwgb2JqZWN0ID0gYXJn
cy5zaGlmdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4g
X19tZXRob2QuYXBwbHkob2JqZWN0LCBhcmdzLmNvbmNhdCgkQShhcmd1bWVudHMp
KSk7CiAgICB9CiAgfSwKCiAgYmluZEFzRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24o
KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gJEEoYXJndW1lbnRz
KSwgb2JqZWN0ID0gYXJncy5zaGlmdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKGV2
ZW50KSB7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShvYmplY3QsIFtldmVu
dCB8fCB3aW5kb3cuZXZlbnRdLmNvbmNhdChhcmdzKSk7CiAgICB9CiAgfSwKCiAg
Y3Vycnk6IGZ1bmN0aW9uKCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSBy
ZXR1cm4gdGhpczsKICAgIHZhciBfX21ldGhvZCA9IHRoaXMsIGFyZ3MgPSAkQShh
cmd1bWVudHMpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4g
X19tZXRob2QuYXBwbHkodGhpcywgYXJncy5jb25jYXQoJEEoYXJndW1lbnRzKSkp
OwogICAgfQogIH0sCgogIGRlbGF5OiBmdW5jdGlvbigpIHsKICAgIHZhciBfX21l
dGhvZCA9IHRoaXMsIGFyZ3MgPSAkQShhcmd1bWVudHMpLCB0aW1lb3V0ID0gYXJn
cy5zaGlmdCgpICogMTAwMDsKICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChm
dW5jdGlvbigpIHsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KF9fbWV0aG9k
LCBhcmdzKTsKICAgIH0sIHRpbWVvdXQpOwogIH0sCgogIGRlZmVyOiBmdW5jdGlv
bigpIHsKICAgIHZhciBhcmdzID0gWzAuMDFdLmNvbmNhdCgkQShhcmd1bWVudHMp
KTsKICAgIHJldHVybiB0aGlzLmRlbGF5LmFwcGx5KHRoaXMsIGFyZ3MpOwogIH0s
CgogIHdyYXA6IGZ1bmN0aW9uKHdyYXBwZXIpIHsKICAgIHZhciBfX21ldGhvZCA9
IHRoaXM7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB3cmFw
cGVyLmFwcGx5KHRoaXMsIFtfX21ldGhvZC5iaW5kKHRoaXMpXS5jb25jYXQoJEEo
YXJndW1lbnRzKSkpOwogICAgfQogIH0sCgogIG1ldGhvZGl6ZTogZnVuY3Rpb24o
KSB7CiAgICBpZiAodGhpcy5fbWV0aG9kaXplZCkgcmV0dXJuIHRoaXMuX21ldGhv
ZGl6ZWQ7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzOwogICAgcmV0dXJuIHRoaXMu
X21ldGhvZGl6ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIF9fbWV0aG9k
LmFwcGx5KG51bGwsIFt0aGlzXS5jb25jYXQoJEEoYXJndW1lbnRzKSkpOwogICAg
fTsKICB9Cn0pOwoKRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7
CiAgcmV0dXJuICciJyArIHRoaXMuZ2V0VVRDRnVsbFllYXIoKSArICctJyArCiAg
ICAodGhpcy5nZXRVVENNb250aCgpICsgMSkudG9QYWRkZWRTdHJpbmcoMikgKyAn
LScgKwogICAgdGhpcy5nZXRVVENEYXRlKCkudG9QYWRkZWRTdHJpbmcoMikgKyAn
VCcgKwogICAgdGhpcy5nZXRVVENIb3VycygpLnRvUGFkZGVkU3RyaW5nKDIpICsg
JzonICsKICAgIHRoaXMuZ2V0VVRDTWludXRlcygpLnRvUGFkZGVkU3RyaW5nKDIp
ICsgJzonICsKICAgIHRoaXMuZ2V0VVRDU2Vjb25kcygpLnRvUGFkZGVkU3RyaW5n
KDIpICsgJ1oiJzsKfTsKCnZhciBUcnkgPSB7CiAgdGhlc2U6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHJldHVyblZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5n
dGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAg
dmFyIGxhbWJkYSA9IGFyZ3VtZW50c1tpXTsKICAgICAgdHJ5IHsKICAgICAgICBy
ZXR1cm5WYWx1ZSA9IGxhbWJkYSgpOwogICAgICAgIGJyZWFrOwogICAgICB9IGNh
dGNoIChlKSB7IH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgfQp9
OwoKUmVnRXhwLnByb3RvdHlwZS5tYXRjaCA9IFJlZ0V4cC5wcm90b3R5cGUudGVz
dDsKClJlZ0V4cC5lc2NhcGUgPSBmdW5jdGlvbihzdHIpIHsKICByZXR1cm4gU3Ry
aW5nKHN0cikucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAn
XFwkMScpOwp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIg
UGVyaW9kaWNhbEV4ZWN1dGVyID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0aWFsaXpl
OiBmdW5jdGlvbihjYWxsYmFjaywgZnJlcXVlbmN5KSB7CiAgICB0aGlzLmNhbGxi
YWNrID0gY2FsbGJhY2s7CiAgICB0aGlzLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsK
ICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CgogICAgdGhpcy5y
ZWdpc3RlckNhbGxiYWNrKCk7CiAgfSwKCiAgcmVnaXN0ZXJDYWxsYmFjazogZnVu
Y3Rpb24oKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vblRp
bWVyRXZlbnQuYmluZCh0aGlzKSwgdGhpcy5mcmVxdWVuY3kgKiAxMDAwKTsKICB9
LAoKICBleGVjdXRlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuY2FsbGJhY2sodGhp
cyk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICBpZiAoIXRoaXMudGlt
ZXIpIHJldHVybjsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB0
aGlzLnRpbWVyID0gbnVsbDsKICB9LAoKICBvblRpbWVyRXZlbnQ6IGZ1bmN0aW9u
KCkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRseUV4ZWN1dGluZykgewogICAgICB0
cnkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gdHJ1ZTsKICAg
ICAgICB0aGlzLmV4ZWN1dGUoKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0
aGlzLmN1cnJlbnRseUV4ZWN1dGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAg
fQp9KTsKT2JqZWN0LmV4dGVuZChTdHJpbmcsIHsKICBpbnRlcnByZXQ6IGZ1bmN0
aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogU3Ry
aW5nKHZhbHVlKTsKICB9LAogIHNwZWNpYWxDaGFyOiB7CiAgICAnXGInOiAnXFxi
JywKICAgICdcdCc6ICdcXHQnLAogICAgJ1xuJzogJ1xcbicsCiAgICAnXGYnOiAn
XFxmJywKICAgICdccic6ICdcXHInLAogICAgJ1xcJzogJ1xcXFwnCiAgfQp9KTsK
Ck9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZSwgewogIGdzdWI6IGZ1bmN0
aW9uKHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJycs
IHNvdXJjZSA9IHRoaXMsIG1hdGNoOwogICAgcmVwbGFjZW1lbnQgPSBhcmd1bWVu
dHMuY2FsbGVlLnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CgogICAg
d2hpbGUgKHNvdXJjZS5sZW5ndGggPiAwKSB7CiAgICAgIGlmIChtYXRjaCA9IHNv
dXJjZS5tYXRjaChwYXR0ZXJuKSkgewogICAgICAgIHJlc3VsdCArPSBzb3VyY2Uu
c2xpY2UoMCwgbWF0Y2guaW5kZXgpOwogICAgICAgIHJlc3VsdCArPSBTdHJpbmcu
aW50ZXJwcmV0KHJlcGxhY2VtZW50KG1hdGNoKSk7CiAgICAgICAgc291cmNlICA9
IHNvdXJjZS5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAg
ICAgIH0gZWxzZSB7CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZSwgc291cmNlID0g
Jyc7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfSwKCiAgc3Vi
OiBmdW5jdGlvbihwYXR0ZXJuLCByZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJl
cGxhY2VtZW50ID0gdGhpcy5nc3ViLnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNl
bWVudCk7CiAgICBjb3VudCA9IE9iamVjdC5pc1VuZGVmaW5lZChjb3VudCkgPyAx
IDogY291bnQ7CgogICAgcmV0dXJuIHRoaXMuZ3N1YihwYXR0ZXJuLCBmdW5jdGlv
bihtYXRjaCkgewogICAgICBpZiAoLS1jb3VudCA8IDApIHJldHVybiBtYXRjaFsw
XTsKICAgICAgcmV0dXJuIHJlcGxhY2VtZW50KG1hdGNoKTsKICAgIH0pOwogIH0s
CgogIHNjYW46IGZ1bmN0aW9uKHBhdHRlcm4sIGl0ZXJhdG9yKSB7CiAgICB0aGlz
LmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwogICAgcmV0dXJuIFN0cmluZyh0aGlz
KTsKICB9LAoKICB0cnVuY2F0ZTogZnVuY3Rpb24obGVuZ3RoLCB0cnVuY2F0aW9u
KSB7CiAgICBsZW5ndGggPSBsZW5ndGggfHwgMzA7CiAgICB0cnVuY2F0aW9uID0g
T2JqZWN0LmlzVW5kZWZpbmVkKHRydW5jYXRpb24pID8gJy4uLicgOiB0cnVuY2F0
aW9uOwogICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gbGVuZ3RoID8KICAgICAgdGhp
cy5zbGljZSgwLCBsZW5ndGggLSB0cnVuY2F0aW9uLmxlbmd0aCkgKyB0cnVuY2F0
aW9uIDogU3RyaW5nKHRoaXMpOwogIH0sCgogIHN0cmlwOiBmdW5jdGlvbigpIHsK
ICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15ccysvLCAnJykucmVwbGFjZSgvXHMr
JC8sICcnKTsKICB9LAoKICBzdHJpcFRhZ3M6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIHRoaXMucmVwbGFjZSgvPFwvP1tePl0rPi9naSwgJycpOwogIH0sCgogIHN0
cmlwU2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNl
KG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW1nJyksICcn
KTsKICB9LAoKICBleHRyYWN0U2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICB2YXIg
bWF0Y2hBbGwgPSBuZXcgUmVnRXhwKFByb3RvdHlwZS5TY3JpcHRGcmFnbWVudCwg
J2ltZycpOwogICAgdmFyIG1hdGNoT25lID0gbmV3IFJlZ0V4cChQcm90b3R5cGUu
U2NyaXB0RnJhZ21lbnQsICdpbScpOwogICAgcmV0dXJuICh0aGlzLm1hdGNoKG1h
dGNoQWxsKSB8fCBbXSkubWFwKGZ1bmN0aW9uKHNjcmlwdFRhZykgewogICAgICBy
ZXR1cm4gKHNjcmlwdFRhZy5tYXRjaChtYXRjaE9uZSkgfHwgWycnLCAnJ10pWzFd
OwogICAgfSk7CiAgfSwKCiAgZXZhbFNjcmlwdHM6IGZ1bmN0aW9uKCkgewogICAg
cmV0dXJuIHRoaXMuZXh0cmFjdFNjcmlwdHMoKS5tYXAoZnVuY3Rpb24oc2NyaXB0
KSB7IHJldHVybiBldmFsKHNjcmlwdCkgfSk7CiAgfSwKCiAgZXNjYXBlSFRNTDog
ZnVuY3Rpb24oKSB7CiAgICB2YXIgc2VsZiA9IGFyZ3VtZW50cy5jYWxsZWU7CiAg
ICBzZWxmLnRleHQuZGF0YSA9IHRoaXM7CiAgICByZXR1cm4gc2VsZi5kaXYuaW5u
ZXJIVE1MOwogIH0sCgogIHVuZXNjYXBlSFRNTDogZnVuY3Rpb24oKSB7CiAgICB2
YXIgZGl2ID0gbmV3IEVsZW1lbnQoJ2RpdicpOwogICAgZGl2LmlubmVySFRNTCA9
IHRoaXMuc3RyaXBUYWdzKCk7CiAgICByZXR1cm4gZGl2LmNoaWxkTm9kZXNbMF0g
PyAoZGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMSA/CiAgICAgICRBKGRpdi5jaGls
ZE5vZGVzKS5pbmplY3QoJycsIGZ1bmN0aW9uKG1lbW8sIG5vZGUpIHsgcmV0dXJu
IG1lbW8rbm9kZS5ub2RlVmFsdWUgfSkgOgogICAgICBkaXYuY2hpbGROb2Rlc1sw
XS5ub2RlVmFsdWUpIDogJyc7CiAgfSwKCiAgdG9RdWVyeVBhcmFtczogZnVuY3Rp
b24oc2VwYXJhdG9yKSB7CiAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmlwKCkubWF0
Y2goLyhbXj8jXSopKCMuKik/JC8pOwogICAgaWYgKCFtYXRjaCkgcmV0dXJuIHsg
fTsKCiAgICByZXR1cm4gbWF0Y2hbMV0uc3BsaXQoc2VwYXJhdG9yIHx8ICcmJyku
aW5qZWN0KHsgfSwgZnVuY3Rpb24oaGFzaCwgcGFpcikgewogICAgICBpZiAoKHBh
aXIgPSBwYWlyLnNwbGl0KCc9JykpWzBdKSB7CiAgICAgICAgdmFyIGtleSA9IGRl
Y29kZVVSSUNvbXBvbmVudChwYWlyLnNoaWZ0KCkpOwogICAgICAgIHZhciB2YWx1
ZSA9IHBhaXIubGVuZ3RoID4gMSA/IHBhaXIuam9pbignPScpIDogcGFpclswXTsK
ICAgICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB2YWx1ZSA9IGRlY29kZVVS
SUNvbXBvbmVudCh2YWx1ZSk7CgogICAgICAgIGlmIChrZXkgaW4gaGFzaCkgewog
ICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShoYXNoW2tleV0pKSBoYXNoW2tl
eV0gPSBbaGFzaFtrZXldXTsKICAgICAgICAgIGhhc2hba2V5XS5wdXNoKHZhbHVl
KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBoYXNoW2tleV0gPSB2YWx1ZTsKICAg
ICAgfQogICAgICByZXR1cm4gaGFzaDsKICAgIH0pOwogIH0sCgogIHRvQXJyYXk6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuc3BsaXQoJycpOwogIH0sCgog
IHN1Y2M6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGhp
cy5sZW5ndGggLSAxKSArCiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5j
aGFyQ29kZUF0KHRoaXMubGVuZ3RoIC0gMSkgKyAxKTsKICB9LAoKICB0aW1lczog
ZnVuY3Rpb24oY291bnQpIHsKICAgIHJldHVybiBjb3VudCA8IDEgPyAnJyA6IG5l
dyBBcnJheShjb3VudCArIDEpLmpvaW4odGhpcyk7CiAgfSwKCiAgY2FtZWxpemU6
IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhcnRzID0gdGhpcy5zcGxpdCgnLScpLCBs
ZW4gPSBwYXJ0cy5sZW5ndGg7CiAgICBpZiAobGVuID09IDEpIHJldHVybiBwYXJ0
c1swXTsKCiAgICB2YXIgY2FtZWxpemVkID0gdGhpcy5jaGFyQXQoMCkgPT0gJy0n
CiAgICAgID8gcGFydHNbMF0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0
c1swXS5zdWJzdHJpbmcoMSkKICAgICAgOiBwYXJ0c1swXTsKCiAgICBmb3IgKHZh
ciBpID0gMTsgaSA8IGxlbjsgaSsrKQogICAgICBjYW1lbGl6ZWQgKz0gcGFydHNb
aV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0c1tpXS5zdWJzdHJpbmco
MSk7CgogICAgcmV0dXJuIGNhbWVsaXplZDsKICB9LAoKICBjYXBpdGFsaXplOiBm
dW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2Fz
ZSgpICsgdGhpcy5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTsKICB9LAoKICB1
bmRlcnNjb3JlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmdzdWIoLzo6
LywgJy8nKS5nc3ViKC8oW0EtWl0rKShbQS1aXVthLXpdKS8sJyN7MX1fI3syfScp
LmdzdWIoLyhbYS16XGRdKShbQS1aXSkvLCcjezF9XyN7Mn0nKS5nc3ViKC8tLywn
XycpLnRvTG93ZXJDYXNlKCk7CiAgfSwKCiAgZGFzaGVyaXplOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLmdzdWIoL18vLCctJyk7CiAgfSwKCiAgaW5zcGVj
dDogZnVuY3Rpb24odXNlRG91YmxlUXVvdGVzKSB7CiAgICB2YXIgZXNjYXBlZFN0
cmluZyA9IHRoaXMuZ3N1YigvW1x4MDAtXHgxZlxcXS8sIGZ1bmN0aW9uKG1hdGNo
KSB7CiAgICAgIHZhciBjaGFyYWN0ZXIgPSBTdHJpbmcuc3BlY2lhbENoYXJbbWF0
Y2hbMF1dOwogICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyIDogJ1xc
dTAwJyArIG1hdGNoWzBdLmNoYXJDb2RlQXQoKS50b1BhZGRlZFN0cmluZygyLCAx
Nik7CiAgICB9KTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpIHJldHVybiAnIicg
KyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyInOwogICAg
cmV0dXJuICInIiArIGVzY2FwZWRTdHJpbmcucmVwbGFjZSgvJy9nLCAnXFxcJycp
ICsgIiciOwogIH0sCgogIHRvSlNPTjogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g
dGhpcy5pbnNwZWN0KHRydWUpOwogIH0sCgogIHVuZmlsdGVySlNPTjogZnVuY3Rp
b24oZmlsdGVyKSB7CiAgICByZXR1cm4gdGhpcy5zdWIoZmlsdGVyIHx8IFByb3Rv
dHlwZS5KU09ORmlsdGVyLCAnI3sxfScpOwogIH0sCgogIGlzSlNPTjogZnVuY3Rp
b24oKSB7CiAgICB2YXIgc3RyID0gdGhpczsKICAgIGlmIChzdHIuYmxhbmsoKSkg
cmV0dXJuIGZhbHNlOwogICAgc3RyID0gdGhpcy5yZXBsYWNlKC9cXC4vZywgJ0An
KS5yZXBsYWNlKC8iW14iXFxcblxyXSoiL2csICcnKTsKICAgIHJldHVybiAoL15b
LDp7fVxbXF0wLTkuXC0rRWFlZmxuci11IFxuXHJcdF0qJC8pLnRlc3Qoc3RyKTsK
ICB9LAoKICBldmFsSlNPTjogZnVuY3Rpb24oc2FuaXRpemUpIHsKICAgIHZhciBq
c29uID0gdGhpcy51bmZpbHRlckpTT04oKTsKICAgIHRyeSB7CiAgICAgIGlmICgh
c2FuaXRpemUgfHwganNvbi5pc0pTT04oKSkgcmV0dXJuIGV2YWwoJygnICsganNv
biArICcpJyk7CiAgICB9IGNhdGNoIChlKSB7IH0KICAgIHRocm93IG5ldyBTeW50
YXhFcnJvcignQmFkbHkgZm9ybWVkIEpTT04gc3RyaW5nOiAnICsgdGhpcy5pbnNw
ZWN0KCkpOwogIH0sCgogIGluY2x1ZGU6IGZ1bmN0aW9uKHBhdHRlcm4pIHsKICAg
IHJldHVybiB0aGlzLmluZGV4T2YocGF0dGVybikgPiAtMTsKICB9LAoKICBzdGFy
dHNXaXRoOiBmdW5jdGlvbihwYXR0ZXJuKSB7CiAgICByZXR1cm4gdGhpcy5pbmRl
eE9mKHBhdHRlcm4pID09PSAwOwogIH0sCgogIGVuZHNXaXRoOiBmdW5jdGlvbihw
YXR0ZXJuKSB7CiAgICB2YXIgZCA9IHRoaXMubGVuZ3RoIC0gcGF0dGVybi5sZW5n
dGg7CiAgICByZXR1cm4gZCA+PSAwICYmIHRoaXMubGFzdEluZGV4T2YocGF0dGVy
bikgPT09IGQ7CiAgfSwKCiAgZW1wdHk6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJu
IHRoaXMgPT0gJyc7CiAgfSwKCiAgYmxhbms6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIC9eXHMqJC8udGVzdCh0aGlzKTsKICB9LAoKICBpbnRlcnBvbGF0ZTogZnVu
Y3Rpb24ob2JqZWN0LCBwYXR0ZXJuKSB7CiAgICByZXR1cm4gbmV3IFRlbXBsYXRl
KHRoaXMsIHBhdHRlcm4pLmV2YWx1YXRlKG9iamVjdCk7CiAgfQp9KTsKCmlmIChQ
cm90b3R5cGUuQnJvd3Nlci5XZWJLaXQgfHwgUHJvdG90eXBlLkJyb3dzZXIuSUUp
IE9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZSwgewogIGVzY2FwZUhUTUw6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCcmYW1w
OycpLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpOwog
IH0sCiAgdW5lc2NhcGVIVE1MOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlz
LnN0cmlwVGFncygpLnJlcGxhY2UoLyZhbXA7L2csJyYnKS5yZXBsYWNlKC8mbHQ7
L2csJzwnKS5yZXBsYWNlKC8mZ3Q7L2csJz4nKTsKICB9Cn0pOwoKU3RyaW5nLnBy
b3RvdHlwZS5nc3ViLnByZXBhcmVSZXBsYWNlbWVudCA9IGZ1bmN0aW9uKHJlcGxh
Y2VtZW50KSB7CiAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHJlcGxhY2VtZW50KSkg
cmV0dXJuIHJlcGxhY2VtZW50OwogIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0
ZShyZXBsYWNlbWVudCk7CiAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVy
biB0ZW1wbGF0ZS5ldmFsdWF0ZShtYXRjaCkgfTsKfTsKClN0cmluZy5wcm90b3R5
cGUucGFyc2VRdWVyeSA9IFN0cmluZy5wcm90b3R5cGUudG9RdWVyeVBhcmFtczsK
Ck9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZS5lc2NhcGVIVE1MLCB7CiAg
ZGl2OiAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCiAgdGV4dDogZG9j
dW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpCn0pOwoKU3RyaW5nLnByb3RvdHlwZS5l
c2NhcGVIVE1MLmRpdi5hcHBlbmRDaGlsZChTdHJpbmcucHJvdG90eXBlLmVzY2Fw
ZUhUTUwudGV4dCk7Cgp2YXIgVGVtcGxhdGUgPSBDbGFzcy5jcmVhdGUoewogIGlu
aXRpYWxpemU6IGZ1bmN0aW9uKHRlbXBsYXRlLCBwYXR0ZXJuKSB7CiAgICB0aGlz
LnRlbXBsYXRlID0gdGVtcGxhdGUudG9TdHJpbmcoKTsKICAgIHRoaXMucGF0dGVy
biA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBldmFsdWF0
ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24o
b2JqZWN0LnRvVGVtcGxhdGVSZXBsYWNlbWVudHMpKQogICAgICBvYmplY3QgPSBv
YmplY3QudG9UZW1wbGF0ZVJlcGxhY2VtZW50cygpOwoKICAgIHJldHVybiB0aGlz
LnRlbXBsYXRlLmdzdWIodGhpcy5wYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCkgewog
ICAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAnJzsKCiAgICAgIHZhciBi
ZWZvcmUgPSBtYXRjaFsxXSB8fCAnJzsKICAgICAgaWYgKGJlZm9yZSA9PSAnXFwn
KSByZXR1cm4gbWF0Y2hbMl07CgogICAgICB2YXIgY3R4ID0gb2JqZWN0LCBleHBy
ID0gbWF0Y2hbM107CiAgICAgIHZhciBwYXR0ZXJuID0gL14oW14uW10rfFxbKCg/
Oi4qP1teXFxdKT8pXF0pKFwufFxbfCQpLzsKICAgICAgbWF0Y2ggPSBwYXR0ZXJu
LmV4ZWMoZXhwcik7CiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gYmVm
b3JlOwoKICAgICAgd2hpbGUgKG1hdGNoICE9IG51bGwpIHsKICAgICAgICB2YXIg
Y29tcCA9IG1hdGNoWzFdLnN0YXJ0c1dpdGgoJ1snKSA/IG1hdGNoWzJdLmdzdWIo
J1xcXFxdJywgJ10nKSA6IG1hdGNoWzFdOwogICAgICAgIGN0eCA9IGN0eFtjb21w
XTsKICAgICAgICBpZiAobnVsbCA9PSBjdHggfHwgJycgPT0gbWF0Y2hbM10pIGJy
ZWFrOwogICAgICAgIGV4cHIgPSBleHByLnN1YnN0cmluZygnWycgPT0gbWF0Y2hb
M10gPyBtYXRjaFsxXS5sZW5ndGggOiBtYXRjaFswXS5sZW5ndGgpOwogICAgICAg
IG1hdGNoID0gcGF0dGVybi5leGVjKGV4cHIpOwogICAgICB9CgogICAgICByZXR1
cm4gYmVmb3JlICsgU3RyaW5nLmludGVycHJldChjdHgpOwogICAgfSk7CiAgfQp9
KTsKVGVtcGxhdGUuUGF0dGVybiA9IC8oXnwufFxyfFxuKSgjXHsoLio/KVx9KS87
Cgp2YXIgJGJyZWFrID0geyB9OwoKdmFyIEVudW1lcmFibGUgPSB7CiAgZWFjaDog
ZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciBpbmRleCA9IDA7
CiAgICB0cnkgewogICAgICB0aGlzLl9lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAg
ICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgrKyk7CiAg
ICAgIH0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAoZSAhPSAkYnJlYWsp
IHRocm93IGU7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LAoKICBlYWNoU2xp
Y2U6IGZ1bmN0aW9uKG51bWJlciwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZh
ciBpbmRleCA9IC1udW1iZXIsIHNsaWNlcyA9IFtdLCBhcnJheSA9IHRoaXMudG9B
cnJheSgpOwogICAgaWYgKG51bWJlciA8IDEpIHJldHVybiBhcnJheTsKICAgIHdo
aWxlICgoaW5kZXggKz0gbnVtYmVyKSA8IGFycmF5Lmxlbmd0aCkKICAgICAgc2xp
Y2VzLnB1c2goYXJyYXkuc2xpY2UoaW5kZXgsIGluZGV4K251bWJlcikpOwogICAg
cmV0dXJuIHNsaWNlcy5jb2xsZWN0KGl0ZXJhdG9yLCBjb250ZXh0KTsKICB9LAoK
ICBhbGw6IGZ1bmN0aW9uKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRv
ciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IHRy
dWU7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAg
IHJlc3VsdCA9IHJlc3VsdCAmJiAhIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFs
dWUsIGluZGV4KTsKICAgICAgaWYgKCFyZXN1bHQpIHRocm93ICRicmVhazsKICAg
IH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9LAoKICBhbnk6IGZ1bmN0aW9uKGl0
ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFBy
b3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNo
KGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAocmVzdWx0ID0gISFp
dGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpCiAgICAgICAgdGhy
b3cgJGJyZWFrOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGNv
bGxlY3Q6IGZ1bmN0aW9uKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRv
ciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdHMgPSBb
XTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAg
cmVzdWx0cy5wdXNoKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4
KSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIGRldGVjdDog
ZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHQ7CiAg
ICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChp
dGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpIHsKICAgICAgICBy
ZXN1bHQgPSB2YWx1ZTsKICAgICAgICB0aHJvdyAkYnJlYWs7CiAgICAgIH0KICAg
IH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9LAoKICBmaW5kQWxsOiBmdW5jdGlv
bihpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAg
IHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0
ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KSkKICAgICAgICByZXN1
bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9
LAoKICBncmVwOiBmdW5jdGlvbihmaWx0ZXIsIGl0ZXJhdG9yLCBjb250ZXh0KSB7
CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFy
IHJlc3VsdHMgPSBbXTsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGZpbHRlcikp
CiAgICAgIGZpbHRlciA9IG5ldyBSZWdFeHAoZmlsdGVyKTsKCiAgICB0aGlzLmVh
Y2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChmaWx0ZXIubWF0
Y2godmFsdWUpKQogICAgICAgIHJlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNv
bnRleHQsIHZhbHVlLCBpbmRleCkpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0
czsKICB9LAoKICBpbmNsdWRlOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIGlmIChP
YmplY3QuaXNGdW5jdGlvbih0aGlzLmluZGV4T2YpKQogICAgICBpZiAodGhpcy5p
bmRleE9mKG9iamVjdCkgIT0gLTEpIHJldHVybiB0cnVlOwoKICAgIHZhciBmb3Vu
ZCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAg
IGlmICh2YWx1ZSA9PSBvYmplY3QpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAg
ICAgICAgdGhyb3cgJGJyZWFrOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBm
b3VuZDsKICB9LAoKICBpbkdyb3Vwc09mOiBmdW5jdGlvbihudW1iZXIsIGZpbGxX
aXRoKSB7CiAgICBmaWxsV2l0aCA9IE9iamVjdC5pc1VuZGVmaW5lZChmaWxsV2l0
aCkgPyBudWxsIDogZmlsbFdpdGg7CiAgICByZXR1cm4gdGhpcy5lYWNoU2xpY2Uo
bnVtYmVyLCBmdW5jdGlvbihzbGljZSkgewogICAgICB3aGlsZShzbGljZS5sZW5n
dGggPCBudW1iZXIpIHNsaWNlLnB1c2goZmlsbFdpdGgpOwogICAgICByZXR1cm4g
c2xpY2U7CiAgICB9KTsKICB9LAoKICBpbmplY3Q6IGZ1bmN0aW9uKG1lbW8sIGl0
ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUs
IGluZGV4KSB7CiAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1l
bW8sIHZhbHVlLCBpbmRleCk7CiAgICB9KTsKICAgIHJldHVybiBtZW1vOwogIH0s
CgogIGludm9rZTogZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgYXJncyA9ICRB
KGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rp
b24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlW21ldGhvZF0uYXBwbHkodmFs
dWUsIGFyZ3MpOwogICAgfSk7CiAgfSwKCiAgbWF4OiBmdW5jdGlvbihpdGVyYXRv
ciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5
cGUuSzsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFs
dWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0
LCB2YWx1ZSwgaW5kZXgpOwogICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdmFs
dWUgPj0gcmVzdWx0KQogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAg
ICByZXR1cm4gcmVzdWx0OwogIH0sCgogIG1pbjogZnVuY3Rpb24oaXRlcmF0b3Is
IGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBl
Lks7CiAgICB2YXIgcmVzdWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVl
LCBpbmRleCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwg
dmFsdWUsIGluZGV4KTsKICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHZhbHVl
IDwgcmVzdWx0KQogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAgICBy
ZXR1cm4gcmVzdWx0OwogIH0sCgogIHBhcnRpdGlvbjogZnVuY3Rpb24oaXRlcmF0
b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90
eXBlLks7CiAgICB2YXIgdHJ1ZXMgPSBbXSwgZmFsc2VzID0gW107CiAgICB0aGlz
LmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIChpdGVyYXRvci5j
YWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkgPwogICAgICAgIHRydWVzIDogZmFs
c2VzKS5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIFt0cnVlcywgZmFs
c2VzXTsKICB9LAoKICBwbHVjazogZnVuY3Rpb24ocHJvcGVydHkpIHsKICAgIHZh
ciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUpIHsK
ICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlW3Byb3BlcnR5XSk7CiAgICB9KTsKICAg
IHJldHVybiByZXN1bHRzOwogIH0sCgogIHJlamVjdDogZnVuY3Rpb24oaXRlcmF0
b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVh
Y2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmICghaXRlcmF0b3Iu
Y2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgpKQogICAgICAgIHJlc3VsdHMucHVz
aCh2YWx1ZSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIHNv
cnRCeTogZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHJldHVybiB0
aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHsK
ICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdG9y
LmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KQogICAgICB9OwogICAgfSkuc29y
dChmdW5jdGlvbihsZWZ0LCByaWdodCkgewogICAgICB2YXIgYSA9IGxlZnQuY3Jp
dGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8g
LTEgOiBhID4gYiA/IDEgOiAwOwogICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfSwK
CiAgdG9BcnJheTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5tYXAoKTsK
ICB9LAoKICB6aXA6IGZ1bmN0aW9uKCkgewogICAgdmFyIGl0ZXJhdG9yID0gUHJv
dG90eXBlLkssIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKE9iamVjdC5p
c0Z1bmN0aW9uKGFyZ3MubGFzdCgpKSkKICAgICAgaXRlcmF0b3IgPSBhcmdzLnBv
cCgpOwoKICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJncyku
bWFwKCRBKTsKICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5k
ZXgpIHsKICAgICAgcmV0dXJuIGl0ZXJhdG9yKGNvbGxlY3Rpb25zLnBsdWNrKGlu
ZGV4KSk7CiAgICB9KTsKICB9LAoKICBzaXplOiBmdW5jdGlvbigpIHsKICAgIHJl
dHVybiB0aGlzLnRvQXJyYXkoKS5sZW5ndGg7CiAgfSwKCiAgaW5zcGVjdDogZnVu
Y3Rpb24oKSB7CiAgICByZXR1cm4gJyM8RW51bWVyYWJsZTonICsgdGhpcy50b0Fy
cmF5KCkuaW5zcGVjdCgpICsgJz4nOwogIH0KfTsKCk9iamVjdC5leHRlbmQoRW51
bWVyYWJsZSwgewogIG1hcDogICAgIEVudW1lcmFibGUuY29sbGVjdCwKICBmaW5k
OiAgICBFbnVtZXJhYmxlLmRldGVjdCwKICBzZWxlY3Q6ICBFbnVtZXJhYmxlLmZp
bmRBbGwsCiAgZmlsdGVyOiAgRW51bWVyYWJsZS5maW5kQWxsLAogIG1lbWJlcjog
IEVudW1lcmFibGUuaW5jbHVkZSwKICBlbnRyaWVzOiBFbnVtZXJhYmxlLnRvQXJy
YXksCiAgZXZlcnk6ICAgRW51bWVyYWJsZS5hbGwsCiAgc29tZTogICAgRW51bWVy
YWJsZS5hbnkKfSk7CmZ1bmN0aW9uICRBKGl0ZXJhYmxlKSB7CiAgaWYgKCFpdGVy
YWJsZSkgcmV0dXJuIFtdOwogIGlmIChpdGVyYWJsZS50b0FycmF5KSByZXR1cm4g
aXRlcmFibGUudG9BcnJheSgpOwogIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5n
dGggfHwgMCwgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogIHdoaWxlIChs
ZW5ndGgtLSkgcmVzdWx0c1tsZW5ndGhdID0gaXRlcmFibGVbbGVuZ3RoXTsKICBy
ZXR1cm4gcmVzdWx0czsKfQoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCkg
ewogICRBID0gZnVuY3Rpb24oaXRlcmFibGUpIHsKICAgIGlmICghaXRlcmFibGUp
IHJldHVybiBbXTsKICAgIC8vIEluIFNhZmFyaSwgb25seSB1c2UgdGhlIGB0b0Fy
cmF5YCBtZXRob2QgaWYgaXQncyBub3QgYSBOb2RlTGlzdC4KICAgIC8vIEEgTm9k
ZUxpc3QgaXMgYSBmdW5jdGlvbiwgaGFzIGFuIGZ1bmN0aW9uIGBpdGVtYCBwcm9w
ZXJ0eSwgYW5kIGEgbnVtZXJpYwogICAgLy8gYGxlbmd0aGAgcHJvcGVydHkuIEFk
YXB0ZWQgZnJvbSBHb29nbGUgRG9jdHlwZS4KICAgIGlmICghKHR5cGVvZiBpdGVy
YWJsZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaXRlcmFibGUubGVuZ3RoID09
PQogICAgICAgICdudW1iZXInICYmIHR5cGVvZiBpdGVyYWJsZS5pdGVtID09PSAn
ZnVuY3Rpb24nKSAmJiBpdGVyYWJsZS50b0FycmF5KQogICAgICByZXR1cm4gaXRl
cmFibGUudG9BcnJheSgpOwogICAgdmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0
aCB8fCAwLCByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7CiAgICB3aGlsZSAo
bGVuZ3RoLS0pIHJlc3VsdHNbbGVuZ3RoXSA9IGl0ZXJhYmxlW2xlbmd0aF07CiAg
ICByZXR1cm4gcmVzdWx0czsKICB9Owp9CgpBcnJheS5mcm9tID0gJEE7CgpPYmpl
Y3QuZXh0ZW5kKEFycmF5LnByb3RvdHlwZSwgRW51bWVyYWJsZSk7CgppZiAoIUFy
cmF5LnByb3RvdHlwZS5fcmV2ZXJzZSkgQXJyYXkucHJvdG90eXBlLl9yZXZlcnNl
ID0gQXJyYXkucHJvdG90eXBlLnJldmVyc2U7CgpPYmplY3QuZXh0ZW5kKEFycmF5
LnByb3RvdHlwZSwgewogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAg
Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuZ3Ro
OyBpKyspCiAgICAgIGl0ZXJhdG9yKHRoaXNbaV0pOwogIH0sCgogIGNsZWFyOiBm
dW5jdGlvbigpIHsKICAgIHRoaXMubGVuZ3RoID0gMDsKICAgIHJldHVybiB0aGlz
OwogIH0sCgogIGZpcnN0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzWzBd
OwogIH0sCgogIGxhc3Q6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXNbdGhp
cy5sZW5ndGggLSAxXTsKICB9LAoKICBjb21wYWN0OiBmdW5jdGlvbigpIHsKICAg
IHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbih2YWx1ZSkgewogICAgICByZXR1
cm4gdmFsdWUgIT0gbnVsbDsKICAgIH0pOwogIH0sCgogIGZsYXR0ZW46IGZ1bmN0
aW9uKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihhcnJh
eSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIGFycmF5LmNvbmNhdChPYmplY3QuaXNB
cnJheSh2YWx1ZSkgPwogICAgICAgIHZhbHVlLmZsYXR0ZW4oKSA6IFt2YWx1ZV0p
OwogICAgfSk7CiAgfSwKCiAgd2l0aG91dDogZnVuY3Rpb24oKSB7CiAgICB2YXIg
dmFsdWVzID0gJEEoYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChm
dW5jdGlvbih2YWx1ZSkgewogICAgICByZXR1cm4gIXZhbHVlcy5pbmNsdWRlKHZh
bHVlKTsKICAgIH0pOwogIH0sCgogIHJldmVyc2U6IGZ1bmN0aW9uKGlubGluZSkg
ewogICAgcmV0dXJuIChpbmxpbmUgIT09IGZhbHNlID8gdGhpcyA6IHRoaXMudG9B
cnJheSgpKS5fcmV2ZXJzZSgpOwogIH0sCgogIHJlZHVjZTogZnVuY3Rpb24oKSB7
CiAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAxID8gdGhpcyA6IHRoaXNbMF07CiAg
fSwKCiAgdW5pcTogZnVuY3Rpb24oc29ydGVkKSB7CiAgICByZXR1cm4gdGhpcy5p
bmplY3QoW10sIGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSwgaW5kZXgpIHsKICAgICAg
aWYgKDAgPT0gaW5kZXggfHwgKHNvcnRlZCA/IGFycmF5Lmxhc3QoKSAhPSB2YWx1
ZSA6ICFhcnJheS5pbmNsdWRlKHZhbHVlKSkpCiAgICAgICAgYXJyYXkucHVzaCh2
YWx1ZSk7CiAgICAgIHJldHVybiBhcnJheTsKICAgIH0pOwogIH0sCgogIGludGVy
c2VjdDogZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiB0aGlzLnVuaXEoKS5m
aW5kQWxsKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGFycmF5LmRldGVj
dChmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gaXRlbSA9PT0gdmFsdWUgfSk7CiAg
ICB9KTsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gW10u
Y29uY2F0KHRoaXMpOwogIH0sCgogIHNpemU6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIHRoaXMubGVuZ3RoOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuICdbJyArIHRoaXMubWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCcs
ICcpICsgJ10nOwogIH0sCgogIHRvSlNPTjogZnVuY3Rpb24oKSB7CiAgICB2YXIg
cmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgICB2YXIgdmFsdWUgPSBPYmplY3QudG9KU09OKG9iamVjdCk7CiAgICAgIGlm
ICghT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmVzdWx0cy5wdXNoKHZhbHVl
KTsKICAgIH0pOwogICAgcmV0dXJuICdbJyArIHJlc3VsdHMuam9pbignLCAnKSAr
ICddJzsKICB9Cn0pOwoKLy8gdXNlIG5hdGl2ZSBicm93c2VyIEpTIDEuNiBpbXBs
ZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUKaWYgKE9iamVjdC5pc0Z1bmN0aW9uKEFy
cmF5LnByb3RvdHlwZS5mb3JFYWNoKSkKICBBcnJheS5wcm90b3R5cGUuX2VhY2gg
PSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDsKCmlmICghQXJyYXkucHJvdG90eXBl
LmluZGV4T2YpIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oaXRl
bSwgaSkgewogIGkgfHwgKGkgPSAwKTsKICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5n
dGg7CiAgaWYgKGkgPCAwKSBpID0gbGVuZ3RoICsgaTsKICBmb3IgKDsgaSA8IGxl
bmd0aDsgaSsrKQogICAgaWYgKHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOwog
IHJldHVybiAtMTsKfTsKCmlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9m
KSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbihpdGVtLCBp
KSB7CiAgaSA9IGlzTmFOKGkpID8gdGhpcy5sZW5ndGggOiAoaSA8IDAgPyB0aGlz
Lmxlbmd0aCArIGkgOiBpKSArIDE7CiAgdmFyIG4gPSB0aGlzLnNsaWNlKDAsIGkp
LnJldmVyc2UoKS5pbmRleE9mKGl0ZW0pOwogIHJldHVybiAobiA8IDApID8gbiA6
IGkgLSBuIC0gMTsKfTsKCkFycmF5LnByb3RvdHlwZS50b0FycmF5ID0gQXJyYXku
cHJvdG90eXBlLmNsb25lOwoKZnVuY3Rpb24gJHcoc3RyaW5nKSB7CiAgaWYgKCFP
YmplY3QuaXNTdHJpbmcoc3RyaW5nKSkgcmV0dXJuIFtdOwogIHN0cmluZyA9IHN0
cmluZy5zdHJpcCgpOwogIHJldHVybiBzdHJpbmcgPyBzdHJpbmcuc3BsaXQoL1xz
Ky8pIDogW107Cn0KCmlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSl7CiAgQXJy
YXkucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGFycmF5
ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGg7
IGkgPCBsZW5ndGg7IGkrKykgYXJyYXkucHVzaCh0aGlzW2ldKTsKICAgIGZvciAo
dmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3Ro
OyBpKyspIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KGFyZ3VtZW50c1tpXSkp
IHsKICAgICAgICBmb3IgKHZhciBqID0gMCwgYXJyYXlMZW5ndGggPSBhcmd1bWVu
dHNbaV0ubGVuZ3RoOyBqIDwgYXJyYXlMZW5ndGg7IGorKykKICAgICAgICAgIGFy
cmF5LnB1c2goYXJndW1lbnRzW2ldW2pdKTsKICAgICAgfSBlbHNlIHsKICAgICAg
ICBhcnJheS5wdXNoKGFyZ3VtZW50c1tpXSk7CiAgICAgIH0KICAgIH0KICAgIHJl
dHVybiBhcnJheTsKICB9Owp9Ck9iamVjdC5leHRlbmQoTnVtYmVyLnByb3RvdHlw
ZSwgewogIHRvQ29sb3JQYXJ0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlz
LnRvUGFkZGVkU3RyaW5nKDIsIDE2KTsKICB9LAoKICBzdWNjOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzICsgMTsKICB9LAoKICB0aW1lczogZnVuY3Rpb24o
aXRlcmF0b3IsIGNvbnRleHQpIHsKICAgICRSKDAsIHRoaXMsIHRydWUpLmVhY2go
aXRlcmF0b3IsIGNvbnRleHQpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgdG9Q
YWRkZWRTdHJpbmc6IGZ1bmN0aW9uKGxlbmd0aCwgcmFkaXgpIHsKICAgIHZhciBz
dHJpbmcgPSB0aGlzLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTsKICAgIHJldHVybiAn
MCcudGltZXMobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7CiAgfSwK
CiAgdG9KU09OOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBpc0Zpbml0ZSh0aGlz
KSA/IHRoaXMudG9TdHJpbmcoKSA6ICdudWxsJzsKICB9Cn0pOwoKJHcoJ2FicyBy
b3VuZCBjZWlsIGZsb29yJykuZWFjaChmdW5jdGlvbihtZXRob2QpewogIE51bWJl
ci5wcm90b3R5cGVbbWV0aG9kXSA9IE1hdGhbbWV0aG9kXS5tZXRob2RpemUoKTsK
fSk7CmZ1bmN0aW9uICRIKG9iamVjdCkgewogIHJldHVybiBuZXcgSGFzaChvYmpl
Y3QpOwp9OwoKdmFyIEhhc2ggPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJsZSwgKGZ1
bmN0aW9uKCkgewoKICBmdW5jdGlvbiB0b1F1ZXJ5UGFpcihrZXksIHZhbHVlKSB7
CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGtleTsK
ICAgIHJldHVybiBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5n
LmludGVycHJldCh2YWx1ZSkpOwogIH0KCiAgcmV0dXJuIHsKICAgIGluaXRpYWxp
emU6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgICB0aGlzLl9vYmplY3QgPSBPYmpl
Y3QuaXNIYXNoKG9iamVjdCkgPyBvYmplY3QudG9PYmplY3QoKSA6IE9iamVjdC5j
bG9uZShvYmplY3QpOwogICAgfSwKCiAgICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX29iamVjdCkgewogICAg
ICAgIHZhciB2YWx1ZSA9IHRoaXMuX29iamVjdFtrZXldLCBwYWlyID0gW2tleSwg
dmFsdWVdOwogICAgICAgIHBhaXIua2V5ID0ga2V5OwogICAgICAgIHBhaXIudmFs
dWUgPSB2YWx1ZTsKICAgICAgICBpdGVyYXRvcihwYWlyKTsKICAgICAgfQogICAg
fSwKCiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHsKICAgICAgcmV0dXJu
IHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7CiAgICB9LAoKICAgIGdldDogZnVu
Y3Rpb24oa2V5KSB7CiAgICAgIC8vIHNpbXVsYXRpbmcgcG9vcmx5IHN1cHBvcnRl
ZCBoYXNPd25Qcm9wZXJ0eQogICAgICBpZiAodGhpcy5fb2JqZWN0W2tleV0gIT09
IE9iamVjdC5wcm90b3R5cGVba2V5XSkKICAgICAgICByZXR1cm4gdGhpcy5fb2Jq
ZWN0W2tleV07CiAgICB9LAoKICAgIHVuc2V0OiBmdW5jdGlvbihrZXkpIHsKICAg
ICAgdmFyIHZhbHVlID0gdGhpcy5fb2JqZWN0W2tleV07CiAgICAgIGRlbGV0ZSB0
aGlzLl9vYmplY3Rba2V5XTsKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKCiAg
ICB0b09iamVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBPYmplY3QuY2xv
bmUodGhpcy5fb2JqZWN0KTsKICAgIH0sCgogICAga2V5czogZnVuY3Rpb24oKSB7
CiAgICAgIHJldHVybiB0aGlzLnBsdWNrKCdrZXknKTsKICAgIH0sCgogICAgdmFs
dWVzOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVl
Jyk7CiAgICB9LAoKICAgIGluZGV4OiBmdW5jdGlvbih2YWx1ZSkgewogICAgICB2
YXIgbWF0Y2ggPSB0aGlzLmRldGVjdChmdW5jdGlvbihwYWlyKSB7CiAgICAgICAg
cmV0dXJuIHBhaXIudmFsdWUgPT09IHZhbHVlOwogICAgICB9KTsKICAgICAgcmV0
dXJuIG1hdGNoICYmIG1hdGNoLmtleTsKICAgIH0sCgogICAgbWVyZ2U6IGZ1bmN0
aW9uKG9iamVjdCkgewogICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnVwZGF0ZShv
YmplY3QpOwogICAgfSwKCiAgICB1cGRhdGU6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KS5pbmplY3QodGhpcywgZnVuY3Rp
b24ocmVzdWx0LCBwYWlyKSB7CiAgICAgICAgcmVzdWx0LnNldChwYWlyLmtleSwg
cGFpci52YWx1ZSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSk7CiAg
ICB9LAoKICAgIHRvUXVlcnlTdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICByZXR1
cm4gdGhpcy5pbmplY3QoW10sIGZ1bmN0aW9uKHJlc3VsdHMsIHBhaXIpIHsKICAg
ICAgICB2YXIga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhaXIua2V5KSwgdmFs
dWVzID0gcGFpci52YWx1ZTsKCiAgICAgICAgaWYgKHZhbHVlcyAmJiB0eXBlb2Yg
dmFsdWVzID09ICdvYmplY3QnKSB7CiAgICAgICAgICBpZiAoT2JqZWN0LmlzQXJy
YXkodmFsdWVzKSkKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHMuY29uY2F0KHZh
bHVlcy5tYXAodG9RdWVyeVBhaXIuY3Vycnkoa2V5KSkpOwogICAgICAgIH0gZWxz
ZSByZXN1bHRzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZXMpKTsKICAgICAg
ICByZXR1cm4gcmVzdWx0czsKICAgICAgfSkuam9pbignJicpOwogICAgfSwKCiAg
ICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICcjPEhhc2g6eycg
KyB0aGlzLm1hcChmdW5jdGlvbihwYWlyKSB7CiAgICAgICAgcmV0dXJuIHBhaXIu
bWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCc6ICcpOwogICAgICB9KS5qb2luKCcs
ICcpICsgJ30+JzsKICAgIH0sCgogICAgdG9KU09OOiBmdW5jdGlvbigpIHsKICAg
ICAgcmV0dXJuIE9iamVjdC50b0pTT04odGhpcy50b09iamVjdCgpKTsKICAgIH0s
CgogICAgY2xvbmU6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gbmV3IEhhc2go
dGhpcyk7CiAgICB9CiAgfQp9KSgpKTsKCkhhc2gucHJvdG90eXBlLnRvVGVtcGxh
dGVSZXBsYWNlbWVudHMgPSBIYXNoLnByb3RvdHlwZS50b09iamVjdDsKSGFzaC5m
cm9tID0gJEg7CnZhciBPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZShFbnVtZXJh
YmxlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgZXhjbHVz
aXZlKSB7CiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7CiAgICB0aGlzLmVuZCA9IGVu
ZDsKICAgIHRoaXMuZXhjbHVzaXZlID0gZXhjbHVzaXZlOwogIH0sCgogIF9lYWNo
OiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHZhbHVlID0gdGhpcy5zdGFy
dDsKICAgIHdoaWxlICh0aGlzLmluY2x1ZGUodmFsdWUpKSB7CiAgICAgIGl0ZXJh
dG9yKHZhbHVlKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zdWNjKCk7CiAgICB9CiAg
fSwKCiAgaW5jbHVkZTogZnVuY3Rpb24odmFsdWUpIHsKICAgIGlmICh2YWx1ZSA8
IHRoaXMuc3RhcnQpCiAgICAgIHJldHVybiBmYWxzZTsKICAgIGlmICh0aGlzLmV4
Y2x1c2l2ZSkKICAgICAgcmV0dXJuIHZhbHVlIDwgdGhpcy5lbmQ7CiAgICByZXR1
cm4gdmFsdWUgPD0gdGhpcy5lbmQ7CiAgfQp9KTsKCnZhciAkUiA9IGZ1bmN0aW9u
KHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSkgewogIHJldHVybiBuZXcgT2JqZWN0UmFu
Z2Uoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKTsKfTsKCnZhciBBamF4ID0gewogIGdl
dFRyYW5zcG9ydDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gVHJ5LnRoZXNlKAog
ICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCl9LAog
ICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1s
Mi5YTUxIVFRQJyl9LAogICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2
ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyl9CiAgICApIHx8IGZhbHNlOwog
IH0sCgogIGFjdGl2ZVJlcXVlc3RDb3VudDogMAp9OwoKQWpheC5SZXNwb25kZXJz
ID0gewogIHJlc3BvbmRlcnM6IFtdLAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgIHRoaXMucmVzcG9uZGVycy5fZWFjaChpdGVyYXRvcik7CiAgfSwK
CiAgcmVnaXN0ZXI6IGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgaWYgKCF0aGlz
LmluY2x1ZGUocmVzcG9uZGVyKSkKICAgICAgdGhpcy5yZXNwb25kZXJzLnB1c2go
cmVzcG9uZGVyKTsKICB9LAoKICB1bnJlZ2lzdGVyOiBmdW5jdGlvbihyZXNwb25k
ZXIpIHsKICAgIHRoaXMucmVzcG9uZGVycyA9IHRoaXMucmVzcG9uZGVycy53aXRo
b3V0KHJlc3BvbmRlcik7CiAgfSwKCiAgZGlzcGF0Y2g6IGZ1bmN0aW9uKGNhbGxi
YWNrLCByZXF1ZXN0LCB0cmFuc3BvcnQsIGpzb24pIHsKICAgIHRoaXMuZWFjaChm
dW5jdGlvbihyZXNwb25kZXIpIHsKICAgICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9u
KHJlc3BvbmRlcltjYWxsYmFja10pKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg
IHJlc3BvbmRlcltjYWxsYmFja10uYXBwbHkocmVzcG9uZGVyLCBbcmVxdWVzdCwg
dHJhbnNwb3J0LCBqc29uXSk7CiAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAg
IH0KICAgIH0pOwogIH0KfTsKCk9iamVjdC5leHRlbmQoQWpheC5SZXNwb25kZXJz
LCBFbnVtZXJhYmxlKTsKCkFqYXguUmVzcG9uZGVycy5yZWdpc3Rlcih7CiAgb25D
cmVhdGU6ICAgZnVuY3Rpb24oKSB7IEFqYXguYWN0aXZlUmVxdWVzdENvdW50Kysg
fSwKICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHsgQWpheC5hY3RpdmVSZXF1ZXN0
Q291bnQtLSB9Cn0pOwoKQWpheC5CYXNlID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0
aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICB0aGlzLm9wdGlvbnMgPSB7
CiAgICAgIG1ldGhvZDogICAgICAgJ3Bvc3QnLAogICAgICBhc3luY2hyb25vdXM6
IHRydWUsCiAgICAgIGNvbnRlbnRUeXBlOiAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZv
cm0tdXJsZW5jb2RlZCcsCiAgICAgIGVuY29kaW5nOiAgICAgJ1VURi04JywKICAg
ICAgcGFyYW1ldGVyczogICAnJywKICAgICAgZXZhbEpTT046ICAgICB0cnVlLAog
ICAgICBldmFsSlM6ICAgICAgIHRydWUKICAgIH07CiAgICBPYmplY3QuZXh0ZW5k
KHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7IH0pOwoKICAgIHRoaXMub3B0aW9u
cy5tZXRob2QgPSB0aGlzLm9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCk7Cgog
ICAgaWYgKE9iamVjdC5pc1N0cmluZyh0aGlzLm9wdGlvbnMucGFyYW1ldGVycykp
CiAgICAgIHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzID0gdGhpcy5vcHRpb25zLnBh
cmFtZXRlcnMudG9RdWVyeVBhcmFtcygpOwogICAgZWxzZSBpZiAoT2JqZWN0Lmlz
SGFzaCh0aGlzLm9wdGlvbnMucGFyYW1ldGVycykpCiAgICAgIHRoaXMub3B0aW9u
cy5wYXJhbWV0ZXJzID0gdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMudG9PYmplY3Qo
KTsKICB9Cn0pOwoKQWpheC5SZXF1ZXN0ID0gQ2xhc3MuY3JlYXRlKEFqYXguQmFz
ZSwgewogIF9jb21wbGV0ZTogZmFsc2UsCgogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgdXJsLCBvcHRpb25zKSB7CiAgICAkc3VwZXIob3B0aW9ucyk7CiAg
ICB0aGlzLnRyYW5zcG9ydCA9IEFqYXguZ2V0VHJhbnNwb3J0KCk7CiAgICB0aGlz
LnJlcXVlc3QodXJsKTsKICB9LAoKICByZXF1ZXN0OiBmdW5jdGlvbih1cmwpIHsK
ICAgIHRoaXMudXJsID0gdXJsOwogICAgdGhpcy5tZXRob2QgPSB0aGlzLm9wdGlv
bnMubWV0aG9kOwogICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jbG9uZSh0aGlzLm9w
dGlvbnMucGFyYW1ldGVycyk7CgogICAgaWYgKCFbJ2dldCcsICdwb3N0J10uaW5j
bHVkZSh0aGlzLm1ldGhvZCkpIHsKICAgICAgLy8gc2ltdWxhdGUgb3RoZXIgdmVy
YnMgb3ZlciBwb3N0CiAgICAgIHBhcmFtc1snX21ldGhvZCddID0gdGhpcy5tZXRo
b2Q7CiAgICAgIHRoaXMubWV0aG9kID0gJ3Bvc3QnOwogICAgfQoKICAgIHRoaXMu
cGFyYW1ldGVycyA9IHBhcmFtczsKCiAgICBpZiAocGFyYW1zID0gT2JqZWN0LnRv
UXVlcnlTdHJpbmcocGFyYW1zKSkgewogICAgICAvLyB3aGVuIEdFVCwgYXBwZW5k
IHBhcmFtZXRlcnMgdG8gVVJMCiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PSAnZ2V0
JykKICAgICAgICB0aGlzLnVybCArPSAodGhpcy51cmwuaW5jbHVkZSgnPycpID8g
JyYnIDogJz8nKSArIHBhcmFtczsKICAgICAgZWxzZSBpZiAoL0tvbnF1ZXJvcnxT
YWZhcml8S0hUTUwvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpCiAgICAgICAg
cGFyYW1zICs9ICcmXz0nOwogICAgfQoKICAgIHRyeSB7CiAgICAgIHZhciByZXNw
b25zZSA9IG5ldyBBamF4LlJlc3BvbnNlKHRoaXMpOwogICAgICBpZiAodGhpcy5v
cHRpb25zLm9uQ3JlYXRlKSB0aGlzLm9wdGlvbnMub25DcmVhdGUocmVzcG9uc2Up
OwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uQ3JlYXRlJywgdGhp
cywgcmVzcG9uc2UpOwoKICAgICAgdGhpcy50cmFuc3BvcnQub3Blbih0aGlzLm1l
dGhvZC50b1VwcGVyQ2FzZSgpLCB0aGlzLnVybCwKICAgICAgICB0aGlzLm9wdGlv
bnMuYXN5bmNocm9ub3VzKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXN5bmNo
cm9ub3VzKSB0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUuYmluZCh0aGlzKS5kZWZl
cigxKTsKCiAgICAgIHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9
IHRoaXMub25TdGF0ZUNoYW5nZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLnNldFJl
cXVlc3RIZWFkZXJzKCk7CgogICAgICB0aGlzLmJvZHkgPSB0aGlzLm1ldGhvZCA9
PSAncG9zdCcgPyAodGhpcy5vcHRpb25zLnBvc3RCb2R5IHx8IHBhcmFtcykgOiBu
dWxsOwogICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMuYm9keSk7CgogICAg
ICAvKiBGb3JjZSBGaXJlZm94IHRvIGhhbmRsZSByZWFkeSBzdGF0ZSA0IGZvciBz
eW5jaHJvbm91cyByZXF1ZXN0cyAqLwogICAgICBpZiAoIXRoaXMub3B0aW9ucy5h
c3luY2hyb25vdXMgJiYgdGhpcy50cmFuc3BvcnQub3ZlcnJpZGVNaW1lVHlwZSkK
ICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoKTsKCiAgICB9CiAgICBjYXRjaCAo
ZSkgewogICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQogIH0s
CgogIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJlYWR5U3Rh
dGUgPSB0aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlOwogICAgaWYgKHJlYWR5U3Rh
dGUgPiAxICYmICEoKHJlYWR5U3RhdGUgPT0gNCkgJiYgdGhpcy5fY29tcGxldGUp
KQogICAgICB0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUodGhpcy50cmFuc3BvcnQu
cmVhZHlTdGF0ZSk7CiAgfSwKCiAgc2V0UmVxdWVzdEhlYWRlcnM6IGZ1bmN0aW9u
KCkgewogICAgdmFyIGhlYWRlcnMgPSB7CiAgICAgICdYLVJlcXVlc3RlZC1XaXRo
JzogJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgJ1gtUHJvdG90eXBlLVZlcnNpb24n
OiBQcm90b3R5cGUuVmVyc2lvbiwKICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2phdmFz
Y3JpcHQsIHRleHQvaHRtbCwgYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCwgKi8q
JwogICAgfTsKCiAgICBpZiAodGhpcy5tZXRob2QgPT0gJ3Bvc3QnKSB7CiAgICAg
IGhlYWRlcnNbJ0NvbnRlbnQtdHlwZSddID0gdGhpcy5vcHRpb25zLmNvbnRlbnRU
eXBlICsKICAgICAgICAodGhpcy5vcHRpb25zLmVuY29kaW5nID8gJzsgY2hhcnNl
dD0nICsgdGhpcy5vcHRpb25zLmVuY29kaW5nIDogJycpOwoKICAgICAgLyogRm9y
Y2UgIkNvbm5lY3Rpb246IGNsb3NlIiBmb3Igb2xkZXIgTW96aWxsYSBicm93c2Vy
cyB0byB3b3JrCiAgICAgICAqIGFyb3VuZCBhIGJ1ZyB3aGVyZSBYTUxIdHRwUmVx
dWVzdCBzZW5kcyBhbiBpbmNvcnJlY3QKICAgICAgICogQ29udGVudC1sZW5ndGgg
aGVhZGVyLiBTZWUgTW96aWxsYSBCdWd6aWxsYSAjMjQ2NjUxLgogICAgICAgKi8K
ICAgICAgaWYgKHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUgJiYKICAg
ICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9HZWNrb1wvKFxkezR9
KS8pIHx8IFswLDIwMDVdKVsxXSA8IDIwMDUpCiAgICAgICAgICAgIGhlYWRlcnNb
J0Nvbm5lY3Rpb24nXSA9ICdjbG9zZSc7CiAgICB9CgogICAgLy8gdXNlci1kZWZp
bmVkIGhlYWRlcnMKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlcXVlc3RI
ZWFkZXJzID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBleHRyYXMgPSB0aGlzLm9w
dGlvbnMucmVxdWVzdEhlYWRlcnM7CgogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rp
b24oZXh0cmFzLnB1c2gpKQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGgg
PSBleHRyYXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDIpCiAgICAgICAgICBo
ZWFkZXJzW2V4dHJhc1tpXV0gPSBleHRyYXNbaSsxXTsKICAgICAgZWxzZQogICAg
ICAgICRIKGV4dHJhcykuZWFjaChmdW5jdGlvbihwYWlyKSB7IGhlYWRlcnNbcGFp
ci5rZXldID0gcGFpci52YWx1ZSB9KTsKICAgIH0KCiAgICBmb3IgKHZhciBuYW1l
IGluIGhlYWRlcnMpCiAgICAgIHRoaXMudHJhbnNwb3J0LnNldFJlcXVlc3RIZWFk
ZXIobmFtZSwgaGVhZGVyc1tuYW1lXSk7CiAgfSwKCiAgc3VjY2VzczogZnVuY3Rp
b24oKSB7CiAgICB2YXIgc3RhdHVzID0gdGhpcy5nZXRTdGF0dXMoKTsKICAgIHJl
dHVybiAhc3RhdHVzIHx8IChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCk7
CiAgfSwKCiAgZ2V0U3RhdHVzOiBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAg
IHJldHVybiB0aGlzLnRyYW5zcG9ydC5zdGF0dXMgfHwgMDsKICAgIH0gY2F0Y2gg
KGUpIHsgcmV0dXJuIDAgfQogIH0sCgogIHJlc3BvbmRUb1JlYWR5U3RhdGU6IGZ1
bmN0aW9uKHJlYWR5U3RhdGUpIHsKICAgIHZhciBzdGF0ZSA9IEFqYXguUmVxdWVz
dC5FdmVudHNbcmVhZHlTdGF0ZV0sIHJlc3BvbnNlID0gbmV3IEFqYXguUmVzcG9u
c2UodGhpcyk7CgogICAgaWYgKHN0YXRlID09ICdDb21wbGV0ZScpIHsKICAgICAg
dHJ5IHsKICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7CiAgICAgICAgKHRo
aXMub3B0aW9uc1snb24nICsgcmVzcG9uc2Uuc3RhdHVzXQogICAgICAgICB8fCB0
aGlzLm9wdGlvbnNbJ29uJyArICh0aGlzLnN1Y2Nlc3MoKSA/ICdTdWNjZXNzJyA6
ICdGYWlsdXJlJyldCiAgICAgICAgIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9u
KShyZXNwb25zZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICAgIH0gY2F0Y2gg
KGUpIHsKICAgICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgICB9
CgogICAgICB2YXIgY29udGVudFR5cGUgPSByZXNwb25zZS5nZXRIZWFkZXIoJ0Nv
bnRlbnQtdHlwZScpOwogICAgICBpZiAodGhpcy5vcHRpb25zLmV2YWxKUyA9PSAn
Zm9yY2UnCiAgICAgICAgICB8fCAodGhpcy5vcHRpb25zLmV2YWxKUyAmJiB0aGlz
LmlzU2FtZU9yaWdpbigpICYmIGNvbnRlbnRUeXBlCiAgICAgICAgICAmJiBjb250
ZW50VHlwZS5tYXRjaCgvXlxzKih0ZXh0fGFwcGxpY2F0aW9uKVwvKHgtKT8oamF2
YXxlY21hKXNjcmlwdCg7LiopP1xzKiQvaSkpKQogICAgICAgIHRoaXMuZXZhbFJl
c3BvbnNlKCk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgKHRoaXMub3B0aW9uc1sn
b24nICsgc3RhdGVdIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKShyZXNwb25z
ZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICAgIEFqYXguUmVzcG9uZGVycy5k
aXNwYXRjaCgnb24nICsgc3RhdGUsIHRoaXMsIHJlc3BvbnNlLCByZXNwb25zZS5o
ZWFkZXJKU09OKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRj
aEV4Y2VwdGlvbihlKTsKICAgIH0KCiAgICBpZiAoc3RhdGUgPT0gJ0NvbXBsZXRl
JykgewogICAgICAvLyBhdm9pZCBtZW1vcnkgbGVhayBpbiBNU0lFOiBjbGVhbiB1
cAogICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBQcm90
b3R5cGUuZW1wdHlGdW5jdGlvbjsKICAgIH0KICB9LAoKICBpc1NhbWVPcmlnaW46
IGZ1bmN0aW9uKCkgewogICAgdmFyIG0gPSB0aGlzLnVybC5tYXRjaCgvXlxzKmh0
dHBzPzpcL1wvW15cL10qLyk7CiAgICByZXR1cm4gIW0gfHwgKG1bMF0gPT0gJyN7
cHJvdG9jb2x9Ly8je2RvbWFpbn0je3BvcnR9Jy5pbnRlcnBvbGF0ZSh7CiAgICAg
IHByb3RvY29sOiBsb2NhdGlvbi5wcm90b2NvbCwKICAgICAgZG9tYWluOiBkb2N1
bWVudC5kb21haW4sCiAgICAgIHBvcnQ6IGxvY2F0aW9uLnBvcnQgPyAnOicgKyBs
b2NhdGlvbi5wb3J0IDogJycKICAgIH0pKTsKICB9LAoKICBnZXRIZWFkZXI6IGZ1
bmN0aW9uKG5hbWUpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5z
cG9ydC5nZXRSZXNwb25zZUhlYWRlcihuYW1lKSB8fCBudWxsOwogICAgfSBjYXRj
aCAoZSkgeyByZXR1cm4gbnVsbCB9CiAgfSwKCiAgZXZhbFJlc3BvbnNlOiBmdW5j
dGlvbigpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiBldmFsKCh0aGlzLnRyYW5z
cG9ydC5yZXNwb25zZVRleHQgfHwgJycpLnVuZmlsdGVySlNPTigpKTsKICAgIH0g
Y2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAg
IH0KICB9LAoKICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9u
KSB7CiAgICAodGhpcy5vcHRpb25zLm9uRXhjZXB0aW9uIHx8IFByb3RvdHlwZS5l
bXB0eUZ1bmN0aW9uKSh0aGlzLCBleGNlcHRpb24pOwogICAgQWpheC5SZXNwb25k
ZXJzLmRpc3BhdGNoKCdvbkV4Y2VwdGlvbicsIHRoaXMsIGV4Y2VwdGlvbik7CiAg
fQp9KTsKCkFqYXguUmVxdWVzdC5FdmVudHMgPQogIFsnVW5pbml0aWFsaXplZCcs
ICdMb2FkaW5nJywgJ0xvYWRlZCcsICdJbnRlcmFjdGl2ZScsICdDb21wbGV0ZSdd
OwoKQWpheC5SZXNwb25zZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTog
ZnVuY3Rpb24ocmVxdWVzdCl7CiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0Owog
ICAgdmFyIHRyYW5zcG9ydCAgPSB0aGlzLnRyYW5zcG9ydCAgPSByZXF1ZXN0LnRy
YW5zcG9ydCwKICAgICAgICByZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlID0g
dHJhbnNwb3J0LnJlYWR5U3RhdGU7CgogICAgaWYoKHJlYWR5U3RhdGUgPiAyICYm
ICFQcm90b3R5cGUuQnJvd3Nlci5JRSkgfHwgcmVhZHlTdGF0ZSA9PSA0KSB7CiAg
ICAgIHRoaXMuc3RhdHVzICAgICAgID0gdGhpcy5nZXRTdGF0dXMoKTsKICAgICAg
dGhpcy5zdGF0dXNUZXh0ICAgPSB0aGlzLmdldFN0YXR1c1RleHQoKTsKICAgICAg
dGhpcy5yZXNwb25zZVRleHQgPSBTdHJpbmcuaW50ZXJwcmV0KHRyYW5zcG9ydC5y
ZXNwb25zZVRleHQpOwogICAgICB0aGlzLmhlYWRlckpTT04gICA9IHRoaXMuX2dl
dEhlYWRlckpTT04oKTsKICAgIH0KCiAgICBpZihyZWFkeVN0YXRlID09IDQpIHsK
ICAgICAgdmFyIHhtbCA9IHRyYW5zcG9ydC5yZXNwb25zZVhNTDsKICAgICAgdGhp
cy5yZXNwb25zZVhNTCAgPSBPYmplY3QuaXNVbmRlZmluZWQoeG1sKSA/IG51bGwg
OiB4bWw7CiAgICAgIHRoaXMucmVzcG9uc2VKU09OID0gdGhpcy5fZ2V0UmVzcG9u
c2VKU09OKCk7CiAgICB9CiAgfSwKCiAgc3RhdHVzOiAgICAgIDAsCiAgc3RhdHVz
VGV4dDogJycsCgogIGdldFN0YXR1czogQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5n
ZXRTdGF0dXMsCgogIGdldFN0YXR1c1RleHQ6IGZ1bmN0aW9uKCkgewogICAgdHJ5
IHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN0YXR1c1RleHQgfHwgJyc7
CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAnJyB9CiAgfSwKCiAgZ2V0SGVhZGVy
OiBBamF4LlJlcXVlc3QucHJvdG90eXBlLmdldEhlYWRlciwKCiAgZ2V0QWxsSGVh
ZGVyczogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy5n
ZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJu
IG51bGwgfQogIH0sCgogIGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbihuYW1l
KSB7CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIo
bmFtZSk7CiAgfSwKCiAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBbGxSZXNwb25zZUhlYWRl
cnMoKTsKICB9LAoKICBfZ2V0SGVhZGVySlNPTjogZnVuY3Rpb24oKSB7CiAgICB2
YXIganNvbiA9IHRoaXMuZ2V0SGVhZGVyKCdYLUpTT04nKTsKICAgIGlmICghanNv
bikgcmV0dXJuIG51bGw7CiAgICBqc29uID0gZGVjb2RlVVJJQ29tcG9uZW50KGVz
Y2FwZShqc29uKSk7CiAgICB0cnkgewogICAgICByZXR1cm4ganNvbi5ldmFsSlNP
Tih0aGlzLnJlcXVlc3Qub3B0aW9ucy5zYW5pdGl6ZUpTT04gfHwKICAgICAgICAh
dGhpcy5yZXF1ZXN0LmlzU2FtZU9yaWdpbigpKTsKICAgIH0gY2F0Y2ggKGUpIHsK
ICAgICAgdGhpcy5yZXF1ZXN0LmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQog
IH0sCgogIF9nZXRSZXNwb25zZUpTT046IGZ1bmN0aW9uKCkgewogICAgdmFyIG9w
dGlvbnMgPSB0aGlzLnJlcXVlc3Qub3B0aW9uczsKICAgIGlmICghb3B0aW9ucy5l
dmFsSlNPTiB8fCAob3B0aW9ucy5ldmFsSlNPTiAhPSAnZm9yY2UnICYmCiAgICAg
ICEodGhpcy5nZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScpIHx8ICcnKS5pbmNsdWRl
KCdhcHBsaWNhdGlvbi9qc29uJykpIHx8CiAgICAgICAgdGhpcy5yZXNwb25zZVRl
eHQuYmxhbmsoKSkKICAgICAgICAgIHJldHVybiBudWxsOwogICAgdHJ5IHsKICAg
ICAgcmV0dXJuIHRoaXMucmVzcG9uc2VUZXh0LmV2YWxKU09OKG9wdGlvbnMuc2Fu
aXRpemVKU09OIHx8CiAgICAgICAgIXRoaXMucmVxdWVzdC5pc1NhbWVPcmlnaW4o
KSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMucmVxdWVzdC5kaXNwYXRj
aEV4Y2VwdGlvbihlKTsKICAgIH0KICB9Cn0pOwoKQWpheC5VcGRhdGVyID0gQ2xh
c3MuY3JlYXRlKEFqYXguUmVxdWVzdCwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgIHRoaXMuY29u
dGFpbmVyID0gewogICAgICBzdWNjZXNzOiAoY29udGFpbmVyLnN1Y2Nlc3MgfHwg
Y29udGFpbmVyKSwKICAgICAgZmFpbHVyZTogKGNvbnRhaW5lci5mYWlsdXJlIHx8
IChjb250YWluZXIuc3VjY2VzcyA/IG51bGwgOiBjb250YWluZXIpKQogICAgfTsK
CiAgICBvcHRpb25zID0gT2JqZWN0LmNsb25lKG9wdGlvbnMpOwogICAgdmFyIG9u
Q29tcGxldGUgPSBvcHRpb25zLm9uQ29tcGxldGU7CiAgICBvcHRpb25zLm9uQ29t
cGxldGUgPSAoZnVuY3Rpb24ocmVzcG9uc2UsIGpzb24pIHsKICAgICAgdGhpcy51
cGRhdGVDb250ZW50KHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgIGlmIChP
YmplY3QuaXNGdW5jdGlvbihvbkNvbXBsZXRlKSkgb25Db21wbGV0ZShyZXNwb25z
ZSwganNvbik7CiAgICB9KS5iaW5kKHRoaXMpOwoKICAgICRzdXBlcih1cmwsIG9w
dGlvbnMpOwogIH0sCgogIHVwZGF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKHJlc3BvbnNl
VGV4dCkgewogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5jb250YWluZXJbdGhpcy5z
dWNjZXNzKCkgPyAnc3VjY2VzcycgOiAnZmFpbHVyZSddLAogICAgICAgIG9wdGlv
bnMgPSB0aGlzLm9wdGlvbnM7CgogICAgaWYgKCFvcHRpb25zLmV2YWxTY3JpcHRz
KSByZXNwb25zZVRleHQgPSByZXNwb25zZVRleHQuc3RyaXBTY3JpcHRzKCk7Cgog
ICAgaWYgKHJlY2VpdmVyID0gJChyZWNlaXZlcikpIHsKICAgICAgaWYgKG9wdGlv
bnMuaW5zZXJ0aW9uKSB7CiAgICAgICAgaWYgKE9iamVjdC5pc1N0cmluZyhvcHRp
b25zLmluc2VydGlvbikpIHsKICAgICAgICAgIHZhciBpbnNlcnRpb24gPSB7IH07
IGluc2VydGlvbltvcHRpb25zLmluc2VydGlvbl0gPSByZXNwb25zZVRleHQ7CiAg
ICAgICAgICByZWNlaXZlci5pbnNlcnQoaW5zZXJ0aW9uKTsKICAgICAgICB9CiAg
ICAgICAgZWxzZSBvcHRpb25zLmluc2VydGlvbihyZWNlaXZlciwgcmVzcG9uc2VU
ZXh0KTsKICAgICAgfQogICAgICBlbHNlIHJlY2VpdmVyLnVwZGF0ZShyZXNwb25z
ZVRleHQpOwogICAgfQogIH0KfSk7CgpBamF4LlBlcmlvZGljYWxVcGRhdGVyID0g
Q2xhc3MuY3JlYXRlKEFqYXguQmFzZSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgICRzdXBlcihv
cHRpb25zKTsKICAgIHRoaXMub25Db21wbGV0ZSA9IHRoaXMub3B0aW9ucy5vbkNv
bXBsZXRlOwoKICAgIHRoaXMuZnJlcXVlbmN5ID0gKHRoaXMub3B0aW9ucy5mcmVx
dWVuY3kgfHwgMik7CiAgICB0aGlzLmRlY2F5ID0gKHRoaXMub3B0aW9ucy5kZWNh
eSB8fCAxKTsKCiAgICB0aGlzLnVwZGF0ZXIgPSB7IH07CiAgICB0aGlzLmNvbnRh
aW5lciA9IGNvbnRhaW5lcjsKICAgIHRoaXMudXJsID0gdXJsOwoKICAgIHRoaXMu
c3RhcnQoKTsKICB9LAoKICBzdGFydDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLm9w
dGlvbnMub25Db21wbGV0ZSA9IHRoaXMudXBkYXRlQ29tcGxldGUuYmluZCh0aGlz
KTsKICAgIHRoaXMub25UaW1lckV2ZW50KCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rp
b24oKSB7CiAgICB0aGlzLnVwZGF0ZXIub3B0aW9ucy5vbkNvbXBsZXRlID0gdW5k
ZWZpbmVkOwogICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgKHRoaXMu
b25Db21wbGV0ZSB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikuYXBwbHkodGhp
cywgYXJndW1lbnRzKTsKICB9LAoKICB1cGRhdGVDb21wbGV0ZTogZnVuY3Rpb24o
cmVzcG9uc2UpIHsKICAgIGlmICh0aGlzLm9wdGlvbnMuZGVjYXkpIHsKICAgICAg
dGhpcy5kZWNheSA9IChyZXNwb25zZS5yZXNwb25zZVRleHQgPT0gdGhpcy5sYXN0
VGV4dCA/CiAgICAgICAgdGhpcy5kZWNheSAqIHRoaXMub3B0aW9ucy5kZWNheSA6
IDEpOwoKICAgICAgdGhpcy5sYXN0VGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4
dDsKICAgIH0KICAgIHRoaXMudGltZXIgPSB0aGlzLm9uVGltZXJFdmVudC5iaW5k
KHRoaXMpLmRlbGF5KHRoaXMuZGVjYXkgKiB0aGlzLmZyZXF1ZW5jeSk7CiAgfSwK
CiAgb25UaW1lckV2ZW50OiBmdW5jdGlvbigpIHsKICAgIHRoaXMudXBkYXRlciA9
IG5ldyBBamF4LlVwZGF0ZXIodGhpcy5jb250YWluZXIsIHRoaXMudXJsLCB0aGlz
Lm9wdGlvbnMpOwogIH0KfSk7CmZ1bmN0aW9uICQoZWxlbWVudCkgewogIGlmIChh
cmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgZm9yICh2YXIgaSA9IDAsIGVsZW1l
bnRzID0gW10sIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7
IGkrKykKICAgICAgZWxlbWVudHMucHVzaCgkKGFyZ3VtZW50c1tpXSkpOwogICAg
cmV0dXJuIGVsZW1lbnRzOwogIH0KICBpZiAoT2JqZWN0LmlzU3RyaW5nKGVsZW1l
bnQpKQogICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1l
bnQpOwogIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKfQoKaWYgKFBy
b3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuWFBhdGgpIHsKICBkb2N1bWVudC5fZ2V0
RWxlbWVudHNCeVhQYXRoID0gZnVuY3Rpb24oZXhwcmVzc2lvbiwgcGFyZW50RWxl
bWVudCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBxdWVyeSA9IGRv
Y3VtZW50LmV2YWx1YXRlKGV4cHJlc3Npb24sICQocGFyZW50RWxlbWVudCkgfHwg
ZG9jdW1lbnQsCiAgICAgIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9T
TkFQU0hPVF9UWVBFLCBudWxsKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGgg
PSBxdWVyeS5zbmFwc2hvdExlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKQogICAgICBy
ZXN1bHRzLnB1c2goRWxlbWVudC5leHRlbmQocXVlcnkuc25hcHNob3RJdGVtKGkp
KSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9Owp9CgovKi0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tKi8KCmlmICghd2luZG93Lk5vZGUpIHZhciBOb2RlID0geyB9
OwoKaWYgKCFOb2RlLkVMRU1FTlRfTk9ERSkgewogIC8vIERPTSBsZXZlbCAyIEVD
TUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZwogIE9iamVjdC5leHRlbmQoTm9kZSwg
ewogICAgRUxFTUVOVF9OT0RFOiAxLAogICAgQVRUUklCVVRFX05PREU6IDIsCiAg
ICBURVhUX05PREU6IDMsCiAgICBDREFUQV9TRUNUSU9OX05PREU6IDQsCiAgICBF
TlRJVFlfUkVGRVJFTkNFX05PREU6IDUsCiAgICBFTlRJVFlfTk9ERTogNiwKICAg
IFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTogNywKICAgIENPTU1FTlRfTk9E
RTogOCwKICAgIERPQ1VNRU5UX05PREU6IDksCiAgICBET0NVTUVOVF9UWVBFX05P
REU6IDEwLAogICAgRE9DVU1FTlRfRlJBR01FTlRfTk9ERTogMTEsCiAgICBOT1RB
VElPTl9OT0RFOiAxMgogIH0pOwp9CgooZnVuY3Rpb24oKSB7CiAgdmFyIGVsZW1l
bnQgPSB0aGlzLkVsZW1lbnQ7CiAgdGhpcy5FbGVtZW50ID0gZnVuY3Rpb24odGFn
TmFtZSwgYXR0cmlidXRlcykgewogICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMg
fHwgeyB9OwogICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAg
IHZhciBjYWNoZSA9IEVsZW1lbnQuY2FjaGU7CiAgICBpZiAoUHJvdG90eXBlLkJy
b3dzZXIuSUUgJiYgYXR0cmlidXRlcy5uYW1lKSB7CiAgICAgIHRhZ05hbWUgPSAn
PCcgKyB0YWdOYW1lICsgJyBuYW1lPSInICsgYXR0cmlidXRlcy5uYW1lICsgJyI+
JzsKICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMubmFtZTsKICAgICAgcmV0dXJuIEVs
ZW1lbnQud3JpdGVBdHRyaWJ1dGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdO
YW1lKSwgYXR0cmlidXRlcyk7CiAgICB9CiAgICBpZiAoIWNhY2hlW3RhZ05hbWVd
KSBjYWNoZVt0YWdOYW1lXSA9IEVsZW1lbnQuZXh0ZW5kKGRvY3VtZW50LmNyZWF0
ZUVsZW1lbnQodGFnTmFtZSkpOwogICAgcmV0dXJuIEVsZW1lbnQud3JpdGVBdHRy
aWJ1dGUoY2FjaGVbdGFnTmFtZV0uY2xvbmVOb2RlKGZhbHNlKSwgYXR0cmlidXRl
cyk7CiAgfTsKICBPYmplY3QuZXh0ZW5kKHRoaXMuRWxlbWVudCwgZWxlbWVudCB8
fCB7IH0pOwogIGlmIChlbGVtZW50KSB0aGlzLkVsZW1lbnQucHJvdG90eXBlID0g
ZWxlbWVudC5wcm90b3R5cGU7Cn0pLmNhbGwod2luZG93KTsKCkVsZW1lbnQuY2Fj
aGUgPSB7IH07CgpFbGVtZW50Lk1ldGhvZHMgPSB7CiAgdmlzaWJsZTogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuc3R5bGUuZGlzcGxh
eSAhPSAnbm9uZSc7CiAgfSwKCiAgdG9nZ2xlOiBmdW5jdGlvbihlbGVtZW50KSB7
CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIEVsZW1lbnRbRWxlbWVudC52
aXNpYmxlKGVsZW1lbnQpID8gJ2hpZGUnIDogJ3Nob3cnXShlbGVtZW50KTsKICAg
IHJldHVybiBlbGVtZW50OwogIH0sCgogIGhpZGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5k
aXNwbGF5ID0gJ25vbmUnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgc2hv
dzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7
CiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIHJlbW92ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxl
bWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3Zl
Q2hpbGQoZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1cGRh
dGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAk
KGVsZW1lbnQpOwogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQp
IGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgaWYgKE9iamVjdC5p
c0VsZW1lbnQoY29udGVudCkpIHJldHVybiBlbGVtZW50LnVwZGF0ZSgpLmluc2Vy
dChjb250ZW50KTsKICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQp
OwogICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygp
OwogICAgY29udGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7
CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICByZXBsYWNlOiBmdW5jdGlvbihl
bGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAg
IGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50KSBjb250ZW50ID0gY29u
dGVudC50b0VsZW1lbnQoKTsKICAgIGVsc2UgaWYgKCFPYmplY3QuaXNFbGVtZW50
KGNvbnRlbnQpKSB7CiAgICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRl
bnQpOwogICAgICB2YXIgcmFuZ2UgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3Jl
YXRlUmFuZ2UoKTsKICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShlbGVtZW50KTsKICAg
ICAgY29udGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7CiAg
ICAgIGNvbnRlbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoY29u
dGVudC5zdHJpcFNjcmlwdHMoKSk7CiAgICB9CiAgICBlbGVtZW50LnBhcmVudE5v
ZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgcmV0dXJuIGVs
ZW1lbnQ7CiAgfSwKCiAgaW5zZXJ0OiBmdW5jdGlvbihlbGVtZW50LCBpbnNlcnRp
b25zKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoT2JqZWN0
LmlzU3RyaW5nKGluc2VydGlvbnMpIHx8IE9iamVjdC5pc051bWJlcihpbnNlcnRp
b25zKSB8fAogICAgICAgIE9iamVjdC5pc0VsZW1lbnQoaW5zZXJ0aW9ucykgfHwg
KGluc2VydGlvbnMgJiYgKGluc2VydGlvbnMudG9FbGVtZW50IHx8IGluc2VydGlv
bnMudG9IVE1MKSkpCiAgICAgICAgICBpbnNlcnRpb25zID0ge2JvdHRvbTppbnNl
cnRpb25zfTsKCiAgICB2YXIgY29udGVudCwgaW5zZXJ0LCB0YWdOYW1lLCBjaGls
ZE5vZGVzOwoKICAgIGZvciAodmFyIHBvc2l0aW9uIGluIGluc2VydGlvbnMpIHsK
ICAgICAgY29udGVudCAgPSBpbnNlcnRpb25zW3Bvc2l0aW9uXTsKICAgICAgcG9z
aXRpb24gPSBwb3NpdGlvbi50b0xvd2VyQ2FzZSgpOwogICAgICBpbnNlcnQgPSBF
bGVtZW50Ll9pbnNlcnRpb25UcmFuc2xhdGlvbnNbcG9zaXRpb25dOwoKICAgICAg
aWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250
ZW50LnRvRWxlbWVudCgpOwogICAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250
ZW50KSkgewogICAgICAgIGluc2VydChlbGVtZW50LCBjb250ZW50KTsKICAgICAg
ICBjb250aW51ZTsKICAgICAgfQoKICAgICAgY29udGVudCA9IE9iamVjdC50b0hU
TUwoY29udGVudCk7CgogICAgICB0YWdOYW1lID0gKChwb3NpdGlvbiA9PSAnYmVm
b3JlJyB8fCBwb3NpdGlvbiA9PSAnYWZ0ZXInKQogICAgICAgID8gZWxlbWVudC5w
YXJlbnROb2RlIDogZWxlbWVudCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAg
ICAgY2hpbGROb2RlcyA9IEVsZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3Vz
RWxlbWVudCh0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKCiAgICAg
IGlmIChwb3NpdGlvbiA9PSAndG9wJyB8fCBwb3NpdGlvbiA9PSAnYWZ0ZXInKSBj
aGlsZE5vZGVzLnJldmVyc2UoKTsKICAgICAgY2hpbGROb2Rlcy5lYWNoKGluc2Vy
dC5jdXJyeShlbGVtZW50KSk7CgogICAgICBjb250ZW50LmV2YWxTY3JpcHRzLmJp
bmQoY29udGVudCkuZGVmZXIoKTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsK
ICB9LAoKICB3cmFwOiBmdW5jdGlvbihlbGVtZW50LCB3cmFwcGVyLCBhdHRyaWJ1
dGVzKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChPYmplY3Qu
aXNFbGVtZW50KHdyYXBwZXIpKQogICAgICAkKHdyYXBwZXIpLndyaXRlQXR0cmli
dXRlKGF0dHJpYnV0ZXMgfHwgeyB9KTsKICAgIGVsc2UgaWYgKE9iamVjdC5pc1N0
cmluZyh3cmFwcGVyKSkgd3JhcHBlciA9IG5ldyBFbGVtZW50KHdyYXBwZXIsIGF0
dHJpYnV0ZXMpOwogICAgZWxzZSB3cmFwcGVyID0gbmV3IEVsZW1lbnQoJ2Rpdics
IHdyYXBwZXIpOwogICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkKICAgICAgZWxl
bWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTsK
ICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICByZXR1cm4gd3Jh
cHBlcjsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBl
bGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBlbGVt
ZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgICRIKHsnaWQnOiAnaWQnLCAn
Y2xhc3NOYW1lJzogJ2NsYXNzJ30pLmVhY2goZnVuY3Rpb24ocGFpcikgewogICAg
ICB2YXIgcHJvcGVydHkgPSBwYWlyLmZpcnN0KCksIGF0dHJpYnV0ZSA9IHBhaXIu
bGFzdCgpOwogICAgICB2YXIgdmFsdWUgPSAoZWxlbWVudFtwcm9wZXJ0eV0gfHwg
JycpLnRvU3RyaW5nKCk7CiAgICAgIGlmICh2YWx1ZSkgcmVzdWx0ICs9ICcgJyAr
IGF0dHJpYnV0ZSArICc9JyArIHZhbHVlLmluc3BlY3QodHJ1ZSk7CiAgICB9KTsK
ICAgIHJldHVybiByZXN1bHQgKyAnPic7CiAgfSwKCiAgcmVjdXJzaXZlbHlDb2xs
ZWN0OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKICAgIHdoaWxlIChl
bGVtZW50ID0gZWxlbWVudFtwcm9wZXJ0eV0pCiAgICAgIGlmIChlbGVtZW50Lm5v
ZGVUeXBlID09IDEpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVu
ZChlbGVtZW50KSk7CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfSwKCiAgYW5jZXN0
b3JzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5y
ZWN1cnNpdmVseUNvbGxlY3QoJ3BhcmVudE5vZGUnKTsKICB9LAoKICBkZXNjZW5k
YW50czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCku
c2VsZWN0KCIqIik7CiAgfSwKCiAgZmlyc3REZXNjZW5kYW50OiBmdW5jdGlvbihl
bGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KS5maXJzdENoaWxkOwog
ICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSAhPSAxKSBlbGVt
ZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKICAgIHJldHVybiAkKGVsZW1lbnQp
OwogIH0sCgogIGltbWVkaWF0ZURlc2NlbmRhbnRzOiBmdW5jdGlvbihlbGVtZW50
KSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KS5maXJzdENoaWxkKSkg
cmV0dXJuIFtdOwogICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlw
ZSAhPSAxKSBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKICAgIGlmIChl
bGVtZW50KSByZXR1cm4gW2VsZW1lbnRdLmNvbmNhdCgkKGVsZW1lbnQpLm5leHRT
aWJsaW5ncygpKTsKICAgIHJldHVybiBbXTsKICB9LAoKICBwcmV2aW91c1NpYmxp
bmdzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5y
ZWN1cnNpdmVseUNvbGxlY3QoJ3ByZXZpb3VzU2libGluZycpOwogIH0sCgogIG5l
eHRTaWJsaW5nczogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxl
bWVudCkucmVjdXJzaXZlbHlDb2xsZWN0KCduZXh0U2libGluZycpOwogIH0sCgog
IHNpYmxpbmdzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChl
bGVtZW50KTsKICAgIHJldHVybiBlbGVtZW50LnByZXZpb3VzU2libGluZ3MoKS5y
ZXZlcnNlKCkuY29uY2F0KGVsZW1lbnQubmV4dFNpYmxpbmdzKCkpOwogIH0sCgog
IG1hdGNoOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvcikgewogICAgaWYgKE9i
amVjdC5pc1N0cmluZyhzZWxlY3RvcikpCiAgICAgIHNlbGVjdG9yID0gbmV3IFNl
bGVjdG9yKHNlbGVjdG9yKTsKICAgIHJldHVybiBzZWxlY3Rvci5tYXRjaCgkKGVs
ZW1lbnQpKTsKICB9LAoKICB1cDogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lv
biwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGFy
Z3VtZW50cy5sZW5ndGggPT0gMSkgcmV0dXJuICQoZWxlbWVudC5wYXJlbnROb2Rl
KTsKICAgIHZhciBhbmNlc3RvcnMgPSBlbGVtZW50LmFuY2VzdG9ycygpOwogICAg
cmV0dXJuIE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSA/IGFuY2VzdG9yc1tl
eHByZXNzaW9uXSA6CiAgICAgIFNlbGVjdG9yLmZpbmRFbGVtZW50KGFuY2VzdG9y
cywgZXhwcmVzc2lvbiwgaW5kZXgpOwogIH0sCgogIGRvd246IGZ1bmN0aW9uKGVs
ZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBlbGVtZW50ID0gJChlbGVt
ZW50KTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHJldHVybiBlbGVt
ZW50LmZpcnN0RGVzY2VuZGFudCgpOwogICAgcmV0dXJuIE9iamVjdC5pc051bWJl
cihleHByZXNzaW9uKSA/IGVsZW1lbnQuZGVzY2VuZGFudHMoKVtleHByZXNzaW9u
XSA6CiAgICAgIEVsZW1lbnQuc2VsZWN0KGVsZW1lbnQsIGV4cHJlc3Npb24pW2lu
ZGV4IHx8IDBdOwogIH0sCgogIHByZXZpb3VzOiBmdW5jdGlvbihlbGVtZW50LCBl
eHByZXNzaW9uLCBpbmRleCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSByZXR1cm4gJChTZWxlY3Rvci5o
YW5kbGVycy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKGVsZW1lbnQpKTsKICAgIHZh
ciBwcmV2aW91c1NpYmxpbmdzID0gZWxlbWVudC5wcmV2aW91c1NpYmxpbmdzKCk7
CiAgICByZXR1cm4gT2JqZWN0LmlzTnVtYmVyKGV4cHJlc3Npb24pID8gcHJldmlv
dXNTaWJsaW5nc1tleHByZXNzaW9uXSA6CiAgICAgIFNlbGVjdG9yLmZpbmRFbGVt
ZW50KHByZXZpb3VzU2libGluZ3MsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9LAoK
ICBuZXh0OiBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0
aCA9PSAxKSByZXR1cm4gJChTZWxlY3Rvci5oYW5kbGVycy5uZXh0RWxlbWVudFNp
YmxpbmcoZWxlbWVudCkpOwogICAgdmFyIG5leHRTaWJsaW5ncyA9IGVsZW1lbnQu
bmV4dFNpYmxpbmdzKCk7CiAgICByZXR1cm4gT2JqZWN0LmlzTnVtYmVyKGV4cHJl
c3Npb24pID8gbmV4dFNpYmxpbmdzW2V4cHJlc3Npb25dIDoKICAgICAgU2VsZWN0
b3IuZmluZEVsZW1lbnQobmV4dFNpYmxpbmdzLCBleHByZXNzaW9uLCBpbmRleCk7
CiAgfSwKCiAgc2VsZWN0OiBmdW5jdGlvbigpIHsKICAgIHZhciBhcmdzID0gJEEo
YXJndW1lbnRzKSwgZWxlbWVudCA9ICQoYXJncy5zaGlmdCgpKTsKICAgIHJldHVy
biBTZWxlY3Rvci5maW5kQ2hpbGRFbGVtZW50cyhlbGVtZW50LCBhcmdzKTsKICB9
LAoKICBhZGphY2VudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgYXJncyA9ICRBKGFy
Z3VtZW50cyksIGVsZW1lbnQgPSAkKGFyZ3Muc2hpZnQoKSk7CiAgICByZXR1cm4g
U2VsZWN0b3IuZmluZENoaWxkRWxlbWVudHMoZWxlbWVudC5wYXJlbnROb2RlLCBh
cmdzKS53aXRob3V0KGVsZW1lbnQpOwogIH0sCgogIGlkZW50aWZ5OiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBp
ZCA9IGVsZW1lbnQucmVhZEF0dHJpYnV0ZSgnaWQnKSwgc2VsZiA9IGFyZ3VtZW50
cy5jYWxsZWU7CiAgICBpZiAoaWQpIHJldHVybiBpZDsKICAgIGRvIHsgaWQgPSAn
YW5vbnltb3VzX2VsZW1lbnRfJyArIHNlbGYuY291bnRlcisrIH0gd2hpbGUgKCQo
aWQpKTsKICAgIGVsZW1lbnQud3JpdGVBdHRyaWJ1dGUoJ2lkJywgaWQpOwogICAg
cmV0dXJuIGlkOwogIH0sCgogIHJlYWRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGVsZW1l
bnQsIG5hbWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKFBy
b3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICAgIHZhciB0ID0gRWxlbWVudC5fYXR0
cmlidXRlVHJhbnNsYXRpb25zLnJlYWQ7CiAgICAgIGlmICh0LnZhbHVlc1tuYW1l
XSkgcmV0dXJuIHQudmFsdWVzW25hbWVdKGVsZW1lbnQsIG5hbWUpOwogICAgICBp
ZiAodC5uYW1lc1tuYW1lXSkgbmFtZSA9IHQubmFtZXNbbmFtZV07CiAgICAgIGlm
IChuYW1lLmluY2x1ZGUoJzonKSkgewogICAgICAgIHJldHVybiAoIWVsZW1lbnQu
YXR0cmlidXRlcyB8fCAhZWxlbWVudC5hdHRyaWJ1dGVzW25hbWVdKSA/IG51bGwg
OgogICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXNbbmFtZV0udmFsdWU7CiAgICAg
IH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsK
ICB9LAoKICB3cml0ZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwg
dmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGF0dHJp
YnV0ZXMgPSB7IH0sIHQgPSBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMu
d3JpdGU7CgogICAgaWYgKHR5cGVvZiBuYW1lID09ICdvYmplY3QnKSBhdHRyaWJ1
dGVzID0gbmFtZTsKICAgIGVsc2UgYXR0cmlidXRlc1tuYW1lXSA9IE9iamVjdC5p
c1VuZGVmaW5lZCh2YWx1ZSkgPyB0cnVlIDogdmFsdWU7CgogICAgZm9yICh2YXIg
YXR0ciBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgIG5hbWUgPSB0Lm5hbWVzW2F0dHJd
IHx8IGF0dHI7CiAgICAgIHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTsKICAgICAg
aWYgKHQudmFsdWVzW2F0dHJdKSBuYW1lID0gdC52YWx1ZXNbYXR0cl0oZWxlbWVu
dCwgdmFsdWUpOwogICAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09
PSBudWxsKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwog
ICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkKICAgICAgICBlbGVtZW50LnNl
dEF0dHJpYnV0ZShuYW1lLCBuYW1lKTsKICAgICAgZWxzZSBlbGVtZW50LnNldEF0
dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsK
ICB9LAoKICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVy
biAkKGVsZW1lbnQpLmdldERpbWVuc2lvbnMoKS5oZWlnaHQ7CiAgfSwKCiAgZ2V0
V2lkdGg6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQp
LmdldERpbWVuc2lvbnMoKS53aWR0aDsKICB9LAoKICBjbGFzc05hbWVzOiBmdW5j
dGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gbmV3IEVsZW1lbnQuQ2xhc3NOYW1l
cyhlbGVtZW50KTsKICB9LAoKICBoYXNDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1l
bnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkp
KSByZXR1cm47CiAgICB2YXIgZWxlbWVudENsYXNzTmFtZSA9IGVsZW1lbnQuY2xh
c3NOYW1lOwogICAgcmV0dXJuIChlbGVtZW50Q2xhc3NOYW1lLmxlbmd0aCA+IDAg
JiYgKGVsZW1lbnRDbGFzc05hbWUgPT0gY2xhc3NOYW1lIHx8CiAgICAgIG5ldyBS
ZWdFeHAoIihefFxccykiICsgY2xhc3NOYW1lICsgIihcXHN8JCkiKS50ZXN0KGVs
ZW1lbnRDbGFzc05hbWUpKSk7CiAgfSwKCiAgYWRkQ2xhc3NOYW1lOiBmdW5jdGlv
bihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVs
ZW1lbnQpKSkgcmV0dXJuOwogICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzTmFtZShj
bGFzc05hbWUpKQogICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAoZWxlbWVudC5j
bGFzc05hbWUgPyAnICcgOiAnJykgKyBjbGFzc05hbWU7CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICByZW1vdmVDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQs
IGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSBy
ZXR1cm47CiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1l
LnJlcGxhY2UoCiAgICAgIG5ldyBSZWdFeHAoIihefFxccyspIiArIGNsYXNzTmFt
ZSArICIoXFxzK3wkKSIpLCAnICcpLnN0cmlwKCk7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9LAoKICB0b2dnbGVDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNs
YXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1
cm47CiAgICByZXR1cm4gZWxlbWVudFtlbGVtZW50Lmhhc0NsYXNzTmFtZShjbGFz
c05hbWUpID8KICAgICAgJ3JlbW92ZUNsYXNzTmFtZScgOiAnYWRkQ2xhc3NOYW1l
J10oY2xhc3NOYW1lKTsKICB9LAoKICAvLyByZW1vdmVzIHdoaXRlc3BhY2Utb25s
eSB0ZXh0IG5vZGUgY2hpbGRyZW4KICBjbGVhbldoaXRlc3BhY2U6IGZ1bmN0aW9u
KGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG5v
ZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CiAgICB3aGlsZSAobm9kZSkgewogICAg
ICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICBpZiAobm9k
ZS5ub2RlVHlwZSA9PSAzICYmICEvXFMvLnRlc3Qobm9kZS5ub2RlVmFsdWUpKQog
ICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgIG5vZGUgPSBu
ZXh0Tm9kZTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGVtcHR5
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5pbm5l
ckhUTUwuYmxhbmsoKTsKICB9LAoKICBkZXNjZW5kYW50T2Y6IGZ1bmN0aW9uKGVs
ZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5j
ZXN0b3IgPSAkKGFuY2VzdG9yKTsKCiAgICBpZiAoZWxlbWVudC5jb21wYXJlRG9j
dW1lbnRQb3NpdGlvbikKICAgICAgcmV0dXJuIChlbGVtZW50LmNvbXBhcmVEb2N1
bWVudFBvc2l0aW9uKGFuY2VzdG9yKSAmIDgpID09PSA4OwoKICAgIGlmIChhbmNl
c3Rvci5jb250YWlucykKICAgICAgcmV0dXJuIGFuY2VzdG9yLmNvbnRhaW5zKGVs
ZW1lbnQpICYmIGFuY2VzdG9yICE9PSBlbGVtZW50OwoKICAgIHdoaWxlIChlbGVt
ZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKQogICAgICBpZiAoZWxlbWVudCA9PSBh
bmNlc3RvcikgcmV0dXJuIHRydWU7CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgog
IHNjcm9sbFRvOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChl
bGVtZW50KTsKICAgIHZhciBwb3MgPSBlbGVtZW50LmN1bXVsYXRpdmVPZmZzZXQo
KTsKICAgIHdpbmRvdy5zY3JvbGxUbyhwb3NbMF0sIHBvc1sxXSk7CiAgICByZXR1
cm4gZWxlbWVudDsKICB9LAoKICBnZXRTdHlsZTogZnVuY3Rpb24oZWxlbWVudCwg
c3R5bGUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgc3R5bGUgPSBz
dHlsZSA9PSAnZmxvYXQnID8gJ2Nzc0Zsb2F0JyA6IHN0eWxlLmNhbWVsaXplKCk7
CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICgh
dmFsdWUgfHwgdmFsdWUgPT0gJ2F1dG8nKSB7CiAgICAgIHZhciBjc3MgPSBkb2N1
bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwp
OwogICAgICB2YWx1ZSA9IGNzcyA/IGNzc1tzdHlsZV0gOiBudWxsOwogICAgfQog
ICAgaWYgKHN0eWxlID09ICdvcGFjaXR5JykgcmV0dXJuIHZhbHVlID8gcGFyc2VG
bG9hdCh2YWx1ZSkgOiAxLjA7CiAgICByZXR1cm4gdmFsdWUgPT0gJ2F1dG8nID8g
bnVsbCA6IHZhbHVlOwogIH0sCgogIGdldE9wYWNpdHk6IGZ1bmN0aW9uKGVsZW1l
bnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmdldFN0eWxlKCdvcGFjaXR5Jyk7
CiAgfSwKCiAgc2V0U3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlcykgewog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudFN0eWxlID0g
ZWxlbWVudC5zdHlsZSwgbWF0Y2g7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHN0
eWxlcykpIHsKICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIHN0
eWxlczsKICAgICAgcmV0dXJuIHN0eWxlcy5pbmNsdWRlKCdvcGFjaXR5JykgPwog
ICAgICAgIGVsZW1lbnQuc2V0T3BhY2l0eShzdHlsZXMubWF0Y2goL29wYWNpdHk6
XHMqKFxkP1wuP1xkKikvKVsxXSkgOiBlbGVtZW50OwogICAgfQogICAgZm9yICh2
YXIgcHJvcGVydHkgaW4gc3R5bGVzKQogICAgICBpZiAocHJvcGVydHkgPT0gJ29w
YWNpdHknKSBlbGVtZW50LnNldE9wYWNpdHkoc3R5bGVzW3Byb3BlcnR5XSk7CiAg
ICAgIGVsc2UKICAgICAgICBlbGVtZW50U3R5bGVbKHByb3BlcnR5ID09ICdmbG9h
dCcgfHwgcHJvcGVydHkgPT0gJ2Nzc0Zsb2F0JykgPwogICAgICAgICAgKE9iamVj
dC5pc1VuZGVmaW5lZChlbGVtZW50U3R5bGUuc3R5bGVGbG9hdCkgPyAnY3NzRmxv
YXQnIDogJ3N0eWxlRmxvYXQnKSA6CiAgICAgICAgICAgIHByb3BlcnR5XSA9IHN0
eWxlc1twcm9wZXJ0eV07CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgc2V0
T3BhY2l0eTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQg
PSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKHZhbHVl
ID09IDEgfHwgdmFsdWUgPT09ICcnKSA/ICcnIDoKICAgICAgKHZhbHVlIDwgMC4w
MDAwMSkgPyAwIDogdmFsdWU7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBn
ZXREaW1lbnNpb25zOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0g
JChlbGVtZW50KTsKICAgIHZhciBkaXNwbGF5ID0gZWxlbWVudC5nZXRTdHlsZSgn
ZGlzcGxheScpOwogICAgaWYgKGRpc3BsYXkgIT0gJ25vbmUnICYmIGRpc3BsYXkg
IT0gbnVsbCkgLy8gU2FmYXJpIGJ1ZwogICAgICByZXR1cm4ge3dpZHRoOiBlbGVt
ZW50Lm9mZnNldFdpZHRoLCBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0fTsK
CiAgICAvLyBBbGwgKldpZHRoIGFuZCAqSGVpZ2h0IHByb3BlcnRpZXMgZ2l2ZSAw
IG9uIGVsZW1lbnRzIHdpdGggZGlzcGxheSBub25lLAogICAgLy8gc28gZW5hYmxl
IHRoZSBlbGVtZW50IHRlbXBvcmFyaWx5CiAgICB2YXIgZWxzID0gZWxlbWVudC5z
dHlsZTsKICAgIHZhciBvcmlnaW5hbFZpc2liaWxpdHkgPSBlbHMudmlzaWJpbGl0
eTsKICAgIHZhciBvcmlnaW5hbFBvc2l0aW9uID0gZWxzLnBvc2l0aW9uOwogICAg
dmFyIG9yaWdpbmFsRGlzcGxheSA9IGVscy5kaXNwbGF5OwogICAgZWxzLnZpc2li
aWxpdHkgPSAnaGlkZGVuJzsKICAgIGVscy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7
CiAgICBlbHMuZGlzcGxheSA9ICdibG9jayc7CiAgICB2YXIgb3JpZ2luYWxXaWR0
aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgb3JpZ2luYWxIZWlnaHQg
PSBlbGVtZW50LmNsaWVudEhlaWdodDsKICAgIGVscy5kaXNwbGF5ID0gb3JpZ2lu
YWxEaXNwbGF5OwogICAgZWxzLnBvc2l0aW9uID0gb3JpZ2luYWxQb3NpdGlvbjsK
ICAgIGVscy52aXNpYmlsaXR5ID0gb3JpZ2luYWxWaXNpYmlsaXR5OwogICAgcmV0
dXJuIHt3aWR0aDogb3JpZ2luYWxXaWR0aCwgaGVpZ2h0OiBvcmlnaW5hbEhlaWdo
dH07CiAgfSwKCiAgbWFrZVBvc2l0aW9uZWQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHBvcyA9IEVsZW1lbnQu
Z2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyk7CiAgICBpZiAocG9zID09ICdz
dGF0aWMnIHx8ICFwb3MpIHsKICAgICAgZWxlbWVudC5fbWFkZVBvc2l0aW9uZWQg
PSB0cnVlOwogICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZl
JzsKICAgICAgLy8gT3BlcmEgcmV0dXJucyB0aGUgb2Zmc2V0IHJlbGF0aXZlIHRv
IHRoZSBwb3NpdGlvbmluZyBjb250ZXh0LCB3aGVuIGFuCiAgICAgIC8vIGVsZW1l
bnQgaXMgcG9zaXRpb24gcmVsYXRpdmUgYnV0IHRvcCBhbmQgbGVmdCBoYXZlIG5v
dCBiZWVuIGRlZmluZWQKICAgICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLk9wZXJh
KSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAwOwogICAgICAgIGVsZW1l
bnQuc3R5bGUubGVmdCA9IDA7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIHVuZG9Qb3NpdGlvbmVkOiBmdW5jdGlvbihlbGVtZW50KSB7
CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChlbGVtZW50Ll9tYWRl
UG9zaXRpb25lZCkgewogICAgICBlbGVtZW50Ll9tYWRlUG9zaXRpb25lZCA9IHVu
ZGVmaW5lZDsKICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9CiAgICAgICAg
ZWxlbWVudC5zdHlsZS50b3AgPQogICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9
CiAgICAgICAgZWxlbWVudC5zdHlsZS5ib3R0b20gPQogICAgICAgIGVsZW1lbnQu
c3R5bGUucmlnaHQgPSAnJzsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0s
CgogIG1ha2VDbGlwcGluZzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxlbWVudC5fb3ZlcmZsb3cpIHJldHVy
biBlbGVtZW50OwogICAgZWxlbWVudC5fb3ZlcmZsb3cgPSBFbGVtZW50LmdldFN0
eWxlKGVsZW1lbnQsICdvdmVyZmxvdycpIHx8ICdhdXRvJzsKICAgIGlmIChlbGVt
ZW50Ll9vdmVyZmxvdyAhPT0gJ2hpZGRlbicpCiAgICAgIGVsZW1lbnQuc3R5bGUu
b3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgog
IHVuZG9DbGlwcGluZzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1lbnQuX292ZXJmbG93KSByZXR1cm4g
ZWxlbWVudDsKICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBlbGVtZW50Ll9v
dmVyZmxvdyA9PSAnYXV0bycgPyAnJyA6IGVsZW1lbnQuX292ZXJmbG93OwogICAg
ZWxlbWVudC5fb3ZlcmZsb3cgPSBudWxsOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAg
fSwKCiAgY3VtdWxhdGl2ZU9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkgewogICAg
dmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDA7CiAgICBkbyB7CiAgICAgIHZhbHVl
VCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsKICAgICAgdmFsdWVMICs9IGVs
ZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwogICAgICBlbGVtZW50ID0gZWxlbWVudC5v
ZmZzZXRQYXJlbnQ7CiAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBF
bGVtZW50Ll9yZXR1cm5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIHBv
c2l0aW9uZWRPZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxl
bWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9m
ZnNldExlZnQgfHwgMDsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFy
ZW50OwogICAgICBpZiAoZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LnRh
Z05hbWUudG9VcHBlckNhc2UoKSA9PSAnQk9EWScpIGJyZWFrOwogICAgICAgIHZh
ciBwID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKTsKICAg
ICAgICBpZiAocCAhPT0gJ3N0YXRpYycpIGJyZWFrOwogICAgICB9CiAgICB9IHdo
aWxlIChlbGVtZW50KTsKICAgIHJldHVybiBFbGVtZW50Ll9yZXR1cm5PZmZzZXQo
dmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGVsZW1l
bnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgcmV0dXJuIGVs
ZW1lbnQ7CiAgICAvLyBQb3NpdGlvbi5wcmVwYXJlKCk7IC8vIFRvIGJlIGRvbmUg
bWFudWFsbHkgYnkgU2NyaXB0eSB3aGVuIGl0IG5lZWRzIGl0LgoKICAgIHZhciBv
ZmZzZXRzID0gZWxlbWVudC5wb3NpdGlvbmVkT2Zmc2V0KCk7CiAgICB2YXIgdG9w
ICAgICA9IG9mZnNldHNbMV07CiAgICB2YXIgbGVmdCAgICA9IG9mZnNldHNbMF07
CiAgICB2YXIgd2lkdGggICA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIg
aGVpZ2h0ICA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0OwoKICAgIGVsZW1lbnQuX29y
aWdpbmFsTGVmdCAgID0gbGVmdCAtIHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS5s
ZWZ0ICB8fCAwKTsKICAgIGVsZW1lbnQuX29yaWdpbmFsVG9wICAgID0gdG9wICAt
IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgfHwgMCk7CiAgICBlbGVtZW50
Ll9vcmlnaW5hbFdpZHRoICA9IGVsZW1lbnQuc3R5bGUud2lkdGg7CiAgICBlbGVt
ZW50Ll9vcmlnaW5hbEhlaWdodCA9IGVsZW1lbnQuc3R5bGUuaGVpZ2h0OwoKICAg
IGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgZWxlbWVu
dC5zdHlsZS50b3AgICAgPSB0b3AgKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5s
ZWZ0ICAgPSBsZWZ0ICsgJ3B4JzsKICAgIGVsZW1lbnQuc3R5bGUud2lkdGggID0g
d2lkdGggKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQg
KyAncHgnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcmVsYXRpdml6ZTog
ZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAoZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKSA9PSAncmVsYXRpdmUn
KSByZXR1cm4gZWxlbWVudDsKICAgIC8vIFBvc2l0aW9uLnByZXBhcmUoKTsgLy8g
VG8gYmUgZG9uZSBtYW51YWxseSBieSBTY3JpcHR5IHdoZW4gaXQgbmVlZHMgaXQu
CgogICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICB2
YXIgdG9wICA9IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgIHx8IDApIC0g
KGVsZW1lbnQuX29yaWdpbmFsVG9wIHx8IDApOwogICAgdmFyIGxlZnQgPSBwYXJz
ZUZsb2F0KGVsZW1lbnQuc3R5bGUubGVmdCB8fCAwKSAtIChlbGVtZW50Ll9vcmln
aW5hbExlZnQgfHwgMCk7CgogICAgZWxlbWVudC5zdHlsZS50b3AgICAgPSB0b3Ag
KyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5sZWZ0ICAgPSBsZWZ0ICsgJ3B4JzsK
ICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5fb3JpZ2luYWxIZWln
aHQ7CiAgICBlbGVtZW50LnN0eWxlLndpZHRoICA9IGVsZW1lbnQuX29yaWdpbmFs
V2lkdGg7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBjdW11bGF0aXZlU2Ny
b2xsT2Zmc2V0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0g
MCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQu
c2Nyb2xsVG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5zY3JvbGxM
ZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAg
ICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBFbGVtZW50Ll9yZXR1cm5P
ZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIGdldE9mZnNldFBhcmVudDog
ZnVuY3Rpb24oZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50
KSByZXR1cm4gJChlbGVtZW50Lm9mZnNldFBhcmVudCk7CiAgICBpZiAoZWxlbWVu
dCA9PSBkb2N1bWVudC5ib2R5KSByZXR1cm4gJChlbGVtZW50KTsKCiAgICAvLyBB
VyBCdWcgZml4CiAgICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5v
ZGUpICYmIGVsZW1lbnQgIT0gZG9jdW1lbnQuYm9keSAmJiBlbGVtZW50ICE9IGRv
Y3VtZW50KQogICAgICBpZiAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9z
aXRpb24nKSAhPSAnc3RhdGljJykKICAgICAgICByZXR1cm4gJChlbGVtZW50KTsK
CiAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKICB9LAoKICB2aWV3cG9ydE9m
ZnNldDogZnVuY3Rpb24oZm9yRWxlbWVudCkgewogICAgdmFyIHZhbHVlVCA9IDAs
IHZhbHVlTCA9IDA7CgogICAgdmFyIGVsZW1lbnQgPSBmb3JFbGVtZW50OwogICAg
ZG8gewogICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAg
ICAgIHZhbHVlTCArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDsKCiAgICAgIC8v
IFNhZmFyaSBmaXgKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ID09IGRv
Y3VtZW50LmJvZHkgJiYKICAgICAgICBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQs
ICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIGJyZWFrOwoKICAgIH0gd2hpbGUg
KGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCk7CgogICAgZWxlbWVudCA9
IGZvckVsZW1lbnQ7CiAgICBkbyB7CiAgICAgIGlmICghUHJvdG90eXBlLkJyb3dz
ZXIuT3BlcmEgfHwgKGVsZW1lbnQudGFnTmFtZSAmJiAoZWxlbWVudC50YWdOYW1l
LnRvVXBwZXJDYXNlKCkgPT0gJ0JPRFknKSkpIHsKICAgICAgICB2YWx1ZVQgLT0g
ZWxlbWVudC5zY3JvbGxUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMIC09IGVsZW1l
bnQuc2Nyb2xsTGVmdCB8fCAwOwogICAgICB9CiAgICB9IHdoaWxlIChlbGVtZW50
ID0gZWxlbWVudC5wYXJlbnROb2RlKTsKCiAgICByZXR1cm4gRWxlbWVudC5fcmV0
dXJuT2Zmc2V0KHZhbHVlTCwgdmFsdWVUKTsKICB9LAoKICBjbG9uZVBvc2l0aW9u
OiBmdW5jdGlvbihlbGVtZW50LCBzb3VyY2UpIHsKICAgIHZhciBvcHRpb25zID0g
T2JqZWN0LmV4dGVuZCh7CiAgICAgIHNldExlZnQ6ICAgIHRydWUsCiAgICAgIHNl
dFRvcDogICAgIHRydWUsCiAgICAgIHNldFdpZHRoOiAgIHRydWUsCiAgICAgIHNl
dEhlaWdodDogIHRydWUsCiAgICAgIG9mZnNldFRvcDogIDAsCiAgICAgIG9mZnNl
dExlZnQ6IDAKICAgIH0sIGFyZ3VtZW50c1syXSB8fCB7IH0pOwoKICAgIC8vIGZp
bmQgcGFnZSBwb3NpdGlvbiBvZiBzb3VyY2UKICAgIHNvdXJjZSA9ICQoc291cmNl
KTsKICAgIHZhciBwID0gc291cmNlLnZpZXdwb3J0T2Zmc2V0KCk7CgogICAgLy8g
ZmluZCBjb29yZGluYXRlIHN5c3RlbSB0byB1c2UKICAgIGVsZW1lbnQgPSAkKGVs
ZW1lbnQpOwogICAgdmFyIGRlbHRhID0gWzAsIDBdOwogICAgdmFyIHBhcmVudCA9
IG51bGw7CiAgICAvLyBkZWx0YSBbMCwwXSB3aWxsIGRvIGZpbmUgd2l0aCBwb3Np
dGlvbjogZml4ZWQgZWxlbWVudHMsCiAgICAvLyBwb3NpdGlvbjphYnNvbHV0ZSBu
ZWVkcyBvZmZzZXRQYXJlbnQgZGVsdGFzCiAgICBpZiAoRWxlbWVudC5nZXRTdHls
ZShlbGVtZW50LCAncG9zaXRpb24nKSA9PSAnYWJzb2x1dGUnKSB7CiAgICAgIHBh
cmVudCA9IGVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KCk7CiAgICAgIGRlbHRhID0g
cGFyZW50LnZpZXdwb3J0T2Zmc2V0KCk7CiAgICB9CgogICAgLy8gY29ycmVjdCBi
eSBib2R5IG9mZnNldHMgKGZpeGVzIFNhZmFyaSkKICAgIGlmIChwYXJlbnQgPT0g
ZG9jdW1lbnQuYm9keSkgewogICAgICBkZWx0YVswXSAtPSBkb2N1bWVudC5ib2R5
Lm9mZnNldExlZnQ7CiAgICAgIGRlbHRhWzFdIC09IGRvY3VtZW50LmJvZHkub2Zm
c2V0VG9wOwogICAgfQoKICAgIC8vIHNldCBwb3NpdGlvbgogICAgaWYgKG9wdGlv
bnMuc2V0TGVmdCkgICBlbGVtZW50LnN0eWxlLmxlZnQgID0gKHBbMF0gLSBkZWx0
YVswXSArIG9wdGlvbnMub2Zmc2V0TGVmdCkgKyAncHgnOwogICAgaWYgKG9wdGlv
bnMuc2V0VG9wKSAgICBlbGVtZW50LnN0eWxlLnRvcCAgID0gKHBbMV0gLSBkZWx0
YVsxXSArIG9wdGlvbnMub2Zmc2V0VG9wKSArICdweCc7CiAgICBpZiAob3B0aW9u
cy5zZXRXaWR0aCkgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBzb3VyY2Uub2Zmc2V0
V2lkdGggKyAncHgnOwogICAgaWYgKG9wdGlvbnMuc2V0SGVpZ2h0KSBlbGVtZW50
LnN0eWxlLmhlaWdodCA9IHNvdXJjZS5vZmZzZXRIZWlnaHQgKyAncHgnOwogICAg
cmV0dXJuIGVsZW1lbnQ7CiAgfQp9OwoKRWxlbWVudC5NZXRob2RzLmlkZW50aWZ5
LmNvdW50ZXIgPSAxOwoKT2JqZWN0LmV4dGVuZChFbGVtZW50Lk1ldGhvZHMsIHsK
ICBnZXRFbGVtZW50c0J5U2VsZWN0b3I6IEVsZW1lbnQuTWV0aG9kcy5zZWxlY3Qs
CiAgY2hpbGRFbGVtZW50czogRWxlbWVudC5NZXRob2RzLmltbWVkaWF0ZURlc2Nl
bmRhbnRzCn0pOwoKRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zID0gewog
IHdyaXRlOiB7CiAgICBuYW1lczogewogICAgICBjbGFzc05hbWU6ICdjbGFzcycs
CiAgICAgIGh0bWxGb3I6ICAgJ2ZvcicKICAgIH0sCiAgICB2YWx1ZXM6IHsgfQog
IH0KfTsKCmlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSkgewogIEVsZW1lbnQu
TWV0aG9kcy5nZXRTdHlsZSA9IEVsZW1lbnQuTWV0aG9kcy5nZXRTdHlsZS53cmFw
KAogICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCwgc3R5bGUpIHsKICAgICAg
c3dpdGNoIChzdHlsZSkgewogICAgICAgIGNhc2UgJ2xlZnQnOiBjYXNlICd0b3An
OiBjYXNlICdyaWdodCc6IGNhc2UgJ2JvdHRvbSc6CiAgICAgICAgICBpZiAocHJv
Y2VlZChlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHJldHVybiBu
dWxsOwogICAgICAgIGNhc2UgJ2hlaWdodCc6IGNhc2UgJ3dpZHRoJzoKICAgICAg
ICAgIC8vIHJldHVybnMgJzBweCcgZm9yIGhpZGRlbiBlbGVtZW50czsgd2Ugd2Fu
dCBpdCB0byByZXR1cm4gbnVsbAogICAgICAgICAgaWYgKCFFbGVtZW50LnZpc2li
bGUoZWxlbWVudCkpIHJldHVybiBudWxsOwoKICAgICAgICAgIC8vIHJldHVybnMg
dGhlIGJvcmRlci1ib3ggZGltZW5zaW9ucyByYXRoZXIgdGhhbiB0aGUgY29udGVu
dC1ib3gKICAgICAgICAgIC8vIGRpbWVuc2lvbnMsIHNvIHdlIHN1YnRyYWN0IHBh
ZGRpbmcgYW5kIGJvcmRlcnMgZnJvbSB0aGUgdmFsdWUKICAgICAgICAgIHZhciBk
aW0gPSBwYXJzZUludChwcm9jZWVkKGVsZW1lbnQsIHN0eWxlKSwgMTApOwoKICAg
ICAgICAgIGlmIChkaW0gIT09IGVsZW1lbnRbJ29mZnNldCcgKyBzdHlsZS5jYXBp
dGFsaXplKCldKQogICAgICAgICAgICByZXR1cm4gZGltICsgJ3B4JzsKCiAgICAg
ICAgICB2YXIgcHJvcGVydGllczsKICAgICAgICAgIGlmIChzdHlsZSA9PT0gJ2hl
aWdodCcpIHsKICAgICAgICAgICAgcHJvcGVydGllcyA9IFsnYm9yZGVyLXRvcC13
aWR0aCcsICdwYWRkaW5nLXRvcCcsCiAgICAgICAgICAgICAncGFkZGluZy1ib3R0
b20nLCAnYm9yZGVyLWJvdHRvbS13aWR0aCddOwogICAgICAgICAgfQogICAgICAg
ICAgZWxzZSB7CiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbJ2JvcmRlci1sZWZ0
LXdpZHRoJywgJ3BhZGRpbmctbGVmdCcsCiAgICAgICAgICAgICAncGFkZGluZy1y
aWdodCcsICdib3JkZXItcmlnaHQtd2lkdGgnXTsKICAgICAgICAgIH0KICAgICAg
ICAgIHJldHVybiBwcm9wZXJ0aWVzLmluamVjdChkaW0sIGZ1bmN0aW9uKG1lbW8s
IHByb3BlcnR5KSB7CiAgICAgICAgICAgIHZhciB2YWwgPSBwcm9jZWVkKGVsZW1l
bnQsIHByb3BlcnR5KTsKICAgICAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbCA/
IG1lbW8gOiBtZW1vIC0gcGFyc2VJbnQodmFsLCAxMCk7CiAgICAgICAgICB9KSAr
ICdweCc7CiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHByb2NlZWQoZWxlbWVudCwg
c3R5bGUpOwogICAgICB9CiAgICB9CiAgKTsKCiAgRWxlbWVudC5NZXRob2RzLnJl
YWRBdHRyaWJ1dGUgPSBFbGVtZW50Lk1ldGhvZHMucmVhZEF0dHJpYnV0ZS53cmFw
KAogICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCwgYXR0cmlidXRlKSB7CiAg
ICAgIGlmIChhdHRyaWJ1dGUgPT09ICd0aXRsZScpIHJldHVybiBlbGVtZW50LnRp
dGxlOwogICAgICByZXR1cm4gcHJvY2VlZChlbGVtZW50LCBhdHRyaWJ1dGUpOwog
ICAgfQogICk7Cn0KCmVsc2UgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAg
Ly8gSUUgZG9lc24ndCByZXBvcnQgb2Zmc2V0cyBjb3JyZWN0bHkgZm9yIHN0YXRp
YyBlbGVtZW50cywgc28gd2UgY2hhbmdlIHRoZW0KICAvLyB0byAicmVsYXRpdmUi
IHRvIGdldCB0aGUgdmFsdWVzLCB0aGVuIGNoYW5nZSB0aGVtIGJhY2suCiAgRWxl
bWVudC5NZXRob2RzLmdldE9mZnNldFBhcmVudCA9IEVsZW1lbnQuTWV0aG9kcy5n
ZXRPZmZzZXRQYXJlbnQud3JhcCgKICAgIGZ1bmN0aW9uKHByb2NlZWQsIGVsZW1l
bnQpIHsKICAgICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgIC8vIElFIHRo
cm93cyBhbiBlcnJvciBpZiBlbGVtZW50IGlzIG5vdCBpbiBkb2N1bWVudAogICAg
ICB0cnkgeyBlbGVtZW50Lm9mZnNldFBhcmVudCB9CiAgICAgIGNhdGNoKGUpIHsg
cmV0dXJuICQoZG9jdW1lbnQuYm9keSkgfQogICAgICB2YXIgcG9zaXRpb24gPSBl
bGVtZW50LmdldFN0eWxlKCdwb3NpdGlvbicpOwogICAgICBpZiAocG9zaXRpb24g
IT09ICdzdGF0aWMnKSByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKICAgICAgZWxl
bWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pOwogICAgICB2
YXIgdmFsdWUgPSBwcm9jZWVkKGVsZW1lbnQpOwogICAgICBlbGVtZW50LnNldFN0
eWxlKHsgcG9zaXRpb246IHBvc2l0aW9uIH0pOwogICAgICByZXR1cm4gdmFsdWU7
CiAgICB9CiAgKTsKCiAgJHcoJ3Bvc2l0aW9uZWRPZmZzZXQgdmlld3BvcnRPZmZz
ZXQnKS5lYWNoKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgRWxlbWVudC5NZXRob2Rz
W21ldGhvZF0gPSBFbGVtZW50Lk1ldGhvZHNbbWV0aG9kXS53cmFwKAogICAgICBm
dW5jdGlvbihwcm9jZWVkLCBlbGVtZW50KSB7CiAgICAgICAgZWxlbWVudCA9ICQo
ZWxlbWVudCk7CiAgICAgICAgdHJ5IHsgZWxlbWVudC5vZmZzZXRQYXJlbnQgfQog
ICAgICAgIGNhdGNoKGUpIHsgcmV0dXJuIEVsZW1lbnQuX3JldHVybk9mZnNldCgw
LDApIH0KICAgICAgICB2YXIgcG9zaXRpb24gPSBlbGVtZW50LmdldFN0eWxlKCdw
b3NpdGlvbicpOwogICAgICAgIGlmIChwb3NpdGlvbiAhPT0gJ3N0YXRpYycpIHJl
dHVybiBwcm9jZWVkKGVsZW1lbnQpOwogICAgICAgIC8vIFRyaWdnZXIgaGFzTGF5
b3V0IG9uIHRoZSBvZmZzZXQgcGFyZW50IHNvIHRoYXQgSUU2IHJlcG9ydHMKICAg
ICAgICAvLyBhY2N1cmF0ZSBvZmZzZXRUb3AgYW5kIG9mZnNldExlZnQgdmFsdWVz
IGZvciBwb3NpdGlvbjogZml4ZWQuCiAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9
IGVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KCk7CiAgICAgICAgaWYgKG9mZnNldFBh
cmVudCAmJiBvZmZzZXRQYXJlbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT09ICdm
aXhlZCcpCiAgICAgICAgICBvZmZzZXRQYXJlbnQuc2V0U3R5bGUoeyB6b29tOiAx
IH0pOwogICAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogJ3JlbGF0
aXZlJyB9KTsKICAgICAgICB2YXIgdmFsdWUgPSBwcm9jZWVkKGVsZW1lbnQpOwog
ICAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7
CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICApOwogIH0pOwoKICBF
bGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldCA9IEVsZW1lbnQuTWV0aG9k
cy5jdW11bGF0aXZlT2Zmc2V0LndyYXAoCiAgICBmdW5jdGlvbihwcm9jZWVkLCBl
bGVtZW50KSB7CiAgICAgIHRyeSB7IGVsZW1lbnQub2Zmc2V0UGFyZW50IH0KICAg
ICAgY2F0Y2goZSkgeyByZXR1cm4gRWxlbWVudC5fcmV0dXJuT2Zmc2V0KDAsMCkg
fQogICAgICByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKICAgIH0KICApOwoKICBF
bGVtZW50Lk1ldGhvZHMuZ2V0U3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBzdHls
ZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBzdHlsZSA9IChzdHls
ZSA9PSAnZmxvYXQnIHx8IHN0eWxlID09ICdjc3NGbG9hdCcpID8gJ3N0eWxlRmxv
YXQnIDogc3R5bGUuY2FtZWxpemUoKTsKICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQu
c3R5bGVbc3R5bGVdOwogICAgaWYgKCF2YWx1ZSAmJiBlbGVtZW50LmN1cnJlbnRT
dHlsZSkgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07CgogICAg
aWYgKHN0eWxlID09ICdvcGFjaXR5JykgewogICAgICBpZiAodmFsdWUgPSAoZWxl
bWVudC5nZXRTdHlsZSgnZmlsdGVyJykgfHwgJycpLm1hdGNoKC9hbHBoYVwob3Bh
Y2l0eT0oLiopXCkvKSkKICAgICAgICBpZiAodmFsdWVbMV0pIHJldHVybiBwYXJz
ZUZsb2F0KHZhbHVlWzFdKSAvIDEwMDsKICAgICAgcmV0dXJuIDEuMDsKICAgIH0K
CiAgICBpZiAodmFsdWUgPT0gJ2F1dG8nKSB7CiAgICAgIGlmICgoc3R5bGUgPT0g
J3dpZHRoJyB8fCBzdHlsZSA9PSAnaGVpZ2h0JykgJiYgKGVsZW1lbnQuZ2V0U3R5
bGUoJ2Rpc3BsYXknKSAhPSAnbm9uZScpKQogICAgICAgIHJldHVybiBlbGVtZW50
WydvZmZzZXQnICsgc3R5bGUuY2FwaXRhbGl6ZSgpXSArICdweCc7CiAgICAgIHJl
dHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIHZhbHVlOwogIH07CgogIEVsZW1l
bnQuTWV0aG9kcy5zZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUp
IHsKICAgIGZ1bmN0aW9uIHN0cmlwQWxwaGEoZmlsdGVyKXsKICAgICAgcmV0dXJu
IGZpbHRlci5yZXBsYWNlKC9hbHBoYVwoW15cKV0qXCkvZ2ksJycpOwogICAgfQog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgY3VycmVudFN0eWxlID0g
ZWxlbWVudC5jdXJyZW50U3R5bGU7CiAgICBpZiAoKGN1cnJlbnRTdHlsZSAmJiAh
Y3VycmVudFN0eWxlLmhhc0xheW91dCkgfHwKICAgICAgKCFjdXJyZW50U3R5bGUg
JiYgZWxlbWVudC5zdHlsZS56b29tID09ICdub3JtYWwnKSkKICAgICAgICBlbGVt
ZW50LnN0eWxlLnpvb20gPSAxOwoKICAgIHZhciBmaWx0ZXIgPSBlbGVtZW50Lmdl
dFN0eWxlKCdmaWx0ZXInKSwgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwogICAgaWYg
KHZhbHVlID09IDEgfHwgdmFsdWUgPT09ICcnKSB7CiAgICAgIChmaWx0ZXIgPSBz
dHJpcEFscGhhKGZpbHRlcikpID8KICAgICAgICBzdHlsZS5maWx0ZXIgPSBmaWx0
ZXIgOiBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbHRlcicpOwogICAgICByZXR1
cm4gZWxlbWVudDsKICAgIH0gZWxzZSBpZiAodmFsdWUgPCAwLjAwMDAxKSB2YWx1
ZSA9IDA7CiAgICBzdHlsZS5maWx0ZXIgPSBzdHJpcEFscGhhKGZpbHRlcikgKwog
ICAgICAnYWxwaGEob3BhY2l0eT0nICsgKHZhbHVlICogMTAwKSArICcpJzsKICAg
IHJldHVybiBlbGVtZW50OwogIH07CgogIEVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5z
bGF0aW9ucyA9IHsKICAgIHJlYWQ6IHsKICAgICAgbmFtZXM6IHsKICAgICAgICAn
Y2xhc3MnOiAnY2xhc3NOYW1lJywKICAgICAgICAnZm9yJzogICAnaHRtbEZvcicK
ICAgICAgfSwKICAgICAgdmFsdWVzOiB7CiAgICAgICAgX2dldEF0dHI6IGZ1bmN0
aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgICAgICAgcmV0dXJuIGVsZW1l
bnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgMik7CiAgICAgICAgfSwKICAgICAg
ICBfZ2V0QXR0ck5vZGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewog
ICAgICAgICAgdmFyIG5vZGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUoYXR0
cmlidXRlKTsKICAgICAgICAgIHJldHVybiBub2RlID8gbm9kZS52YWx1ZSA6ICIi
OwogICAgICAgIH0sCiAgICAgICAgX2dldEV2OiBmdW5jdGlvbihlbGVtZW50LCBh
dHRyaWJ1dGUpIHsKICAgICAgICAgIGF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0
cmlidXRlKGF0dHJpYnV0ZSk7CiAgICAgICAgICByZXR1cm4gYXR0cmlidXRlID8g
YXR0cmlidXRlLnRvU3RyaW5nKCkuc2xpY2UoMjMsIC0yKSA6IG51bGw7CiAgICAg
ICAgfSwKICAgICAgICBfZmxhZzogZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRl
KSB7CiAgICAgICAgICByZXR1cm4gJChlbGVtZW50KS5oYXNBdHRyaWJ1dGUoYXR0
cmlidXRlKSA/IGF0dHJpYnV0ZSA6IG51bGw7CiAgICAgICAgfSwKICAgICAgICBz
dHlsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgcmV0dXJuIGVsZW1l
bnQuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpOwogICAgICAgIH0sCiAgICAg
ICAgdGl0bGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBl
bGVtZW50LnRpdGxlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIEVs
ZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9ucy53cml0ZSA9IHsKICAgIG5hbWVz
OiBPYmplY3QuZXh0ZW5kKHsKICAgICAgY2VsbHBhZGRpbmc6ICdjZWxsUGFkZGlu
ZycsCiAgICAgIGNlbGxzcGFjaW5nOiAnY2VsbFNwYWNpbmcnCiAgICB9LCBFbGVt
ZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMucmVhZC5uYW1lcyksCiAgICB2YWx1
ZXM6IHsKICAgICAgY2hlY2tlZDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsK
ICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSAhIXZhbHVlOwogICAgICB9LAoKICAg
ICAgc3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICAgICAgZWxl
bWVudC5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgPyB2YWx1ZSA6ICcnOwogICAgICB9
CiAgICB9CiAgfTsKCiAgRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLmhh
cyA9IHt9OwoKICAkdygnY29sU3BhbiByb3dTcGFuIHZBbGlnbiBkYXRlVGltZSBh
Y2Nlc3NLZXkgdGFiSW5kZXggJyArCiAgICAgICdlbmNUeXBlIG1heExlbmd0aCBy
ZWFkT25seSBsb25nRGVzYyBmcmFtZUJvcmRlcicpLmVhY2goZnVuY3Rpb24oYXR0
cikgewogICAgRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLndyaXRlLm5h
bWVzW2F0dHIudG9Mb3dlckNhc2UoKV0gPSBhdHRyOwogICAgRWxlbWVudC5fYXR0
cmlidXRlVHJhbnNsYXRpb25zLmhhc1thdHRyLnRvTG93ZXJDYXNlKCldID0gYXR0
cjsKICB9KTsKCiAgKGZ1bmN0aW9uKHYpIHsKICAgIE9iamVjdC5leHRlbmQodiwg
ewogICAgICBocmVmOiAgICAgICAgdi5fZ2V0QXR0ciwKICAgICAgc3JjOiAgICAg
ICAgIHYuX2dldEF0dHIsCiAgICAgIHR5cGU6ICAgICAgICB2Ll9nZXRBdHRyLAog
ICAgICBhY3Rpb246ICAgICAgdi5fZ2V0QXR0ck5vZGUsCiAgICAgIGRpc2FibGVk
OiAgICB2Ll9mbGFnLAogICAgICBjaGVja2VkOiAgICAgdi5fZmxhZywKICAgICAg
cmVhZG9ubHk6ICAgIHYuX2ZsYWcsCiAgICAgIG11bHRpcGxlOiAgICB2Ll9mbGFn
LAogICAgICBvbmxvYWQ6ICAgICAgdi5fZ2V0RXYsCiAgICAgIG9udW5sb2FkOiAg
ICB2Ll9nZXRFdiwKICAgICAgb25jbGljazogICAgIHYuX2dldEV2LAogICAgICBv
bmRibGNsaWNrOiAgdi5fZ2V0RXYsCiAgICAgIG9ubW91c2Vkb3duOiB2Ll9nZXRF
diwKICAgICAgb25tb3VzZXVwOiAgIHYuX2dldEV2LAogICAgICBvbm1vdXNlb3Zl
cjogdi5fZ2V0RXYsCiAgICAgIG9ubW91c2Vtb3ZlOiB2Ll9nZXRFdiwKICAgICAg
b25tb3VzZW91dDogIHYuX2dldEV2LAogICAgICBvbmZvY3VzOiAgICAgdi5fZ2V0
RXYsCiAgICAgIG9uYmx1cjogICAgICB2Ll9nZXRFdiwKICAgICAgb25rZXlwcmVz
czogIHYuX2dldEV2LAogICAgICBvbmtleWRvd246ICAgdi5fZ2V0RXYsCiAgICAg
IG9ua2V5dXA6ICAgICB2Ll9nZXRFdiwKICAgICAgb25zdWJtaXQ6ICAgIHYuX2dl
dEV2LAogICAgICBvbnJlc2V0OiAgICAgdi5fZ2V0RXYsCiAgICAgIG9uc2VsZWN0
OiAgICB2Ll9nZXRFdiwKICAgICAgb25jaGFuZ2U6ICAgIHYuX2dldEV2CiAgICB9
KTsKICB9KShFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMucmVhZC52YWx1
ZXMpOwp9CgplbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5HZWNrbyAmJiAvcnY6
MVwuOFwuMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgewogIEVsZW1lbnQu
TWV0aG9kcy5zZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsK
ICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5vcGFj
aXR5ID0gKHZhbHVlID09IDEpID8gMC45OTk5OTkgOgogICAgICAodmFsdWUgPT09
ICcnKSA/ICcnIDogKHZhbHVlIDwgMC4wMDAwMSkgPyAwIDogdmFsdWU7CiAgICBy
ZXR1cm4gZWxlbWVudDsKICB9Owp9CgplbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nl
ci5XZWJLaXQpIHsKICBFbGVtZW50Lk1ldGhvZHMuc2V0T3BhY2l0eSA9IGZ1bmN0
aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICh2YWx1ZSA9PSAxIHx8IHZhbHVl
ID09PSAnJykgPyAnJyA6CiAgICAgICh2YWx1ZSA8IDAuMDAwMDEpID8gMCA6IHZh
bHVlOwoKICAgIGlmICh2YWx1ZSA9PSAxKQogICAgICBpZihlbGVtZW50LnRhZ05h
bWUudG9VcHBlckNhc2UoKSA9PSAnSU1HJyAmJiBlbGVtZW50LndpZHRoKSB7CiAg
ICAgICAgZWxlbWVudC53aWR0aCsrOyBlbGVtZW50LndpZHRoLS07CiAgICAgIH0g
ZWxzZSB0cnkgewogICAgICAgIHZhciBuID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5v
ZGUoJyAnKTsKICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG4pOwogICAgICAg
IGVsZW1lbnQucmVtb3ZlQ2hpbGQobik7CiAgICAgIH0gY2F0Y2ggKGUpIHsgfQoK
ICAgIHJldHVybiBlbGVtZW50OwogIH07CgogIC8vIFNhZmFyaSByZXR1cm5zIG1h
cmdpbnMgb24gYm9keSB3aGljaCBpcyBpbmNvcnJlY3QgaWYgdGhlIGNoaWxkIGlz
IGFic29sdXRlbHkKICAvLyBwb3NpdGlvbmVkLiAgRm9yIHBlcmZvcm1hbmNlIHJl
YXNvbnMsIHJlZGVmaW5lIEVsZW1lbnQjY3VtdWxhdGl2ZU9mZnNldCBmb3IKICAv
LyBLSFRNTC9XZWJLaXQgb25seS4KICBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2
ZU9mZnNldCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZVQgPSAw
LCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxlbWVudC5v
ZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9mZnNldExl
ZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ID09IGRvY3Vt
ZW50LmJvZHkpCiAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwg
J3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgYnJlYWs7CgogICAgICBlbGVtZW50
ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7CiAgICB9IHdoaWxlIChlbGVtZW50KTsK
CiAgICByZXR1cm4gRWxlbWVudC5fcmV0dXJuT2Zmc2V0KHZhbHVlTCwgdmFsdWVU
KTsKICB9Owp9CgppZiAoUHJvdG90eXBlLkJyb3dzZXIuSUUgfHwgUHJvdG90eXBl
LkJyb3dzZXIuT3BlcmEpIHsKICAvLyBJRSBhbmQgT3BlcmEgYXJlIG1pc3Npbmcg
LmlubmVySFRNTCBzdXBwb3J0IGZvciBUQUJMRS1yZWxhdGVkIGFuZCBTRUxFQ1Qg
ZWxlbWVudHMKICBFbGVtZW50Lk1ldGhvZHMudXBkYXRlID0gZnVuY3Rpb24oZWxl
bWVudCwgY29udGVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAg
aWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250
ZW50LnRvRWxlbWVudCgpOwogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQoY29udGVu
dCkpIHJldHVybiBlbGVtZW50LnVwZGF0ZSgpLmluc2VydChjb250ZW50KTsKCiAg
ICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciB0YWdO
YW1lID0gZWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CgogICAgaWYgKHRh
Z05hbWUgaW4gRWxlbWVudC5faW5zZXJ0aW9uVHJhbnNsYXRpb25zLnRhZ3MpIHsK
ICAgICAgJEEoZWxlbWVudC5jaGlsZE5vZGVzKS5lYWNoKGZ1bmN0aW9uKG5vZGUp
IHsgZWxlbWVudC5yZW1vdmVDaGlsZChub2RlKSB9KTsKICAgICAgRWxlbWVudC5f
Z2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQu
c3RyaXBTY3JpcHRzKCkpCiAgICAgICAgLmVhY2goZnVuY3Rpb24obm9kZSkgeyBl
bGVtZW50LmFwcGVuZENoaWxkKG5vZGUpIH0pOwogICAgfQogICAgZWxzZSBlbGVt
ZW50LmlubmVySFRNTCA9IGNvbnRlbnQuc3RyaXBTY3JpcHRzKCk7CgogICAgY29u
dGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7CiAgICByZXR1
cm4gZWxlbWVudDsKICB9Owp9CgppZiAoJ291dGVySFRNTCcgaW4gZG9jdW1lbnQu
Y3JlYXRlRWxlbWVudCgnZGl2JykpIHsKICBFbGVtZW50Lk1ldGhvZHMucmVwbGFj
ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAk
KGVsZW1lbnQpOwoKICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50
KSBjb250ZW50ID0gY29udGVudC50b0VsZW1lbnQoKTsKICAgIGlmIChPYmplY3Qu
aXNFbGVtZW50KGNvbnRlbnQpKSB7CiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5y
ZXBsYWNlQ2hpbGQoY29udGVudCwgZWxlbWVudCk7CiAgICAgIHJldHVybiBlbGVt
ZW50OwogICAgfQoKICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQp
OwogICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSwgdGFnTmFtZSA9
IHBhcmVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CgogICAgaWYgKEVsZW1lbnQu
X2luc2VydGlvblRyYW5zbGF0aW9ucy50YWdzW3RhZ05hbWVdKSB7CiAgICAgIHZh
ciBuZXh0U2libGluZyA9IGVsZW1lbnQubmV4dCgpOwogICAgICB2YXIgZnJhZ21l
bnRzID0gRWxlbWVudC5fZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRh
Z05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwogICAgICBwYXJlbnQucmVt
b3ZlQ2hpbGQoZWxlbWVudCk7CiAgICAgIGlmIChuZXh0U2libGluZykKICAgICAg
ICBmcmFnbWVudHMuZWFjaChmdW5jdGlvbihub2RlKSB7IHBhcmVudC5pbnNlcnRC
ZWZvcmUobm9kZSwgbmV4dFNpYmxpbmcpIH0pOwogICAgICBlbHNlCiAgICAgICAg
ZnJhZ21lbnRzLmVhY2goZnVuY3Rpb24obm9kZSkgeyBwYXJlbnQuYXBwZW5kQ2hp
bGQobm9kZSkgfSk7CiAgICB9CiAgICBlbHNlIGVsZW1lbnQub3V0ZXJIVE1MID0g
Y29udGVudC5zdHJpcFNjcmlwdHMoKTsKCiAgICBjb250ZW50LmV2YWxTY3JpcHRz
LmJpbmQoY29udGVudCkuZGVmZXIoKTsKICAgIHJldHVybiBlbGVtZW50OwogIH07
Cn0KCkVsZW1lbnQuX3JldHVybk9mZnNldCA9IGZ1bmN0aW9uKGwsIHQpIHsKICB2
YXIgcmVzdWx0ID0gW2wsIHRdOwogIHJlc3VsdC5sZWZ0ID0gbDsKICByZXN1bHQu
dG9wID0gdDsKICByZXR1cm4gcmVzdWx0Owp9OwoKRWxlbWVudC5fZ2V0Q29udGVu
dEZyb21Bbm9ueW1vdXNFbGVtZW50ID0gZnVuY3Rpb24odGFnTmFtZSwgaHRtbCkg
ewogIHZhciBkaXYgPSBuZXcgRWxlbWVudCgnZGl2JyksIHQgPSBFbGVtZW50Ll9p
bnNlcnRpb25UcmFuc2xhdGlvbnMudGFnc1t0YWdOYW1lXTsKICBpZiAodCkgewog
ICAgZGl2LmlubmVySFRNTCA9IHRbMF0gKyBodG1sICsgdFsxXTsKICAgIHRbMl0u
dGltZXMoZnVuY3Rpb24oKSB7IGRpdiA9IGRpdi5maXJzdENoaWxkIH0pOwogIH0g
ZWxzZSBkaXYuaW5uZXJIVE1MID0gaHRtbDsKICByZXR1cm4gJEEoZGl2LmNoaWxk
Tm9kZXMpOwp9OwoKRWxlbWVudC5faW5zZXJ0aW9uVHJhbnNsYXRpb25zID0gewog
IGJlZm9yZTogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkgewogICAgZWxlbWVudC5w
YXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtZW50KTsKICB9LAogIHRv
cDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkgewogICAgZWxlbWVudC5pbnNlcnRC
ZWZvcmUobm9kZSwgZWxlbWVudC5maXJzdENoaWxkKTsKICB9LAogIGJvdHRvbTog
ZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkgewogICAgZWxlbWVudC5hcHBlbmRDaGls
ZChub2RlKTsKICB9LAogIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7
CiAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW1l
bnQubmV4dFNpYmxpbmcpOwogIH0sCiAgdGFnczogewogICAgVEFCTEU6ICBbJzx0
YWJsZT4nLCAgICAgICAgICAgICAgICAnPC90YWJsZT4nLCAgICAgICAgICAgICAg
ICAgICAxXSwKICAgIFRCT0RZOiAgWyc8dGFibGU+PHRib2R5PicsICAgICAgICAg
JzwvdGJvZHk+PC90YWJsZT4nLCAgICAgICAgICAgMl0sCiAgICBUUjogICAgIFsn
PHRhYmxlPjx0Ym9keT48dHI+JywgICAgICc8L3RyPjwvdGJvZHk+PC90YWJsZT4n
LCAgICAgIDNdLAogICAgVEQ6ICAgICBbJzx0YWJsZT48dGJvZHk+PHRyPjx0ZD4n
LCAnPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4nLCA0XSwKICAgIFNFTEVDVDog
Wyc8c2VsZWN0PicsICAgICAgICAgICAgICAgJzwvc2VsZWN0PicsICAgICAgICAg
ICAgICAgICAgMV0KICB9Cn07CgooZnVuY3Rpb24oKSB7CiAgT2JqZWN0LmV4dGVu
ZCh0aGlzLnRhZ3MsIHsKICAgIFRIRUFEOiB0aGlzLnRhZ3MuVEJPRFksCiAgICBU
Rk9PVDogdGhpcy50YWdzLlRCT0RZLAogICAgVEg6ICAgIHRoaXMudGFncy5URAog
IH0pOwp9KS5jYWxsKEVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9ucyk7CgpF
bGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkID0gewogIGhhc0F0dHJpYnV0ZTogZnVu
Y3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICBhdHRyaWJ1dGUgPSBFbGVt
ZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMuaGFzW2F0dHJpYnV0ZV0gfHwgYXR0
cmlidXRlOwogICAgdmFyIG5vZGUgPSAkKGVsZW1lbnQpLmdldEF0dHJpYnV0ZU5v
ZGUoYXR0cmlidXRlKTsKICAgIHJldHVybiAhIShub2RlICYmIG5vZGUuc3BlY2lm
aWVkKTsKICB9Cn07CgpFbGVtZW50Lk1ldGhvZHMuQnlUYWcgPSB7IH07CgpPYmpl
Y3QuZXh0ZW5kKEVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcyk7CgppZiAoIVByb3Rv
dHlwZS5Ccm93c2VyRmVhdHVyZXMuRWxlbWVudEV4dGVuc2lvbnMgJiYKICAgIGRv
Y3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpWydfX3Byb3RvX18nXSkgewogIHdp
bmRvdy5IVE1MRWxlbWVudCA9IHsgfTsKICB3aW5kb3cuSFRNTEVsZW1lbnQucHJv
dG90eXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylbJ19fcHJvdG9f
XyddOwogIFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuRWxlbWVudEV4dGVuc2lv
bnMgPSB0cnVlOwp9CgpFbGVtZW50LmV4dGVuZCA9IChmdW5jdGlvbigpIHsKICBp
ZiAoUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5TcGVjaWZpY0VsZW1lbnRFeHRl
bnNpb25zKQogICAgcmV0dXJuIFByb3RvdHlwZS5LOwoKICB2YXIgTWV0aG9kcyA9
IHsgfSwgQnlUYWcgPSBFbGVtZW50Lk1ldGhvZHMuQnlUYWc7CgogIHZhciBleHRl
bmQgPSBPYmplY3QuZXh0ZW5kKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGlmICgh
ZWxlbWVudCB8fCBlbGVtZW50Ll9leHRlbmRlZEJ5UHJvdG90eXBlIHx8CiAgICAg
ICAgZWxlbWVudC5ub2RlVHlwZSAhPSAxIHx8IGVsZW1lbnQgPT0gd2luZG93KSBy
ZXR1cm4gZWxlbWVudDsKCiAgICB2YXIgbWV0aG9kcyA9IE9iamVjdC5jbG9uZShN
ZXRob2RzKSwKICAgICAgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVy
Q2FzZSgpLCBwcm9wZXJ0eSwgdmFsdWU7CgogICAgLy8gZXh0ZW5kIG1ldGhvZHMg
Zm9yIHNwZWNpZmljIHRhZ3MKICAgIGlmIChCeVRhZ1t0YWdOYW1lXSkgT2JqZWN0
LmV4dGVuZChtZXRob2RzLCBCeVRhZ1t0YWdOYW1lXSk7CgogICAgZm9yIChwcm9w
ZXJ0eSBpbiBtZXRob2RzKSB7CiAgICAgIHZhbHVlID0gbWV0aG9kc1twcm9wZXJ0
eV07CiAgICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbih2YWx1ZSkgJiYgIShwcm9w
ZXJ0eSBpbiBlbGVtZW50KSkKICAgICAgICBlbGVtZW50W3Byb3BlcnR5XSA9IHZh
bHVlLm1ldGhvZGl6ZSgpOwogICAgfQoKICAgIGVsZW1lbnQuX2V4dGVuZGVkQnlQ
cm90b3R5cGUgPSBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbjsKICAgIHJldHVybiBl
bGVtZW50OwoKICB9LCB7CiAgICByZWZyZXNoOiBmdW5jdGlvbigpIHsKICAgICAg
Ly8gZXh0ZW5kIG1ldGhvZHMgZm9yIGFsbCB0YWdzIChTYWZhcmkgZG9lc24ndCBu
ZWVkIHRoaXMpCiAgICAgIGlmICghUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5F
bGVtZW50RXh0ZW5zaW9ucykgewogICAgICAgIE9iamVjdC5leHRlbmQoTWV0aG9k
cywgRWxlbWVudC5NZXRob2RzKTsKICAgICAgICBPYmplY3QuZXh0ZW5kKE1ldGhv
ZHMsIEVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQpOwogICAgICB9CiAgICB9CiAg
fSk7CgogIGV4dGVuZC5yZWZyZXNoKCk7CiAgcmV0dXJuIGV4dGVuZDsKfSkoKTsK
CkVsZW1lbnQuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmli
dXRlKSB7CiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKSByZXR1cm4gZWxlbWVu
dC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTsKICByZXR1cm4gRWxlbWVudC5NZXRo
b2RzLlNpbXVsYXRlZC5oYXNBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTsK
fTsKCkVsZW1lbnQuYWRkTWV0aG9kcyA9IGZ1bmN0aW9uKG1ldGhvZHMpIHsKICB2
YXIgRiA9IFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMsIFQgPSBFbGVtZW50Lk1l
dGhvZHMuQnlUYWc7CgogIGlmICghbWV0aG9kcykgewogICAgT2JqZWN0LmV4dGVu
ZChGb3JtLCBGb3JtLk1ldGhvZHMpOwogICAgT2JqZWN0LmV4dGVuZChGb3JtLkVs
ZW1lbnQsIEZvcm0uRWxlbWVudC5NZXRob2RzKTsKICAgIE9iamVjdC5leHRlbmQo
RWxlbWVudC5NZXRob2RzLkJ5VGFnLCB7CiAgICAgICJGT1JNIjogICAgIE9iamVj
dC5jbG9uZShGb3JtLk1ldGhvZHMpLAogICAgICAiSU5QVVQiOiAgICBPYmplY3Qu
Y2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpLAogICAgICAiU0VMRUNUIjogICBP
YmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpLAogICAgICAiVEVYVEFS
RUEiOiBPYmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpCiAgICB9KTsK
ICB9CgogIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHsKICAgIHZhciB0YWdO
YW1lID0gbWV0aG9kczsKICAgIG1ldGhvZHMgPSBhcmd1bWVudHNbMV07CiAgfQoK
ICBpZiAoIXRhZ05hbWUpIE9iamVjdC5leHRlbmQoRWxlbWVudC5NZXRob2RzLCBt
ZXRob2RzIHx8IHsgfSk7CiAgZWxzZSB7CiAgICBpZiAoT2JqZWN0LmlzQXJyYXko
dGFnTmFtZSkpIHRhZ05hbWUuZWFjaChleHRlbmQpOwogICAgZWxzZSBleHRlbmQo
dGFnTmFtZSk7CiAgfQoKICBmdW5jdGlvbiBleHRlbmQodGFnTmFtZSkgewogICAg
dGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIGlmICghRWxlbWVu
dC5NZXRob2RzLkJ5VGFnW3RhZ05hbWVdKQogICAgICBFbGVtZW50Lk1ldGhvZHMu
QnlUYWdbdGFnTmFtZV0gPSB7IH07CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQu
TWV0aG9kcy5CeVRhZ1t0YWdOYW1lXSwgbWV0aG9kcyk7CiAgfQoKICBmdW5jdGlv
biBjb3B5KG1ldGhvZHMsIGRlc3RpbmF0aW9uLCBvbmx5SWZBYnNlbnQpIHsKICAg
IG9ubHlJZkFic2VudCA9IG9ubHlJZkFic2VudCB8fCBmYWxzZTsKICAgIGZvciAo
dmFyIHByb3BlcnR5IGluIG1ldGhvZHMpIHsKICAgICAgdmFyIHZhbHVlID0gbWV0
aG9kc1twcm9wZXJ0eV07CiAgICAgIGlmICghT2JqZWN0LmlzRnVuY3Rpb24odmFs
dWUpKSBjb250aW51ZTsKICAgICAgaWYgKCFvbmx5SWZBYnNlbnQgfHwgIShwcm9w
ZXJ0eSBpbiBkZXN0aW5hdGlvbikpCiAgICAgICAgZGVzdGluYXRpb25bcHJvcGVy
dHldID0gdmFsdWUubWV0aG9kaXplKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBm
aW5kRE9NQ2xhc3ModGFnTmFtZSkgewogICAgdmFyIGtsYXNzOwogICAgdmFyIHRy
YW5zID0gewogICAgICAiT1BUR1JPVVAiOiAiT3B0R3JvdXAiLCAiVEVYVEFSRUEi
OiAiVGV4dEFyZWEiLCAiUCI6ICJQYXJhZ3JhcGgiLAogICAgICAiRklFTERTRVQi
OiAiRmllbGRTZXQiLCAiVUwiOiAiVUxpc3QiLCAiT0wiOiAiT0xpc3QiLCAiREwi
OiAiRExpc3QiLAogICAgICAiRElSIjogIkRpcmVjdG9yeSIsICJIMSI6ICJIZWFk
aW5nIiwgIkgyIjogIkhlYWRpbmciLCAiSDMiOiAiSGVhZGluZyIsCiAgICAgICJI
NCI6ICJIZWFkaW5nIiwgIkg1IjogIkhlYWRpbmciLCAiSDYiOiAiSGVhZGluZyIs
ICJRIjogIlF1b3RlIiwKICAgICAgIklOUyI6ICJNb2QiLCAiREVMIjogIk1vZCIs
ICJBIjogIkFuY2hvciIsICJJTUciOiAiSW1hZ2UiLCAiQ0FQVElPTiI6CiAgICAg
ICJUYWJsZUNhcHRpb24iLCAiQ09MIjogIlRhYmxlQ29sIiwgIkNPTEdST1VQIjog
IlRhYmxlQ29sIiwgIlRIRUFEIjoKICAgICAgIlRhYmxlU2VjdGlvbiIsICJURk9P
VCI6ICJUYWJsZVNlY3Rpb24iLCAiVEJPRFkiOiAiVGFibGVTZWN0aW9uIiwgIlRS
IjoKICAgICAgIlRhYmxlUm93IiwgIlRIIjogIlRhYmxlQ2VsbCIsICJURCI6ICJU
YWJsZUNlbGwiLCAiRlJBTUVTRVQiOgogICAgICAiRnJhbWVTZXQiLCAiSUZSQU1F
IjogIklGcmFtZSIKICAgIH07CiAgICBpZiAodHJhbnNbdGFnTmFtZV0pIGtsYXNz
ID0gJ0hUTUwnICsgdHJhbnNbdGFnTmFtZV0gKyAnRWxlbWVudCc7CiAgICBpZiAo
d2luZG93W2tsYXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CiAgICBrbGFzcyA9
ICdIVE1MJyArIHRhZ05hbWUgKyAnRWxlbWVudCc7CiAgICBpZiAod2luZG93W2ts
YXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CiAgICBrbGFzcyA9ICdIVE1MJyAr
IHRhZ05hbWUuY2FwaXRhbGl6ZSgpICsgJ0VsZW1lbnQnOwogICAgaWYgKHdpbmRv
d1trbGFzc10pIHJldHVybiB3aW5kb3dba2xhc3NdOwoKICAgIHdpbmRvd1trbGFz
c10gPSB7IH07CiAgICB3aW5kb3dba2xhc3NdLnByb3RvdHlwZSA9IGRvY3VtZW50
LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSlbJ19fcHJvdG9fXyddOwogICAgcmV0dXJu
IHdpbmRvd1trbGFzc107CiAgfQoKICBpZiAoRi5FbGVtZW50RXh0ZW5zaW9ucykg
ewogICAgY29weShFbGVtZW50Lk1ldGhvZHMsIEhUTUxFbGVtZW50LnByb3RvdHlw
ZSk7CiAgICBjb3B5KEVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQsIEhUTUxFbGVt
ZW50LnByb3RvdHlwZSwgdHJ1ZSk7CiAgfQoKICBpZiAoRi5TcGVjaWZpY0VsZW1l
bnRFeHRlbnNpb25zKSB7CiAgICBmb3IgKHZhciB0YWcgaW4gRWxlbWVudC5NZXRo
b2RzLkJ5VGFnKSB7CiAgICAgIHZhciBrbGFzcyA9IGZpbmRET01DbGFzcyh0YWcp
OwogICAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGtsYXNzKSkgY29udGludWU7
CiAgICAgIGNvcHkoVFt0YWddLCBrbGFzcy5wcm90b3R5cGUpOwogICAgfQogIH0K
CiAgT2JqZWN0LmV4dGVuZChFbGVtZW50LCBFbGVtZW50Lk1ldGhvZHMpOwogIGRl
bGV0ZSBFbGVtZW50LkJ5VGFnOwoKICBpZiAoRWxlbWVudC5leHRlbmQucmVmcmVz
aCkgRWxlbWVudC5leHRlbmQucmVmcmVzaCgpOwogIEVsZW1lbnQuY2FjaGUgPSB7
IH07Cn07Cgpkb2N1bWVudC52aWV3cG9ydCA9IHsKICBnZXREaW1lbnNpb25zOiBm
dW5jdGlvbigpIHsKICAgIHZhciBkaW1lbnNpb25zID0geyB9LCBCID0gUHJvdG90
eXBlLkJyb3dzZXI7CiAgICAkdygnd2lkdGggaGVpZ2h0JykuZWFjaChmdW5jdGlv
bihkKSB7CiAgICAgIHZhciBEID0gZC5jYXBpdGFsaXplKCk7CiAgICAgIGlmIChC
LldlYktpdCAmJiAhZG9jdW1lbnQuZXZhbHVhdGUpIHsKICAgICAgICAvLyBTYWZh
cmkgPDMuMCBuZWVkcyBzZWxmLmlubmVyV2lkdGgvSGVpZ2h0CiAgICAgICAgZGlt
ZW5zaW9uc1tkXSA9IHNlbGZbJ2lubmVyJyArIERdOwogICAgICB9IGVsc2UgaWYg
KEIuT3BlcmEgJiYgcGFyc2VGbG9hdCh3aW5kb3cub3BlcmEudmVyc2lvbigpKSA8
IDkuNSkgewogICAgICAgIC8vIE9wZXJhIDw5LjUgbmVlZHMgZG9jdW1lbnQuYm9k
eS5jbGllbnRXaWR0aC9IZWlnaHQKICAgICAgICBkaW1lbnNpb25zW2RdID0gZG9j
dW1lbnQuYm9keVsnY2xpZW50JyArIERdCiAgICAgIH0gZWxzZSB7CiAgICAgICAg
ZGltZW5zaW9uc1tkXSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsnY2xpZW50
JyArIERdOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBkaW1lbnNpb25zOwog
IH0sCgogIGdldFdpZHRoOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmdl
dERpbWVuc2lvbnMoKS53aWR0aDsKICB9LAoKICBnZXRIZWlnaHQ6IGZ1bmN0aW9u
KCkgewogICAgcmV0dXJuIHRoaXMuZ2V0RGltZW5zaW9ucygpLmhlaWdodDsKICB9
LAoKICBnZXRTY3JvbGxPZmZzZXRzOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBF
bGVtZW50Ll9yZXR1cm5PZmZzZXQoCiAgICAgIHdpbmRvdy5wYWdlWE9mZnNldCB8
fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVu
dC5ib2R5LnNjcm9sbExlZnQsCiAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCB8fCBk
b2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJv
ZHkuc2Nyb2xsVG9wKTsKICB9Cn07Ci8qIFBvcnRpb25zIG9mIHRoZSBTZWxlY3Rv
ciBjbGFzcyBhcmUgZGVyaXZlZCBmcm9tIEphY2sgU2xvY3VtJ3MgRG9tUXVlcnks
CiAqIHBhcnQgb2YgWVVJLUV4dCB2ZXJzaW9uIDAuNDAsIGRpc3RyaWJ1dGVkIHVu
ZGVyIHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUKICogbGljZW5zZS4gIFBsZWFz
ZSBzZWUgaHR0cDovL3d3dy55dWktZXh0LmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRp
b24uICovCgp2YXIgU2VsZWN0b3IgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxp
emU6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHsKICAgIHRoaXMuZXhwcmVzc2lvbiA9
IGV4cHJlc3Npb24uc3RyaXAoKTsKCiAgICBpZiAodGhpcy5zaG91bGRVc2VTZWxl
Y3RvcnNBUEkoKSkgewogICAgICB0aGlzLm1vZGUgPSAnc2VsZWN0b3JzQVBJJzsK
ICAgIH0gZWxzZSBpZiAodGhpcy5zaG91bGRVc2VYUGF0aCgpKSB7CiAgICAgIHRo
aXMubW9kZSA9ICd4cGF0aCc7CiAgICAgIHRoaXMuY29tcGlsZVhQYXRoTWF0Y2hl
cigpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5tb2RlID0gIm5vcm1hbCI7CiAg
ICAgIHRoaXMuY29tcGlsZU1hdGNoZXIoKTsKICAgIH0KCiAgfSwKCiAgc2hvdWxk
VXNlWFBhdGg6IGZ1bmN0aW9uKCkgewogICAgaWYgKCFQcm90b3R5cGUuQnJvd3Nl
ckZlYXR1cmVzLlhQYXRoKSByZXR1cm4gZmFsc2U7CgogICAgdmFyIGUgPSB0aGlz
LmV4cHJlc3Npb247CgogICAgLy8gU2FmYXJpIDMgY2hva2VzIG9uIDoqLW9mLXR5
cGUgYW5kIDplbXB0eQogICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCAm
JgogICAgIChlLmluY2x1ZGUoIi1vZi10eXBlIikgfHwgZS5pbmNsdWRlKCI6ZW1w
dHkiKSkpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICAvLyBYUGF0aCBjYW4ndCBk
byBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMsIG5vciBjYW4gaXQgcmVhZAogICAgLy8g
dGhlICJjaGVja2VkIiBwcm9wZXJ0eSBmcm9tIERPTSBub2RlcwogICAgaWYgKCgv
KFxbW1x3LV0qPzp8OmNoZWNrZWQpLykudGVzdChlKSkKICAgICAgcmV0dXJuIGZh
bHNlOwoKICAgIHJldHVybiB0cnVlOwogIH0sCgogIHNob3VsZFVzZVNlbGVjdG9y
c0FQSTogZnVuY3Rpb24oKSB7CiAgICBpZiAoIVByb3RvdHlwZS5Ccm93c2VyRmVh
dHVyZXMuU2VsZWN0b3JzQVBJKSByZXR1cm4gZmFsc2U7CgogICAgaWYgKCFTZWxl
Y3Rvci5fZGl2KSBTZWxlY3Rvci5fZGl2ID0gbmV3IEVsZW1lbnQoJ2RpdicpOwoK
ICAgIC8vIE1ha2Ugc3VyZSB0aGUgYnJvd3NlciB0cmVhdHMgdGhlIHNlbGVjdG9y
IGFzIHZhbGlkLiBUZXN0IG9uIGFuCiAgICAvLyBpc29sYXRlZCBlbGVtZW50IHRv
IG1pbmltaXplIGNvc3Qgb2YgdGhpcyBjaGVjay4KICAgIHRyeSB7CiAgICAgIFNl
bGVjdG9yLl9kaXYucXVlcnlTZWxlY3Rvcih0aGlzLmV4cHJlc3Npb24pOwogICAg
fSBjYXRjaChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1
cm4gdHJ1ZTsKICB9LAoKICBjb21waWxlTWF0Y2hlcjogZnVuY3Rpb24oKSB7CiAg
ICB2YXIgZSA9IHRoaXMuZXhwcmVzc2lvbiwgcHMgPSBTZWxlY3Rvci5wYXR0ZXJu
cywgaCA9IFNlbGVjdG9yLmhhbmRsZXJzLAogICAgICAgIGMgPSBTZWxlY3Rvci5j
cml0ZXJpYSwgbGUsIHAsIG07CgogICAgaWYgKFNlbGVjdG9yLl9jYWNoZVtlXSkg
ewogICAgICB0aGlzLm1hdGNoZXIgPSBTZWxlY3Rvci5fY2FjaGVbZV07CiAgICAg
IHJldHVybjsKICAgIH0KCiAgICB0aGlzLm1hdGNoZXIgPSBbInRoaXMubWF0Y2hl
ciA9IGZ1bmN0aW9uKHJvb3QpIHsiLAogICAgICAgICAgICAgICAgICAgICJ2YXIg
ciA9IHJvb3QsIGggPSBTZWxlY3Rvci5oYW5kbGVycywgYyA9IGZhbHNlLCBuOyJd
OwoKICAgIHdoaWxlIChlICYmIGxlICE9IGUgJiYgKC9cUy8pLnRlc3QoZSkpIHsK
ICAgICAgbGUgPSBlOwogICAgICBmb3IgKHZhciBpIGluIHBzKSB7CiAgICAgICAg
cCA9IHBzW2ldOwogICAgICAgIGlmIChtID0gZS5tYXRjaChwKSkgewogICAgICAg
ICAgdGhpcy5tYXRjaGVyLnB1c2goT2JqZWN0LmlzRnVuY3Rpb24oY1tpXSkgPyBj
W2ldKG0pIDoKICAgICAgICAgICAgbmV3IFRlbXBsYXRlKGNbaV0pLmV2YWx1YXRl
KG0pKTsKICAgICAgICAgIGUgPSBlLnJlcGxhY2UobVswXSwgJycpOwogICAgICAg
ICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5tYXRj
aGVyLnB1c2goInJldHVybiBoLnVuaXF1ZShuKTtcbn0iKTsKICAgIGV2YWwodGhp
cy5tYXRjaGVyLmpvaW4oJ1xuJykpOwogICAgU2VsZWN0b3IuX2NhY2hlW3RoaXMu
ZXhwcmVzc2lvbl0gPSB0aGlzLm1hdGNoZXI7CiAgfSwKCiAgY29tcGlsZVhQYXRo
TWF0Y2hlcjogZnVuY3Rpb24oKSB7CiAgICB2YXIgZSA9IHRoaXMuZXhwcmVzc2lv
biwgcHMgPSBTZWxlY3Rvci5wYXR0ZXJucywKICAgICAgICB4ID0gU2VsZWN0b3Iu
eHBhdGgsIGxlLCBtOwoKICAgIGlmIChTZWxlY3Rvci5fY2FjaGVbZV0pIHsKICAg
ICAgdGhpcy54cGF0aCA9IFNlbGVjdG9yLl9jYWNoZVtlXTsgcmV0dXJuOwogICAg
fQoKICAgIHRoaXMubWF0Y2hlciA9IFsnLi8vKiddOwogICAgd2hpbGUgKGUgJiYg
bGUgIT0gZSAmJiAoL1xTLykudGVzdChlKSkgewogICAgICBsZSA9IGU7CiAgICAg
IGZvciAodmFyIGkgaW4gcHMpIHsKICAgICAgICBpZiAobSA9IGUubWF0Y2gocHNb
aV0pKSB7CiAgICAgICAgICB0aGlzLm1hdGNoZXIucHVzaChPYmplY3QuaXNGdW5j
dGlvbih4W2ldKSA/IHhbaV0obSkgOgogICAgICAgICAgICBuZXcgVGVtcGxhdGUo
eFtpXSkuZXZhbHVhdGUobSkpOwogICAgICAgICAgZSA9IGUucmVwbGFjZShtWzBd
LCAnJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0K
CiAgICB0aGlzLnhwYXRoID0gdGhpcy5tYXRjaGVyLmpvaW4oJycpOwogICAgU2Vs
ZWN0b3IuX2NhY2hlW3RoaXMuZXhwcmVzc2lvbl0gPSB0aGlzLnhwYXRoOwogIH0s
CgogIGZpbmRFbGVtZW50czogZnVuY3Rpb24ocm9vdCkgewogICAgcm9vdCA9IHJv
b3QgfHwgZG9jdW1lbnQ7CiAgICB2YXIgZSA9IHRoaXMuZXhwcmVzc2lvbiwgcmVz
dWx0czsKCiAgICBzd2l0Y2ggKHRoaXMubW9kZSkgewogICAgICBjYXNlICdzZWxl
Y3RvcnNBUEknOgogICAgICAgIC8vIHF1ZXJ5U2VsZWN0b3JBbGwgcXVlcmllcyBk
b2N1bWVudC13aWRlLCB0aGVuIGZpbHRlcnMgdG8gZGVzY2VuZGFudHMKICAgICAg
ICAvLyBvZiB0aGUgY29udGV4dCBlbGVtZW50LiBUaGF0J3Mgbm90IHdoYXQgd2Ug
d2FudC4KICAgICAgICAvLyBBZGQgYW4gZXhwbGljaXQgY29udGV4dCB0byB0aGUg
c2VsZWN0b3IgaWYgbmVjZXNzYXJ5LgogICAgICAgIGlmIChyb290ICE9PSBkb2N1
bWVudCkgewogICAgICAgICAgdmFyIG9sZElkID0gcm9vdC5pZCwgaWQgPSAkKHJv
b3QpLmlkZW50aWZ5KCk7CiAgICAgICAgICBlID0gIiMiICsgaWQgKyAiICIgKyBl
OwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0cyA9ICRBKHJvb3QucXVlcnlTZWxl
Y3RvckFsbChlKSkubWFwKEVsZW1lbnQuZXh0ZW5kKTsKICAgICAgICByb290Lmlk
ID0gb2xkSWQ7CgogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICBjYXNlICd4
cGF0aCc6CiAgICAgICAgcmV0dXJuIGRvY3VtZW50Ll9nZXRFbGVtZW50c0J5WFBh
dGgodGhpcy54cGF0aCwgcm9vdCk7CiAgICAgIGRlZmF1bHQ6CiAgICAgICByZXR1
cm4gdGhpcy5tYXRjaGVyKHJvb3QpOwogICAgfQogIH0sCgogIG1hdGNoOiBmdW5j
dGlvbihlbGVtZW50KSB7CiAgICB0aGlzLnRva2VucyA9IFtdOwoKICAgIHZhciBl
ID0gdGhpcy5leHByZXNzaW9uLCBwcyA9IFNlbGVjdG9yLnBhdHRlcm5zLCBhcyA9
IFNlbGVjdG9yLmFzc2VydGlvbnM7CiAgICB2YXIgbGUsIHAsIG07CgogICAgd2hp
bGUgKGUgJiYgbGUgIT09IGUgJiYgKC9cUy8pLnRlc3QoZSkpIHsKICAgICAgbGUg
PSBlOwogICAgICBmb3IgKHZhciBpIGluIHBzKSB7CiAgICAgICAgcCA9IHBzW2ld
OwogICAgICAgIGlmIChtID0gZS5tYXRjaChwKSkgewogICAgICAgICAgLy8gdXNl
IHRoZSBTZWxlY3Rvci5hc3NlcnRpb25zIG1ldGhvZHMgdW5sZXNzIHRoZSBzZWxl
Y3RvcgogICAgICAgICAgLy8gaXMgdG9vIGNvbXBsZXguCiAgICAgICAgICBpZiAo
YXNbaV0pIHsKICAgICAgICAgICAgdGhpcy50b2tlbnMucHVzaChbaSwgT2JqZWN0
LmNsb25lKG0pXSk7CiAgICAgICAgICAgIGUgPSBlLnJlcGxhY2UobVswXSwgJycp
OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmVsdWN0YW50bHkg
ZG8gYSBkb2N1bWVudC13aWRlIHNlYXJjaAogICAgICAgICAgICAvLyBhbmQgbG9v
ayBmb3IgYSBtYXRjaCBpbiB0aGUgYXJyYXkKICAgICAgICAgICAgcmV0dXJuIHRo
aXMuZmluZEVsZW1lbnRzKGRvY3VtZW50KS5pbmNsdWRlKGVsZW1lbnQpOwogICAg
ICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBtYXRjaCA9
IHRydWUsIG5hbWUsIG1hdGNoZXM7CiAgICBmb3IgKHZhciBpID0gMCwgdG9rZW47
IHRva2VuID0gdGhpcy50b2tlbnNbaV07IGkrKykgewogICAgICBuYW1lID0gdG9r
ZW5bMF0sIG1hdGNoZXMgPSB0b2tlblsxXTsKICAgICAgaWYgKCFTZWxlY3Rvci5h
c3NlcnRpb25zW25hbWVdKGVsZW1lbnQsIG1hdGNoZXMpKSB7CiAgICAgICAgbWF0
Y2ggPSBmYWxzZTsgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWF0
Y2g7CiAgfSwKCiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRo
aXMuZXhwcmVzc2lvbjsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAg
IHJldHVybiAiIzxTZWxlY3RvcjoiICsgdGhpcy5leHByZXNzaW9uLmluc3BlY3Qo
KSArICI+IjsKICB9Cn0pOwoKT2JqZWN0LmV4dGVuZChTZWxlY3RvciwgewogIF9j
YWNoZTogeyB9LAoKICB4cGF0aDogewogICAgZGVzY2VuZGFudDogICAiLy8qIiwK
ICAgIGNoaWxkOiAgICAgICAgIi8qIiwKICAgIGFkamFjZW50OiAgICAgIi9mb2xs
b3dpbmctc2libGluZzo6KlsxXSIsCiAgICBsYXRlclNpYmxpbmc6ICcvZm9sbG93
aW5nLXNpYmxpbmc6OionLAogICAgdGFnTmFtZTogICAgICBmdW5jdGlvbihtKSB7
CiAgICAgIGlmIChtWzFdID09ICcqJykgcmV0dXJuICcnOwogICAgICByZXR1cm4g
Iltsb2NhbC1uYW1lKCk9JyIgKyBtWzFdLnRvTG93ZXJDYXNlKCkgKwogICAgICAg
ICAgICAgIicgb3IgbG9jYWwtbmFtZSgpPSciICsgbVsxXS50b1VwcGVyQ2FzZSgp
ICsgIiddIjsKICAgIH0sCiAgICBjbGFzc05hbWU6ICAgICJbY29udGFpbnMoY29u
Y2F0KCcgJywgQGNsYXNzLCAnICcpLCAnICN7MX0gJyldIiwKICAgIGlkOiAgICAg
ICAgICAgIltAaWQ9JyN7MX0nXSIsCiAgICBhdHRyUHJlc2VuY2U6IGZ1bmN0aW9u
KG0pIHsKICAgICAgbVsxXSA9IG1bMV0udG9Mb3dlckNhc2UoKTsKICAgICAgcmV0
dXJuIG5ldyBUZW1wbGF0ZSgiW0AjezF9XSIpLmV2YWx1YXRlKG0pOwogICAgfSwK
ICAgIGF0dHI6IGZ1bmN0aW9uKG0pIHsKICAgICAgbVsxXSA9IG1bMV0udG9Mb3dl
ckNhc2UoKTsKICAgICAgbVszXSA9IG1bNV0gfHwgbVs2XTsKICAgICAgcmV0dXJu
IG5ldyBUZW1wbGF0ZShTZWxlY3Rvci54cGF0aC5vcGVyYXRvcnNbbVsyXV0pLmV2
YWx1YXRlKG0pOwogICAgfSwKICAgIHBzZXVkbzogZnVuY3Rpb24obSkgewogICAg
ICB2YXIgaCA9IFNlbGVjdG9yLnhwYXRoLnBzZXVkb3NbbVsxXV07CiAgICAgIGlm
ICghaCkgcmV0dXJuICcnOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oaCkp
IHJldHVybiBoKG0pOwogICAgICByZXR1cm4gbmV3IFRlbXBsYXRlKFNlbGVjdG9y
LnhwYXRoLnBzZXVkb3NbbVsxXV0pLmV2YWx1YXRlKG0pOwogICAgfSwKICAgIG9w
ZXJhdG9yczogewogICAgICAnPSc6ICAiW0AjezF9PScjezN9J10iLAogICAgICAn
IT0nOiAiW0AjezF9IT0nI3szfSddIiwKICAgICAgJ149JzogIltzdGFydHMtd2l0
aChAI3sxfSwgJyN7M30nKV0iLAogICAgICAnJD0nOiAiW3N1YnN0cmluZyhAI3sx
fSwgKHN0cmluZy1sZW5ndGgoQCN7MX0pIC0gc3RyaW5nLWxlbmd0aCgnI3szfScp
ICsgMSkpPScjezN9J10iLAogICAgICAnKj0nOiAiW2NvbnRhaW5zKEAjezF9LCAn
I3szfScpXSIsCiAgICAgICd+PSc6ICJbY29udGFpbnMoY29uY2F0KCcgJywgQCN7
MX0sICcgJyksICcgI3szfSAnKV0iLAogICAgICAnfD0nOiAiW2NvbnRhaW5zKGNv
bmNhdCgnLScsIEAjezF9LCAnLScpLCAnLSN7M30tJyldIgogICAgfSwKICAgIHBz
ZXVkb3M6IHsKICAgICAgJ2ZpcnN0LWNoaWxkJzogJ1tub3QocHJlY2VkaW5nLXNp
Ymxpbmc6OiopXScsCiAgICAgICdsYXN0LWNoaWxkJzogICdbbm90KGZvbGxvd2lu
Zy1zaWJsaW5nOjoqKV0nLAogICAgICAnb25seS1jaGlsZCc6ICAnW25vdChwcmVj
ZWRpbmctc2libGluZzo6KiBvciBmb2xsb3dpbmctc2libGluZzo6KildJywKICAg
ICAgJ2VtcHR5JzogICAgICAgIltjb3VudCgqKSA9IDAgYW5kIChjb3VudCh0ZXh0
KCkpID0gMCldIiwKICAgICAgJ2NoZWNrZWQnOiAgICAgIltAY2hlY2tlZF0iLAog
ICAgICAnZGlzYWJsZWQnOiAgICAiWyhAZGlzYWJsZWQpIGFuZCAoQHR5cGUhPSdo
aWRkZW4nKV0iLAogICAgICAnZW5hYmxlZCc6ICAgICAiW25vdChAZGlzYWJsZWQp
IGFuZCAoQHR5cGUhPSdoaWRkZW4nKV0iLAogICAgICAnbm90JzogZnVuY3Rpb24o
bSkgewogICAgICAgIHZhciBlID0gbVs2XSwgcCA9IFNlbGVjdG9yLnBhdHRlcm5z
LAogICAgICAgICAgICB4ID0gU2VsZWN0b3IueHBhdGgsIGxlLCB2OwoKICAgICAg
ICB2YXIgZXhjbHVzaW9uID0gW107CiAgICAgICAgd2hpbGUgKGUgJiYgbGUgIT0g
ZSAmJiAoL1xTLykudGVzdChlKSkgewogICAgICAgICAgbGUgPSBlOwogICAgICAg
ICAgZm9yICh2YXIgaSBpbiBwKSB7CiAgICAgICAgICAgIGlmIChtID0gZS5tYXRj
aChwW2ldKSkgewogICAgICAgICAgICAgIHYgPSBPYmplY3QuaXNGdW5jdGlvbih4
W2ldKSA/IHhbaV0obSkgOiBuZXcgVGVtcGxhdGUoeFtpXSkuZXZhbHVhdGUobSk7
CiAgICAgICAgICAgICAgZXhjbHVzaW9uLnB1c2goIigiICsgdi5zdWJzdHJpbmco
MSwgdi5sZW5ndGggLSAxKSArICIpIik7CiAgICAgICAgICAgICAgZSA9IGUucmVw
bGFjZShtWzBdLCAnJyk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAg
IH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICJbbm90KCIg
KyBleGNsdXNpb24uam9pbigiIGFuZCAiKSArICIpXSI7CiAgICAgIH0sCiAgICAg
ICdudGgtY2hpbGQnOiAgICAgIGZ1bmN0aW9uKG0pIHsKICAgICAgICByZXR1cm4g
U2VsZWN0b3IueHBhdGgucHNldWRvcy5udGgoIihjb3VudCguL3ByZWNlZGluZy1z
aWJsaW5nOjoqKSArIDEpICIsIG0pOwogICAgICB9LAogICAgICAnbnRoLWxhc3Qt
Y2hpbGQnOiBmdW5jdGlvbihtKSB7CiAgICAgICAgcmV0dXJuIFNlbGVjdG9yLnhw
YXRoLnBzZXVkb3MubnRoKCIoY291bnQoLi9mb2xsb3dpbmctc2libGluZzo6Kikg
KyAxKSAiLCBtKTsKICAgICAgfSwKICAgICAgJ250aC1vZi10eXBlJzogICAgZnVu
Y3Rpb24obSkgewogICAgICAgIHJldHVybiBTZWxlY3Rvci54cGF0aC5wc2V1ZG9z
Lm50aCgicG9zaXRpb24oKSAiLCBtKTsKICAgICAgfSwKICAgICAgJ250aC1sYXN0
LW9mLXR5cGUnOiBmdW5jdGlvbihtKSB7CiAgICAgICAgcmV0dXJuIFNlbGVjdG9y
LnhwYXRoLnBzZXVkb3MubnRoKCIobGFzdCgpICsgMSAtIHBvc2l0aW9uKCkpICIs
IG0pOwogICAgICB9LAogICAgICAnZmlyc3Qtb2YtdHlwZSc6ICBmdW5jdGlvbiht
KSB7CiAgICAgICAgbVs2XSA9ICIxIjsgcmV0dXJuIFNlbGVjdG9yLnhwYXRoLnBz
ZXVkb3NbJ250aC1vZi10eXBlJ10obSk7CiAgICAgIH0sCiAgICAgICdsYXN0LW9m
LXR5cGUnOiAgIGZ1bmN0aW9uKG0pIHsKICAgICAgICBtWzZdID0gIjEiOyByZXR1
cm4gU2VsZWN0b3IueHBhdGgucHNldWRvc1snbnRoLWxhc3Qtb2YtdHlwZSddKG0p
OwogICAgICB9LAogICAgICAnb25seS1vZi10eXBlJzogICBmdW5jdGlvbihtKSB7
CiAgICAgICAgdmFyIHAgPSBTZWxlY3Rvci54cGF0aC5wc2V1ZG9zOyByZXR1cm4g
cFsnZmlyc3Qtb2YtdHlwZSddKG0pICsgcFsnbGFzdC1vZi10eXBlJ10obSk7CiAg
ICAgIH0sCiAgICAgIG50aDogZnVuY3Rpb24oZnJhZ21lbnQsIG0pIHsKICAgICAg
ICB2YXIgbW0sIGZvcm11bGEgPSBtWzZdLCBwcmVkaWNhdGU7CiAgICAgICAgaWYg
KGZvcm11bGEgPT0gJ2V2ZW4nKSBmb3JtdWxhID0gJzJuKzAnOwogICAgICAgIGlm
IChmb3JtdWxhID09ICdvZGQnKSAgZm9ybXVsYSA9ICcybisxJzsKICAgICAgICBp
ZiAobW0gPSBmb3JtdWxhLm1hdGNoKC9eKFxkKykkLykpIC8vIGRpZ2l0IG9ubHkK
ICAgICAgICAgIHJldHVybiAnWycgKyBmcmFnbWVudCArICI9ICIgKyBtbVsxXSAr
ICddJzsKICAgICAgICBpZiAobW0gPSBmb3JtdWxhLm1hdGNoKC9eKC0/XGQqKT9u
KChbKy1dKShcZCspKT8vKSkgeyAvLyBhbitiCiAgICAgICAgICBpZiAobW1bMV0g
PT0gIi0iKSBtbVsxXSA9IC0xOwogICAgICAgICAgdmFyIGEgPSBtbVsxXSA/IE51
bWJlcihtbVsxXSkgOiAxOwogICAgICAgICAgdmFyIGIgPSBtbVsyXSA/IE51bWJl
cihtbVsyXSkgOiAwOwogICAgICAgICAgcHJlZGljYXRlID0gIlsoKCN7ZnJhZ21l
bnR9IC0gI3tifSkgbW9kICN7YX0gPSAwKSBhbmQgIiArCiAgICAgICAgICAiKCgj
e2ZyYWdtZW50fSAtICN7Yn0pIGRpdiAje2F9ID49IDApXSI7CiAgICAgICAgICBy
ZXR1cm4gbmV3IFRlbXBsYXRlKHByZWRpY2F0ZSkuZXZhbHVhdGUoewogICAgICAg
ICAgICBmcmFnbWVudDogZnJhZ21lbnQsIGE6IGEsIGI6IGIgfSk7CiAgICAgICAg
fQogICAgICB9CiAgICB9CiAgfSwKCiAgY3JpdGVyaWE6IHsKICAgIHRhZ05hbWU6
ICAgICAgJ24gPSBoLnRhZ05hbWUobiwgciwgIiN7MX0iLCBjKTsgICAgICBjID0g
ZmFsc2U7JywKICAgIGNsYXNzTmFtZTogICAgJ24gPSBoLmNsYXNzTmFtZShuLCBy
LCAiI3sxfSIsIGMpOyAgICBjID0gZmFsc2U7JywKICAgIGlkOiAgICAgICAgICAg
J24gPSBoLmlkKG4sIHIsICIjezF9IiwgYyk7ICAgICAgICAgICBjID0gZmFsc2U7
JywKICAgIGF0dHJQcmVzZW5jZTogJ24gPSBoLmF0dHJQcmVzZW5jZShuLCByLCAi
I3sxfSIsIGMpOyBjID0gZmFsc2U7JywKICAgIGF0dHI6IGZ1bmN0aW9uKG0pIHsK
ICAgICAgbVszXSA9IChtWzVdIHx8IG1bNl0pOwogICAgICByZXR1cm4gbmV3IFRl
bXBsYXRlKCduID0gaC5hdHRyKG4sIHIsICIjezF9IiwgIiN7M30iLCAiI3syfSIs
IGMpOyBjID0gZmFsc2U7JykuZXZhbHVhdGUobSk7CiAgICB9LAogICAgcHNldWRv
OiBmdW5jdGlvbihtKSB7CiAgICAgIGlmIChtWzZdKSBtWzZdID0gbVs2XS5yZXBs
YWNlKC8iL2csICdcXCInKTsKICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZSgnbiA9
IGgucHNldWRvKG4sICIjezF9IiwgIiN7Nn0iLCByLCBjKTsgYyA9IGZhbHNlOycp
LmV2YWx1YXRlKG0pOwogICAgfSwKICAgIGRlc2NlbmRhbnQ6ICAgJ2MgPSAiZGVz
Y2VuZGFudCI7JywKICAgIGNoaWxkOiAgICAgICAgJ2MgPSAiY2hpbGQiOycsCiAg
ICBhZGphY2VudDogICAgICdjID0gImFkamFjZW50IjsnLAogICAgbGF0ZXJTaWJs
aW5nOiAnYyA9ICJsYXRlclNpYmxpbmciOycKICB9LAoKICBwYXR0ZXJuczogewog
ICAgLy8gY29tYmluYXRvcnMgbXVzdCBiZSBsaXN0ZWQgZmlyc3QKICAgIC8vIChh
bmQgZGVzY2VuZGFudCBuZWVkcyB0byBiZSBsYXN0IGNvbWJpbmF0b3IpCiAgICBs
YXRlclNpYmxpbmc6IC9eXHMqflxzKi8sCiAgICBjaGlsZDogICAgICAgIC9eXHMq
PlxzKi8sCiAgICBhZGphY2VudDogICAgIC9eXHMqXCtccyovLAogICAgZGVzY2Vu
ZGFudDogICAvXlxzLywKCiAgICAvLyBzZWxlY3RvcnMgZm9sbG93CiAgICB0YWdO
YW1lOiAgICAgIC9eXHMqKFwqfFtcd1wtXSspKFxifCQpPy8sCiAgICBpZDogICAg
ICAgICAgIC9eIyhbXHdcLVwqXSspKFxifCQpLywKICAgIGNsYXNzTmFtZTogICAg
L15cLihbXHdcLVwqXSspKFxifCQpLywKICAgIHBzZXVkbzoKL146KChmaXJzdHxs
YXN0fG50aHxudGgtbGFzdHxvbmx5KSgtY2hpbGR8LW9mLXR5cGUpfGVtcHR5fGNo
ZWNrZWR8KGVufGRpcylhYmxlZHxub3QpKFwoKC4qPylcKSk/KFxifCR8KD89XHN8
Wzorfj5dKSkvLAogICAgYXR0clByZXNlbmNlOiAvXlxbKCg/Oltcd10rOik/W1x3
XSspXF0vLAogICAgYXR0cjogICAgICAgICAvXFsoKD86W1x3LV0qOik/W1x3LV0r
KVxzKig/OihbIV4kKn58XT89KVxzKigoWyciXSkoW15cNF0qPylcNHwoW14nIl1b
XlxdXSo/KSkpP1xdLwogIH0sCgogIC8vIGZvciBTZWxlY3Rvci5tYXRjaCBhbmQg
RWxlbWVudCNtYXRjaAogIGFzc2VydGlvbnM6IHsKICAgIHRhZ05hbWU6IGZ1bmN0
aW9uKGVsZW1lbnQsIG1hdGNoZXMpIHsKICAgICAgcmV0dXJuIG1hdGNoZXNbMV0u
dG9VcHBlckNhc2UoKSA9PSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTsK
ICAgIH0sCgogICAgY2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50LCBtYXRjaGVz
KSB7CiAgICAgIHJldHVybiBFbGVtZW50Lmhhc0NsYXNzTmFtZShlbGVtZW50LCBt
YXRjaGVzWzFdKTsKICAgIH0sCgogICAgaWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG1h
dGNoZXMpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IG1hdGNoZXNbMV07
CiAgICB9LAoKICAgIGF0dHJQcmVzZW5jZTogZnVuY3Rpb24oZWxlbWVudCwgbWF0
Y2hlcykgewogICAgICByZXR1cm4gRWxlbWVudC5oYXNBdHRyaWJ1dGUoZWxlbWVu
dCwgbWF0Y2hlc1sxXSk7CiAgICB9LAoKICAgIGF0dHI6IGZ1bmN0aW9uKGVsZW1l
bnQsIG1hdGNoZXMpIHsKICAgICAgdmFyIG5vZGVWYWx1ZSA9IEVsZW1lbnQucmVh
ZEF0dHJpYnV0ZShlbGVtZW50LCBtYXRjaGVzWzFdKTsKICAgICAgcmV0dXJuIG5v
ZGVWYWx1ZSAmJiBTZWxlY3Rvci5vcGVyYXRvcnNbbWF0Y2hlc1syXV0obm9kZVZh
bHVlLCBtYXRjaGVzWzVdIHx8IG1hdGNoZXNbNl0pOwogICAgfQogIH0sCgogIGhh
bmRsZXJzOiB7CiAgICAvLyBVVElMSVRZIEZVTkNUSU9OUwogICAgLy8gam9pbnMg
dHdvIGNvbGxlY3Rpb25zCiAgICBjb25jYXQ6IGZ1bmN0aW9uKGEsIGIpIHsKICAg
ICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBiW2ldOyBpKyspCiAgICAg
ICAgYS5wdXNoKG5vZGUpOwogICAgICByZXR1cm4gYTsKICAgIH0sCgogICAgLy8g
bWFya3MgYW4gYXJyYXkgb2Ygbm9kZXMgZm9yIGNvdW50aW5nCiAgICBtYXJrOiBm
dW5jdGlvbihub2RlcykgewogICAgICB2YXIgX3RydWUgPSBQcm90b3R5cGUuZW1w
dHlGdW5jdGlvbjsKICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBu
b2Rlc1tpXTsgaSsrKQogICAgICAgIG5vZGUuX2NvdW50ZWRCeVByb3RvdHlwZSA9
IF90cnVlOwogICAgICByZXR1cm4gbm9kZXM7CiAgICB9LAoKICAgIHVubWFyazog
ZnVuY3Rpb24obm9kZXMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5v
ZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgIG5vZGUuX2NvdW50ZWRCeVByb3Rv
dHlwZSA9IHVuZGVmaW5lZDsKICAgICAgcmV0dXJuIG5vZGVzOwogICAgfSwKCiAg
ICAvLyBtYXJrIGVhY2ggY2hpbGQgbm9kZSB3aXRoIGl0cyBwb3NpdGlvbiAoZm9y
IG50aCBjYWxscykKICAgIC8vICJvZlR5cGUiIGZsYWcgaW5kaWNhdGVzIHdoZXRo
ZXIgd2UncmUgaW5kZXhpbmcgZm9yIG50aC1vZi10eXBlCiAgICAvLyByYXRoZXIg
dGhhbiBudGgtY2hpbGQKICAgIGluZGV4OiBmdW5jdGlvbihwYXJlbnROb2RlLCBy
ZXZlcnNlLCBvZlR5cGUpIHsKICAgICAgcGFyZW50Tm9kZS5fY291bnRlZEJ5UHJv
dG90eXBlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgICAgIGlmIChyZXZl
cnNlKSB7CiAgICAgICAgZm9yICh2YXIgbm9kZXMgPSBwYXJlbnROb2RlLmNoaWxk
Tm9kZXMsIGkgPSBub2Rlcy5sZW5ndGggLSAxLCBqID0gMTsgaSA+PSAwOyBpLS0p
IHsKICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07CiAgICAgICAgICBpZiAo
bm9kZS5ub2RlVHlwZSA9PSAxICYmICghb2ZUeXBlIHx8IG5vZGUuX2NvdW50ZWRC
eVByb3RvdHlwZSkpIG5vZGUubm9kZUluZGV4ID0gaisrOwogICAgICAgIH0KICAg
ICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDEsIG5vZGVz
ID0gcGFyZW50Tm9kZS5jaGlsZE5vZGVzOyBub2RlID0gbm9kZXNbaV07IGkrKykK
ICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgKCFvZlR5cGUgfHwg
bm9kZS5fY291bnRlZEJ5UHJvdG90eXBlKSkgbm9kZS5ub2RlSW5kZXggPSBqKys7
CiAgICAgIH0KICAgIH0sCgogICAgLy8gZmlsdGVycyBvdXQgZHVwbGljYXRlcyBh
bmQgZXh0ZW5kcyBhbGwgbm9kZXMKICAgIHVuaXF1ZTogZnVuY3Rpb24obm9kZXMp
IHsKICAgICAgaWYgKG5vZGVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbm9kZXM7CiAg
ICAgIHZhciByZXN1bHRzID0gW10sIG47CiAgICAgIGZvciAodmFyIGkgPSAwLCBs
ID0gbm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKQogICAgICAgIGlmICghKG4gPSBu
b2Rlc1tpXSkuX2NvdW50ZWRCeVByb3RvdHlwZSkgewogICAgICAgICAgbi5fY291
bnRlZEJ5UHJvdG90eXBlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgICAg
ICAgICByZXN1bHRzLnB1c2goRWxlbWVudC5leHRlbmQobikpOwogICAgICAgIH0K
ICAgICAgcmV0dXJuIFNlbGVjdG9yLmhhbmRsZXJzLnVubWFyayhyZXN1bHRzKTsK
ICAgIH0sCgogICAgLy8gQ09NQklOQVRPUiBGVU5DVElPTlMKICAgIGRlc2NlbmRh
bnQ6IGZ1bmN0aW9uKG5vZGVzKSB7CiAgICAgIHZhciBoID0gU2VsZWN0b3IuaGFu
ZGxlcnM7CiAgICAgIGZvciAodmFyIGkgPSAwLCByZXN1bHRzID0gW10sIG5vZGU7
IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgIGguY29uY2F0KHJlc3VsdHMs
IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSk7CiAgICAgIHJldHVybiBy
ZXN1bHRzOwogICAgfSwKCiAgICBjaGlsZDogZnVuY3Rpb24obm9kZXMpIHsKICAg
ICAgdmFyIGggPSBTZWxlY3Rvci5oYW5kbGVyczsKICAgICAgZm9yICh2YXIgaSA9
IDAsIHJlc3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspIHsK
ICAgICAgICBmb3IgKHZhciBqID0gMCwgY2hpbGQ7IGNoaWxkID0gbm9kZS5jaGls
ZE5vZGVzW2pdOyBqKyspCiAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0g
MSAmJiBjaGlsZC50YWdOYW1lICE9ICchJykgcmVzdWx0cy5wdXNoKGNoaWxkKTsK
ICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAgYWRqYWNl
bnQ6IGZ1bmN0aW9uKG5vZGVzKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCByZXN1
bHRzID0gW10sIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKSB7CiAgICAgICAg
dmFyIG5leHQgPSB0aGlzLm5leHRFbGVtZW50U2libGluZyhub2RlKTsKICAgICAg
ICBpZiAobmV4dCkgcmVzdWx0cy5wdXNoKG5leHQpOwogICAgICB9CiAgICAgIHJl
dHVybiByZXN1bHRzOwogICAgfSwKCiAgICBsYXRlclNpYmxpbmc6IGZ1bmN0aW9u
KG5vZGVzKSB7CiAgICAgIHZhciBoID0gU2VsZWN0b3IuaGFuZGxlcnM7CiAgICAg
IGZvciAodmFyIGkgPSAwLCByZXN1bHRzID0gW10sIG5vZGU7IG5vZGUgPSBub2Rl
c1tpXTsgaSsrKQogICAgICAgIGguY29uY2F0KHJlc3VsdHMsIEVsZW1lbnQubmV4
dFNpYmxpbmdzKG5vZGUpKTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9LAoK
ICAgIG5leHRFbGVtZW50U2libGluZzogZnVuY3Rpb24obm9kZSkgewogICAgICB3
aGlsZSAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICAgICAgaWYgKG5vZGUu
bm9kZVR5cGUgPT0gMSkgcmV0dXJuIG5vZGU7CiAgICAgIHJldHVybiBudWxsOwog
ICAgfSwKCiAgICBwcmV2aW91c0VsZW1lbnRTaWJsaW5nOiBmdW5jdGlvbihub2Rl
KSB7CiAgICAgIHdoaWxlIChub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmcpCiAg
ICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkgcmV0dXJuIG5vZGU7CiAgICAg
IHJldHVybiBudWxsOwogICAgfSwKCiAgICAvLyBUT0tFTiBGVU5DVElPTlMKICAg
IHRhZ05hbWU6IGZ1bmN0aW9uKG5vZGVzLCByb290LCB0YWdOYW1lLCBjb21iaW5h
dG9yKSB7CiAgICAgIHZhciB1VGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2Uo
KTsKICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgaCA9IFNlbGVjdG9yLmhhbmRsZXJz
OwogICAgICBpZiAobm9kZXMpIHsKICAgICAgICBpZiAoY29tYmluYXRvcikgewog
ICAgICAgICAgLy8gZmFzdGxhbmUgZm9yIG9yZGluYXJ5IGRlc2NlbmRhbnQgY29t
YmluYXRvcnMKICAgICAgICAgIGlmIChjb21iaW5hdG9yID09ICJkZXNjZW5kYW50
IikgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5v
ZGVzW2ldOyBpKyspCiAgICAgICAgICAgICAgaC5jb25jYXQocmVzdWx0cywgbm9k
ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSk7CiAgICAgICAgICAgIHJl
dHVybiByZXN1bHRzOwogICAgICAgICAgfSBlbHNlIG5vZGVzID0gdGhpc1tjb21i
aW5hdG9yXShub2Rlcyk7CiAgICAgICAgICBpZiAodGFnTmFtZSA9PSAiKiIpIHJl
dHVybiBub2RlczsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5v
ZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgICAgaWYgKG5vZGUudGFn
TmFtZS50b1VwcGVyQ2FzZSgpID09PSB1VGFnTmFtZSkgcmVzdWx0cy5wdXNoKG5v
ZGUpOwogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICB9IGVsc2UgcmV0dXJu
IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSk7CiAgICB9LAoKICAg
IGlkOiBmdW5jdGlvbihub2Rlcywgcm9vdCwgaWQsIGNvbWJpbmF0b3IpIHsKICAg
ICAgdmFyIHRhcmdldE5vZGUgPSAkKGlkKSwgaCA9IFNlbGVjdG9yLmhhbmRsZXJz
OwogICAgICBpZiAoIXRhcmdldE5vZGUpIHJldHVybiBbXTsKICAgICAgaWYgKCFu
b2RlcyAmJiByb290ID09IGRvY3VtZW50KSByZXR1cm4gW3RhcmdldE5vZGVdOwog
ICAgICBpZiAobm9kZXMpIHsKICAgICAgICBpZiAoY29tYmluYXRvcikgewogICAg
ICAgICAgaWYgKGNvbWJpbmF0b3IgPT0gJ2NoaWxkJykgewogICAgICAgICAgICBm
b3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAg
ICAgICAgICAgaWYgKHRhcmdldE5vZGUucGFyZW50Tm9kZSA9PSBub2RlKSByZXR1
cm4gW3RhcmdldE5vZGVdOwogICAgICAgICAgfSBlbHNlIGlmIChjb21iaW5hdG9y
ID09ICdkZXNjZW5kYW50JykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwg
bm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgICAgICAgaWYgKEVs
ZW1lbnQuZGVzY2VuZGFudE9mKHRhcmdldE5vZGUsIG5vZGUpKSByZXR1cm4gW3Rh
cmdldE5vZGVdOwogICAgICAgICAgfSBlbHNlIGlmIChjb21iaW5hdG9yID09ICdh
ZGphY2VudCcpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5v
ZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgICAgICAgIGlmIChTZWxlY3Rvci5o
YW5kbGVycy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKHRhcmdldE5vZGUpID09IG5v
ZGUpCiAgICAgICAgICAgICAgICByZXR1cm4gW3RhcmdldE5vZGVdOwogICAgICAg
ICAgfSBlbHNlIG5vZGVzID0gaFtjb21iaW5hdG9yXShub2Rlcyk7CiAgICAgICAg
fQogICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07
IGkrKykKICAgICAgICAgIGlmIChub2RlID09IHRhcmdldE5vZGUpIHJldHVybiBb
dGFyZ2V0Tm9kZV07CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHJl
dHVybiAodGFyZ2V0Tm9kZSAmJiBFbGVtZW50LmRlc2NlbmRhbnRPZih0YXJnZXRO
b2RlLCByb290KSkgPyBbdGFyZ2V0Tm9kZV0gOiBbXTsKICAgIH0sCgogICAgY2xh
c3NOYW1lOiBmdW5jdGlvbihub2Rlcywgcm9vdCwgY2xhc3NOYW1lLCBjb21iaW5h
dG9yKSB7CiAgICAgIGlmIChub2RlcyAmJiBjb21iaW5hdG9yKSBub2RlcyA9IHRo
aXNbY29tYmluYXRvcl0obm9kZXMpOwogICAgICByZXR1cm4gU2VsZWN0b3IuaGFu
ZGxlcnMuYnlDbGFzc05hbWUobm9kZXMsIHJvb3QsIGNsYXNzTmFtZSk7CiAgICB9
LAoKICAgIGJ5Q2xhc3NOYW1lOiBmdW5jdGlvbihub2Rlcywgcm9vdCwgY2xhc3NO
YW1lKSB7CiAgICAgIGlmICghbm9kZXMpIG5vZGVzID0gU2VsZWN0b3IuaGFuZGxl
cnMuZGVzY2VuZGFudChbcm9vdF0pOwogICAgICB2YXIgbmVlZGxlID0gJyAnICsg
Y2xhc3NOYW1lICsgJyAnOwogICAgICBmb3IgKHZhciBpID0gMCwgcmVzdWx0cyA9
IFtdLCBub2RlLCBub2RlQ2xhc3NOYW1lOyBub2RlID0gbm9kZXNbaV07IGkrKykg
ewogICAgICAgIG5vZGVDbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTsKICAgICAg
ICBpZiAobm9kZUNsYXNzTmFtZS5sZW5ndGggPT0gMCkgY29udGludWU7CiAgICAg
ICAgaWYgKG5vZGVDbGFzc05hbWUgPT0gY2xhc3NOYW1lIHx8ICgnICcgKyBub2Rl
Q2xhc3NOYW1lICsgJyAnKS5pbmNsdWRlKG5lZWRsZSkpCiAgICAgICAgICByZXN1
bHRzLnB1c2gobm9kZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdHM7CiAg
ICB9LAoKICAgIGF0dHJQcmVzZW5jZTogZnVuY3Rpb24obm9kZXMsIHJvb3QsIGF0
dHIsIGNvbWJpbmF0b3IpIHsKICAgICAgaWYgKCFub2Rlcykgbm9kZXMgPSByb290
LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik7CiAgICAgIGlmIChub2RlcyAmJiBj
b21iaW5hdG9yKSBub2RlcyA9IHRoaXNbY29tYmluYXRvcl0obm9kZXMpOwogICAg
ICB2YXIgcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsg
bm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgaWYgKEVsZW1lbnQuaGFzQXR0
cmlidXRlKG5vZGUsIGF0dHIpKSByZXN1bHRzLnB1c2gobm9kZSk7CiAgICAgIHJl
dHVybiByZXN1bHRzOwogICAgfSwKCiAgICBhdHRyOiBmdW5jdGlvbihub2Rlcywg
cm9vdCwgYXR0ciwgdmFsdWUsIG9wZXJhdG9yLCBjb21iaW5hdG9yKSB7CiAgICAg
IGlmICghbm9kZXMpIG5vZGVzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgi
KiIpOwogICAgICBpZiAobm9kZXMgJiYgY29tYmluYXRvcikgbm9kZXMgPSB0aGlz
W2NvbWJpbmF0b3JdKG5vZGVzKTsKICAgICAgdmFyIGhhbmRsZXIgPSBTZWxlY3Rv
ci5vcGVyYXRvcnNbb3BlcmF0b3JdLCByZXN1bHRzID0gW107CiAgICAgIGZvciAo
dmFyIGkgPSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykgewogICAgICAg
IHZhciBub2RlVmFsdWUgPSBFbGVtZW50LnJlYWRBdHRyaWJ1dGUobm9kZSwgYXR0
cik7CiAgICAgICAgaWYgKG5vZGVWYWx1ZSA9PT0gbnVsbCkgY29udGludWU7CiAg
ICAgICAgaWYgKGhhbmRsZXIobm9kZVZhbHVlLCB2YWx1ZSkpIHJlc3VsdHMucHVz
aChub2RlKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgog
ICAgcHNldWRvOiBmdW5jdGlvbihub2RlcywgbmFtZSwgdmFsdWUsIHJvb3QsIGNv
bWJpbmF0b3IpIHsKICAgICAgaWYgKG5vZGVzICYmIGNvbWJpbmF0b3IpIG5vZGVz
ID0gdGhpc1tjb21iaW5hdG9yXShub2Rlcyk7CiAgICAgIGlmICghbm9kZXMpIG5v
ZGVzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOwogICAgICByZXR1
cm4gU2VsZWN0b3IucHNldWRvc1tuYW1lXShub2RlcywgdmFsdWUsIHJvb3QpOwog
ICAgfQogIH0sCgogIHBzZXVkb3M6IHsKICAgICdmaXJzdC1jaGlsZCc6IGZ1bmN0
aW9uKG5vZGVzLCB2YWx1ZSwgcm9vdCkgewogICAgICBmb3IgKHZhciBpID0gMCwg
cmVzdWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykgewogICAg
ICAgIGlmIChTZWxlY3Rvci5oYW5kbGVycy5wcmV2aW91c0VsZW1lbnRTaWJsaW5n
KG5vZGUpKSBjb250aW51ZTsKICAgICAgICAgIHJlc3VsdHMucHVzaChub2RlKTsK
ICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCiAgICAnbGFzdC1j
aGlsZCc6IGZ1bmN0aW9uKG5vZGVzLCB2YWx1ZSwgcm9vdCkgewogICAgICBmb3Ig
KHZhciBpID0gMCwgcmVzdWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07
IGkrKykgewogICAgICAgIGlmIChTZWxlY3Rvci5oYW5kbGVycy5uZXh0RWxlbWVu
dFNpYmxpbmcobm9kZSkpIGNvbnRpbnVlOwogICAgICAgICAgcmVzdWx0cy5wdXNo
KG5vZGUpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKICAg
ICdvbmx5LWNoaWxkJzogZnVuY3Rpb24obm9kZXMsIHZhbHVlLCByb290KSB7CiAg
ICAgIHZhciBoID0gU2VsZWN0b3IuaGFuZGxlcnM7CiAgICAgIGZvciAodmFyIGkg
PSAwLCByZXN1bHRzID0gW10sIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQog
ICAgICAgIGlmICghaC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKG5vZGUpICYmICFo
Lm5leHRFbGVtZW50U2libGluZyhub2RlKSkKICAgICAgICAgIHJlc3VsdHMucHVz
aChub2RlKTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9LAogICAgJ250aC1j
aGlsZCc6ICAgICAgICBmdW5jdGlvbihub2RlcywgZm9ybXVsYSwgcm9vdCkgewog
ICAgICByZXR1cm4gU2VsZWN0b3IucHNldWRvcy5udGgobm9kZXMsIGZvcm11bGEs
IHJvb3QpOwogICAgfSwKICAgICdudGgtbGFzdC1jaGlsZCc6ICAgZnVuY3Rpb24o
bm9kZXMsIGZvcm11bGEsIHJvb3QpIHsKICAgICAgcmV0dXJuIFNlbGVjdG9yLnBz
ZXVkb3MubnRoKG5vZGVzLCBmb3JtdWxhLCByb290LCB0cnVlKTsKICAgIH0sCiAg
ICAnbnRoLW9mLXR5cGUnOiAgICAgIGZ1bmN0aW9uKG5vZGVzLCBmb3JtdWxhLCBy
b290KSB7CiAgICAgIHJldHVybiBTZWxlY3Rvci5wc2V1ZG9zLm50aChub2Rlcywg
Zm9ybXVsYSwgcm9vdCwgZmFsc2UsIHRydWUpOwogICAgfSwKICAgICdudGgtbGFz
dC1vZi10eXBlJzogZnVuY3Rpb24obm9kZXMsIGZvcm11bGEsIHJvb3QpIHsKICAg
ICAgcmV0dXJuIFNlbGVjdG9yLnBzZXVkb3MubnRoKG5vZGVzLCBmb3JtdWxhLCBy
b290LCB0cnVlLCB0cnVlKTsKICAgIH0sCiAgICAnZmlyc3Qtb2YtdHlwZSc6ICAg
IGZ1bmN0aW9uKG5vZGVzLCBmb3JtdWxhLCByb290KSB7CiAgICAgIHJldHVybiBT
ZWxlY3Rvci5wc2V1ZG9zLm50aChub2RlcywgIjEiLCByb290LCBmYWxzZSwgdHJ1
ZSk7CiAgICB9LAogICAgJ2xhc3Qtb2YtdHlwZSc6ICAgICBmdW5jdGlvbihub2Rl
cywgZm9ybXVsYSwgcm9vdCkgewogICAgICByZXR1cm4gU2VsZWN0b3IucHNldWRv
cy5udGgobm9kZXMsICIxIiwgcm9vdCwgdHJ1ZSwgdHJ1ZSk7CiAgICB9LAogICAg
J29ubHktb2YtdHlwZSc6ICAgICBmdW5jdGlvbihub2RlcywgZm9ybXVsYSwgcm9v
dCkgewogICAgICB2YXIgcCA9IFNlbGVjdG9yLnBzZXVkb3M7CiAgICAgIHJldHVy
biBwWydsYXN0LW9mLXR5cGUnXShwWydmaXJzdC1vZi10eXBlJ10obm9kZXMsIGZv
cm11bGEsIHJvb3QpLCBmb3JtdWxhLCByb290KTsKICAgIH0sCgogICAgLy8gaGFu
ZGxlcyB0aGUgYW4rYiBsb2dpYwogICAgZ2V0SW5kaWNlczogZnVuY3Rpb24oYSwg
YiwgdG90YWwpIHsKICAgICAgaWYgKGEgPT0gMCkgcmV0dXJuIGIgPiAwID8gW2Jd
IDogW107CiAgICAgIHJldHVybiAkUigxLCB0b3RhbCkuaW5qZWN0KFtdLCBmdW5j
dGlvbihtZW1vLCBpKSB7CiAgICAgICAgaWYgKDAgPT0gKGkgLSBiKSAlIGEgJiYg
KGkgLSBiKSAvIGEgPj0gMCkgbWVtby5wdXNoKGkpOwogICAgICAgIHJldHVybiBt
ZW1vOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gaGFuZGxlcyBudGgoLWxhc3Qp
LWNoaWxkLCBudGgoLWxhc3QpLW9mLXR5cGUsIGFuZCAoZmlyc3R8bGFzdCktb2Yt
dHlwZQogICAgbnRoOiBmdW5jdGlvbihub2RlcywgZm9ybXVsYSwgcm9vdCwgcmV2
ZXJzZSwgb2ZUeXBlKSB7CiAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMCkgcmV0
dXJuIFtdOwogICAgICBpZiAoZm9ybXVsYSA9PSAnZXZlbicpIGZvcm11bGEgPSAn
Mm4rMCc7CiAgICAgIGlmIChmb3JtdWxhID09ICdvZGQnKSAgZm9ybXVsYSA9ICcy
bisxJzsKICAgICAgdmFyIGggPSBTZWxlY3Rvci5oYW5kbGVycywgcmVzdWx0cyA9
IFtdLCBpbmRleGVkID0gW10sIG07CiAgICAgIGgubWFyayhub2Rlcyk7CiAgICAg
IGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykgewog
ICAgICAgIGlmICghbm9kZS5wYXJlbnROb2RlLl9jb3VudGVkQnlQcm90b3R5cGUp
IHsKICAgICAgICAgIGguaW5kZXgobm9kZS5wYXJlbnROb2RlLCByZXZlcnNlLCBv
ZlR5cGUpOwogICAgICAgICAgaW5kZXhlZC5wdXNoKG5vZGUucGFyZW50Tm9kZSk7
CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChmb3JtdWxhLm1hdGNoKC9eXGQr
JC8pKSB7IC8vIGp1c3QgYSBudW1iZXIKICAgICAgICBmb3JtdWxhID0gTnVtYmVy
KGZvcm11bGEpOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0g
bm9kZXNbaV07IGkrKykKICAgICAgICAgIGlmIChub2RlLm5vZGVJbmRleCA9PSBm
b3JtdWxhKSByZXN1bHRzLnB1c2gobm9kZSk7CiAgICAgIH0gZWxzZSBpZiAobSA9
IGZvcm11bGEubWF0Y2goL14oLT9cZCopP24oKFsrLV0pKFxkKykpPy8pKSB7IC8v
IGFuK2IKICAgICAgICBpZiAobVsxXSA9PSAiLSIpIG1bMV0gPSAtMTsKICAgICAg
ICB2YXIgYSA9IG1bMV0gPyBOdW1iZXIobVsxXSkgOiAxOwogICAgICAgIHZhciBi
ID0gbVsyXSA/IE51bWJlcihtWzJdKSA6IDA7CiAgICAgICAgdmFyIGluZGljZXMg
PSBTZWxlY3Rvci5wc2V1ZG9zLmdldEluZGljZXMoYSwgYiwgbm9kZXMubGVuZ3Ro
KTsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZSwgbCA9IGluZGljZXMubGVu
Z3RoOyBub2RlID0gbm9kZXNbaV07IGkrKykgewogICAgICAgICAgZm9yICh2YXIg
aiA9IDA7IGogPCBsOyBqKyspCiAgICAgICAgICAgIGlmIChub2RlLm5vZGVJbmRl
eCA9PSBpbmRpY2VzW2pdKSByZXN1bHRzLnB1c2gobm9kZSk7CiAgICAgICAgfQog
ICAgICB9CiAgICAgIGgudW5tYXJrKG5vZGVzKTsKICAgICAgaC51bm1hcmsoaW5k
ZXhlZCk7CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICAnZW1wdHkn
OiBmdW5jdGlvbihub2RlcywgdmFsdWUsIHJvb3QpIHsKICAgICAgZm9yICh2YXIg
aSA9IDAsIHJlc3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKysp
IHsKICAgICAgICAvLyBJRSB0cmVhdHMgY29tbWVudHMgYXMgZWxlbWVudCBub2Rl
cwogICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT0gJyEnIHx8IG5vZGUuZmlyc3RD
aGlsZCkgY29udGludWU7CiAgICAgICAgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAg
ICB9CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICAnbm90JzogZnVu
Y3Rpb24obm9kZXMsIHNlbGVjdG9yLCByb290KSB7CiAgICAgIHZhciBoID0gU2Vs
ZWN0b3IuaGFuZGxlcnMsIHNlbGVjdG9yVHlwZSwgbTsKICAgICAgdmFyIGV4Y2x1
c2lvbnMgPSBuZXcgU2VsZWN0b3Ioc2VsZWN0b3IpLmZpbmRFbGVtZW50cyhyb290
KTsKICAgICAgaC5tYXJrKGV4Y2x1c2lvbnMpOwogICAgICBmb3IgKHZhciBpID0g
MCwgcmVzdWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAg
ICAgICBpZiAoIW5vZGUuX2NvdW50ZWRCeVByb3RvdHlwZSkgcmVzdWx0cy5wdXNo
KG5vZGUpOwogICAgICBoLnVubWFyayhleGNsdXNpb25zKTsKICAgICAgcmV0dXJu
IHJlc3VsdHM7CiAgICB9LAoKICAgICdlbmFibGVkJzogZnVuY3Rpb24obm9kZXMs
IHZhbHVlLCByb290KSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCByZXN1bHRzID0g
W10sIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgIGlmICghbm9k
ZS5kaXNhYmxlZCAmJiAoIW5vZGUudHlwZSB8fCBub2RlLnR5cGUgIT09ICdoaWRk
ZW4nKSkKICAgICAgICAgIHJlc3VsdHMucHVzaChub2RlKTsKICAgICAgcmV0dXJu
IHJlc3VsdHM7CiAgICB9LAoKICAgICdkaXNhYmxlZCc6IGZ1bmN0aW9uKG5vZGVz
LCB2YWx1ZSwgcm9vdCkgewogICAgICBmb3IgKHZhciBpID0gMCwgcmVzdWx0cyA9
IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICBpZiAobm9k
ZS5kaXNhYmxlZCkgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAgICByZXR1cm4gcmVz
dWx0czsKICAgIH0sCgogICAgJ2NoZWNrZWQnOiBmdW5jdGlvbihub2RlcywgdmFs
dWUsIHJvb3QpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIHJlc3VsdHMgPSBbXSwg
bm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgaWYgKG5vZGUuY2hl
Y2tlZCkgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAgICByZXR1cm4gcmVzdWx0czsK
ICAgIH0KICB9LAoKICBvcGVyYXRvcnM6IHsKICAgICc9JzogIGZ1bmN0aW9uKG52
LCB2KSB7IHJldHVybiBudiA9PSB2OyB9LAogICAgJyE9JzogZnVuY3Rpb24obnYs
IHYpIHsgcmV0dXJuIG52ICE9IHY7IH0sCiAgICAnXj0nOiBmdW5jdGlvbihudiwg
dikgeyByZXR1cm4gbnYgPT0gdiB8fCBudiAmJiBudi5zdGFydHNXaXRoKHYpOyB9
LAogICAgJyQ9JzogZnVuY3Rpb24obnYsIHYpIHsgcmV0dXJuIG52ID09IHYgfHwg
bnYgJiYgbnYuZW5kc1dpdGgodik7IH0sCiAgICAnKj0nOiBmdW5jdGlvbihudiwg
dikgeyByZXR1cm4gbnYgPT0gdiB8fCBudiAmJiBudi5pbmNsdWRlKHYpOyB9LAog
ICAgJyQ9JzogZnVuY3Rpb24obnYsIHYpIHsgcmV0dXJuIG52LmVuZHNXaXRoKHYp
OyB9LAogICAgJyo9JzogZnVuY3Rpb24obnYsIHYpIHsgcmV0dXJuIG52LmluY2x1
ZGUodik7IH0sCiAgICAnfj0nOiBmdW5jdGlvbihudiwgdikgeyByZXR1cm4gKCcg
JyArIG52ICsgJyAnKS5pbmNsdWRlKCcgJyArIHYgKyAnICcpOyB9LAogICAgJ3w9
JzogZnVuY3Rpb24obnYsIHYpIHsgcmV0dXJuICgnLScgKyAobnYgfHwgIiIpLnRv
VXBwZXJDYXNlKCkgKwogICAgICctJykuaW5jbHVkZSgnLScgKyAodiB8fCAiIiku
dG9VcHBlckNhc2UoKSArICctJyk7IH0KICB9LAoKICBzcGxpdDogZnVuY3Rpb24o
ZXhwcmVzc2lvbikgewogICAgdmFyIGV4cHJlc3Npb25zID0gW107CiAgICBleHBy
ZXNzaW9uLnNjYW4oLygoW1x3Izoufj4rKClccy1dK3xcKnxcWy4qP1xdKSspXHMq
KCx8JCkvLCBmdW5jdGlvbihtKSB7CiAgICAgIGV4cHJlc3Npb25zLnB1c2gobVsx
XS5zdHJpcCgpKTsKICAgIH0pOwogICAgcmV0dXJuIGV4cHJlc3Npb25zOwogIH0s
CgogIG1hdGNoRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBleHByZXNzaW9u
KSB7CiAgICB2YXIgbWF0Y2hlcyA9ICQkKGV4cHJlc3Npb24pLCBoID0gU2VsZWN0
b3IuaGFuZGxlcnM7CiAgICBoLm1hcmsobWF0Y2hlcyk7CiAgICBmb3IgKHZhciBp
ID0gMCwgcmVzdWx0cyA9IFtdLCBlbGVtZW50OyBlbGVtZW50ID0gZWxlbWVudHNb
aV07IGkrKykKICAgICAgaWYgKGVsZW1lbnQuX2NvdW50ZWRCeVByb3RvdHlwZSkg
cmVzdWx0cy5wdXNoKGVsZW1lbnQpOwogICAgaC51bm1hcmsobWF0Y2hlcyk7CiAg
ICByZXR1cm4gcmVzdWx0czsKICB9LAoKICBmaW5kRWxlbWVudDogZnVuY3Rpb24o
ZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpZiAoT2JqZWN0Lmlz
TnVtYmVyKGV4cHJlc3Npb24pKSB7CiAgICAgIGluZGV4ID0gZXhwcmVzc2lvbjsg
ZXhwcmVzc2lvbiA9IGZhbHNlOwogICAgfQogICAgcmV0dXJuIFNlbGVjdG9yLm1h
dGNoRWxlbWVudHMoZWxlbWVudHMsIGV4cHJlc3Npb24gfHwgJyonKVtpbmRleCB8
fCAwXTsKICB9LAoKICBmaW5kQ2hpbGRFbGVtZW50czogZnVuY3Rpb24oZWxlbWVu
dCwgZXhwcmVzc2lvbnMpIHsKICAgIGV4cHJlc3Npb25zID0gU2VsZWN0b3Iuc3Bs
aXQoZXhwcmVzc2lvbnMuam9pbignLCcpKTsKICAgIHZhciByZXN1bHRzID0gW10s
IGggPSBTZWxlY3Rvci5oYW5kbGVyczsKICAgIGZvciAodmFyIGkgPSAwLCBsID0g
ZXhwcmVzc2lvbnMubGVuZ3RoLCBzZWxlY3RvcjsgaSA8IGw7IGkrKykgewogICAg
ICBzZWxlY3RvciA9IG5ldyBTZWxlY3RvcihleHByZXNzaW9uc1tpXS5zdHJpcCgp
KTsKICAgICAgaC5jb25jYXQocmVzdWx0cywgc2VsZWN0b3IuZmluZEVsZW1lbnRz
KGVsZW1lbnQpKTsKICAgIH0KICAgIHJldHVybiAobCA+IDEpID8gaC51bmlxdWUo
cmVzdWx0cykgOiByZXN1bHRzOwogIH0KfSk7CgppZiAoUHJvdG90eXBlLkJyb3dz
ZXIuSUUpIHsKICBPYmplY3QuZXh0ZW5kKFNlbGVjdG9yLmhhbmRsZXJzLCB7CiAg
ICAvLyBJRSByZXR1cm5zIGNvbW1lbnQgbm9kZXMgb24gZ2V0RWxlbWVudHNCeVRh
Z05hbWUoIioiKS4KICAgIC8vIEZpbHRlciB0aGVtIG91dC4KICAgIGNvbmNhdDog
ZnVuY3Rpb24oYSwgYikgewogICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9k
ZSA9IGJbaV07IGkrKykKICAgICAgICBpZiAobm9kZS50YWdOYW1lICE9PSAiISIp
IGEucHVzaChub2RlKTsKICAgICAgcmV0dXJuIGE7CiAgICB9LAoKICAgIC8vIElF
IGltcHJvcGVybHkgc2VyaWFsaXplcyBfY291bnRlZEJ5UHJvdG90eXBlIGluIChp
bm5lcnxvdXRlcilIVE1MLgogICAgdW5tYXJrOiBmdW5jdGlvbihub2Rlcykgewog
ICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKysp
CiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ19jb3VudGVkQnlQcm90b3R5
cGUnKTsKICAgICAgcmV0dXJuIG5vZGVzOwogICAgfQogIH0pOwp9CgpmdW5jdGlv
biAkJCgpIHsKICByZXR1cm4gU2VsZWN0b3IuZmluZENoaWxkRWxlbWVudHMoZG9j
dW1lbnQsICRBKGFyZ3VtZW50cykpOwp9CnZhciBGb3JtID0gewogIHJlc2V0OiBm
dW5jdGlvbihmb3JtKSB7CiAgICAkKGZvcm0pLnJlc2V0KCk7CiAgICByZXR1cm4g
Zm9ybTsKICB9LAoKICBzZXJpYWxpemVFbGVtZW50czogZnVuY3Rpb24oZWxlbWVu
dHMsIG9wdGlvbnMpIHsKICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPSAnb2JqZWN0
Jykgb3B0aW9ucyA9IHsgaGFzaDogISFvcHRpb25zIH07CiAgICBlbHNlIGlmIChP
YmplY3QuaXNVbmRlZmluZWQob3B0aW9ucy5oYXNoKSkgb3B0aW9ucy5oYXNoID0g
dHJ1ZTsKICAgIHZhciBrZXksIHZhbHVlLCBzdWJtaXR0ZWQgPSBmYWxzZSwgc3Vi
bWl0ID0gb3B0aW9ucy5zdWJtaXQ7CgogICAgdmFyIGRhdGEgPSBlbGVtZW50cy5p
bmplY3QoeyB9LCBmdW5jdGlvbihyZXN1bHQsIGVsZW1lbnQpIHsKICAgICAgaWYg
KCFlbGVtZW50LmRpc2FibGVkICYmIGVsZW1lbnQubmFtZSkgewogICAgICAgIGtl
eSA9IGVsZW1lbnQubmFtZTsgdmFsdWUgPSAkKGVsZW1lbnQpLmdldFZhbHVlKCk7
CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgZWxlbWVudC50eXBlICE9ICdm
aWxlJyAmJiAoZWxlbWVudC50eXBlICE9ICdzdWJtaXQnIHx8ICghc3VibWl0dGVk
ICYmCiAgICAgICAgICAgIHN1Ym1pdCAhPT0gZmFsc2UgJiYgKCFzdWJtaXQgfHwg
a2V5ID09IHN1Ym1pdCkgJiYgKHN1Ym1pdHRlZCA9IHRydWUpKSkpIHsKICAgICAg
ICAgIGlmIChrZXkgaW4gcmVzdWx0KSB7CiAgICAgICAgICAgIC8vIGEga2V5IGlz
IGFscmVhZHkgcHJlc2VudDsgY29uc3RydWN0IGFuIGFycmF5IG9mIHZhbHVlcwog
ICAgICAgICAgICBpZiAoIU9iamVjdC5pc0FycmF5KHJlc3VsdFtrZXldKSkgcmVz
dWx0W2tleV0gPSBbcmVzdWx0W2tleV1dOwogICAgICAgICAgICByZXN1bHRba2V5
XS5wdXNoKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgcmVzdWx0
W2tleV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJl
c3VsdDsKICAgIH0pOwoKICAgIHJldHVybiBvcHRpb25zLmhhc2ggPyBkYXRhIDog
T2JqZWN0LnRvUXVlcnlTdHJpbmcoZGF0YSk7CiAgfQp9OwoKRm9ybS5NZXRob2Rz
ID0gewogIHNlcmlhbGl6ZTogZnVuY3Rpb24oZm9ybSwgb3B0aW9ucykgewogICAg
cmV0dXJuIEZvcm0uc2VyaWFsaXplRWxlbWVudHMoRm9ybS5nZXRFbGVtZW50cyhm
b3JtKSwgb3B0aW9ucyk7CiAgfSwKCiAgZ2V0RWxlbWVudHM6IGZ1bmN0aW9uKGZv
cm0pIHsKICAgIHJldHVybiAkQSgkKGZvcm0pLmdldEVsZW1lbnRzQnlUYWdOYW1l
KCcqJykpLmluamVjdChbXSwKICAgICAgZnVuY3Rpb24oZWxlbWVudHMsIGNoaWxk
KSB7CiAgICAgICAgaWYgKEZvcm0uRWxlbWVudC5TZXJpYWxpemVyc1tjaGlsZC50
YWdOYW1lLnRvTG93ZXJDYXNlKCldKQogICAgICAgICAgZWxlbWVudHMucHVzaChF
bGVtZW50LmV4dGVuZChjaGlsZCkpOwogICAgICAgIHJldHVybiBlbGVtZW50czsK
ICAgICAgfQogICAgKTsKICB9LAoKICBnZXRJbnB1dHM6IGZ1bmN0aW9uKGZvcm0s
IHR5cGVOYW1lLCBuYW1lKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIHZhciBp
bnB1dHMgPSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpOwoKICAg
IGlmICghdHlwZU5hbWUgJiYgIW5hbWUpIHJldHVybiAkQShpbnB1dHMpLm1hcChF
bGVtZW50LmV4dGVuZCk7CgogICAgZm9yICh2YXIgaSA9IDAsIG1hdGNoaW5nSW5w
dXRzID0gW10sIGxlbmd0aCA9IGlucHV0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkr
KykgewogICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07CiAgICAgIGlmICgodHlw
ZU5hbWUgJiYgaW5wdXQudHlwZSAhPSB0eXBlTmFtZSkgfHwgKG5hbWUgJiYgaW5w
dXQubmFtZSAhPSBuYW1lKSkKICAgICAgICBjb250aW51ZTsKICAgICAgbWF0Y2hp
bmdJbnB1dHMucHVzaChFbGVtZW50LmV4dGVuZChpbnB1dCkpOwogICAgfQoKICAg
IHJldHVybiBtYXRjaGluZ0lucHV0czsKICB9LAoKICBkaXNhYmxlOiBmdW5jdGlv
bihmb3JtKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIEZvcm0uZ2V0RWxlbWVu
dHMoZm9ybSkuaW52b2tlKCdkaXNhYmxlJyk7CiAgICByZXR1cm4gZm9ybTsKICB9
LAoKICBlbmFibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0p
OwogICAgRm9ybS5nZXRFbGVtZW50cyhmb3JtKS5pbnZva2UoJ2VuYWJsZScpOwog
ICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgZmluZEZpcnN0RWxlbWVudDogZnVuY3Rp
b24oZm9ybSkgewogICAgdmFyIGVsZW1lbnRzID0gJChmb3JtKS5nZXRFbGVtZW50
cygpLmZpbmRBbGwoZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gJ2hp
ZGRlbicgIT0gZWxlbWVudC50eXBlICYmICFlbGVtZW50LmRpc2FibGVkOwogICAg
fSk7CiAgICB2YXIgZmlyc3RCeUluZGV4ID0gZWxlbWVudHMuZmluZEFsbChmdW5j
dGlvbihlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0
ZSgndGFiSW5kZXgnKSAmJiBlbGVtZW50LnRhYkluZGV4ID49IDA7CiAgICB9KS5z
b3J0QnkoZnVuY3Rpb24oZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC50YWJJbmRl
eCB9KS5maXJzdCgpOwoKICAgIHJldHVybiBmaXJzdEJ5SW5kZXggPyBmaXJzdEJ5
SW5kZXggOiBlbGVtZW50cy5maW5kKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAg
cmV0dXJuIFsnaW5wdXQnLCAnc2VsZWN0JywgJ3RleHRhcmVhJ10uaW5jbHVkZShl
bGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7CiAgICB9KTsKICB9LAoKICBm
b2N1c0ZpcnN0RWxlbWVudDogZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQo
Zm9ybSk7CiAgICBmb3JtLmZpbmRGaXJzdEVsZW1lbnQoKS5hY3RpdmF0ZSgpOwog
ICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24oZm9ybSwg
b3B0aW9ucykgewogICAgZm9ybSA9ICQoZm9ybSksIG9wdGlvbnMgPSBPYmplY3Qu
Y2xvbmUob3B0aW9ucyB8fCB7IH0pOwoKICAgIHZhciBwYXJhbXMgPSBvcHRpb25z
LnBhcmFtZXRlcnMsIGFjdGlvbiA9IGZvcm0ucmVhZEF0dHJpYnV0ZSgnYWN0aW9u
JykgfHwgJyc7CiAgICBpZiAoYWN0aW9uLmJsYW5rKCkpIGFjdGlvbiA9IHdpbmRv
dy5sb2NhdGlvbi5ocmVmOwogICAgb3B0aW9ucy5wYXJhbWV0ZXJzID0gZm9ybS5z
ZXJpYWxpemUodHJ1ZSk7CgogICAgaWYgKHBhcmFtcykgewogICAgICBpZiAoT2Jq
ZWN0LmlzU3RyaW5nKHBhcmFtcykpIHBhcmFtcyA9IHBhcmFtcy50b1F1ZXJ5UGFy
YW1zKCk7CiAgICAgIE9iamVjdC5leHRlbmQob3B0aW9ucy5wYXJhbWV0ZXJzLCBw
YXJhbXMpOwogICAgfQoKICAgIGlmIChmb3JtLmhhc0F0dHJpYnV0ZSgnbWV0aG9k
JykgJiYgIW9wdGlvbnMubWV0aG9kKQogICAgICBvcHRpb25zLm1ldGhvZCA9IGZv
cm0ubWV0aG9kOwoKICAgIHJldHVybiBuZXcgQWpheC5SZXF1ZXN0KGFjdGlvbiwg
b3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSov
CgpGb3JtLkVsZW1lbnQgPSB7CiAgZm9jdXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgICQoZWxlbWVudCkuZm9jdXMoKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0s
CgogIHNlbGVjdDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS5z
ZWxlY3QoKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KfTsKCkZvcm0uRWxlbWVu
dC5NZXRob2RzID0gewogIHNlcmlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1lbnQuZGlzYWJs
ZWQgJiYgZWxlbWVudC5uYW1lKSB7CiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQu
Z2V0VmFsdWUoKTsKICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgewogICAg
ICAgIHZhciBwYWlyID0geyB9OwogICAgICAgIHBhaXJbZWxlbWVudC5uYW1lXSA9
IHZhbHVlOwogICAgICAgIHJldHVybiBPYmplY3QudG9RdWVyeVN0cmluZyhwYWly
KTsKICAgICAgfQogICAgfQogICAgcmV0dXJuICcnOwogIH0sCgogIGdldFZhbHVl
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIHZhciBtZXRob2QgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsK
ICAgIHJldHVybiBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0aG9kXShlbGVt
ZW50KTsKICB9LAoKICBzZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUp
IHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG1ldGhvZCA9IGVs
ZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgRm9ybS5FbGVtZW50LlNl
cmlhbGl6ZXJzW21ldGhvZF0oZWxlbWVudCwgdmFsdWUpOwogICAgcmV0dXJuIGVs
ZW1lbnQ7CiAgfSwKCiAgY2xlYXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQo
ZWxlbWVudCkudmFsdWUgPSAnJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgog
IHByZXNlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1l
bnQpLnZhbHVlICE9ICcnOwogIH0sCgogIGFjdGl2YXRlOiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHRyeSB7CiAgICAg
IGVsZW1lbnQuZm9jdXMoKTsKICAgICAgaWYgKGVsZW1lbnQuc2VsZWN0ICYmIChl
bGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAnaW5wdXQnIHx8CiAgICAg
ICAgICAhWydidXR0b24nLCAncmVzZXQnLCAnc3VibWl0J10uaW5jbHVkZShlbGVt
ZW50LnR5cGUpKSkKICAgICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgfSBjYXRj
aCAoZSkgeyB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBkaXNhYmxlOiBm
dW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAg
IGVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAg
fSwKCiAgZW5hYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0g
JChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0qLwoKdmFyIEZpZWxkID0gRm9ybS5FbGVtZW50Owp2YXIgJEYgPSBGb3JtLkVs
ZW1lbnQuTWV0aG9kcy5nZXRWYWx1ZTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0qLwoKRm9ybS5FbGVtZW50LlNlcmlhbGl6ZXJzID0gewogIGlucHV0OiBm
dW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgc3dpdGNoIChlbGVtZW50LnR5
cGUudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdjaGVja2JveCc6CiAgICAg
IGNhc2UgJ3JhZGlvJzoKICAgICAgICByZXR1cm4gRm9ybS5FbGVtZW50LlNlcmlh
bGl6ZXJzLmlucHV0U2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpOwogICAgICBkZWZh
dWx0OgogICAgICAgIHJldHVybiBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnMudGV4
dGFyZWEoZWxlbWVudCwgdmFsdWUpOwogICAgfQogIH0sCgogIGlucHV0U2VsZWN0
b3I6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0Lmlz
VW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGVsZW1lbnQuY2hlY2tlZCA/IGVsZW1l
bnQudmFsdWUgOiBudWxsOwogICAgZWxzZSBlbGVtZW50LmNoZWNrZWQgPSAhIXZh
bHVlOwogIH0sCgogIHRleHRhcmVhOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkg
ewogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybiBlbGVt
ZW50LnZhbHVlOwogICAgZWxzZSBlbGVtZW50LnZhbHVlID0gdmFsdWU7CiAgfSwK
CiAgc2VsZWN0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKE9i
amVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICAgIHJldHVybiB0aGlzW2VsZW1l
bnQudHlwZSA9PSAnc2VsZWN0LW9uZScgPwogICAgICAgICdzZWxlY3RPbmUnIDog
J3NlbGVjdE1hbnknXShlbGVtZW50KTsKICAgIGVsc2UgewogICAgICB2YXIgb3B0
LCBjdXJyZW50VmFsdWUsIHNpbmdsZSA9ICFPYmplY3QuaXNBcnJheSh2YWx1ZSk7
CiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50Lmxlbmd0aDsg
aSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgb3B0ID0gZWxlbWVudC5vcHRpb25z
W2ldOwogICAgICAgIGN1cnJlbnRWYWx1ZSA9IHRoaXMub3B0aW9uVmFsdWUob3B0
KTsKICAgICAgICBpZiAoc2luZ2xlKSB7CiAgICAgICAgICBpZiAoY3VycmVudFZh
bHVlID09IHZhbHVlKSB7CiAgICAgICAgICAgIG9wdC5zZWxlY3RlZCA9IHRydWU7
CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAg
ICAgZWxzZSBvcHQuc2VsZWN0ZWQgPSB2YWx1ZS5pbmNsdWRlKGN1cnJlbnRWYWx1
ZSk7CiAgICAgIH0KICAgIH0KICB9LAoKICBzZWxlY3RPbmU6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIHZhciBpbmRleCA9IGVsZW1lbnQuc2VsZWN0ZWRJbmRleDsK
ICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5vcHRpb25WYWx1ZShlbGVtZW50
Lm9wdGlvbnNbaW5kZXhdKSA6IG51bGw7CiAgfSwKCiAgc2VsZWN0TWFueTogZnVu
Y3Rpb24oZWxlbWVudCkgewogICAgdmFyIHZhbHVlcywgbGVuZ3RoID0gZWxlbWVu
dC5sZW5ndGg7CiAgICBpZiAoIWxlbmd0aCkgcmV0dXJuIG51bGw7CgogICAgZm9y
ICh2YXIgaSA9IDAsIHZhbHVlcyA9IFtdOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAg
ICAgdmFyIG9wdCA9IGVsZW1lbnQub3B0aW9uc1tpXTsKICAgICAgaWYgKG9wdC5z
ZWxlY3RlZCkgdmFsdWVzLnB1c2godGhpcy5vcHRpb25WYWx1ZShvcHQpKTsKICAg
IH0KICAgIHJldHVybiB2YWx1ZXM7CiAgfSwKCiAgb3B0aW9uVmFsdWU6IGZ1bmN0
aW9uKG9wdCkgewogICAgLy8gZXh0ZW5kIGVsZW1lbnQgYmVjYXVzZSBoYXNBdHRy
aWJ1dGUgbWF5IG5vdCBiZSBuYXRpdmUKICAgIHJldHVybiBFbGVtZW50LmV4dGVu
ZChvcHQpLmhhc0F0dHJpYnV0ZSgndmFsdWUnKSA/IG9wdC52YWx1ZSA6IG9wdC50
ZXh0OwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQWJz
dHJhY3QuVGltZWRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZShQZXJpb2RpY2FsRXhl
Y3V0ZXIsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGVsZW1lbnQs
IGZyZXF1ZW5jeSwgY2FsbGJhY2spIHsKICAgICRzdXBlcihjYWxsYmFjaywgZnJl
cXVlbmN5KTsKICAgIHRoaXMuZWxlbWVudCAgID0gJChlbGVtZW50KTsKICAgIHRo
aXMubGFzdFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogIH0sCgogIGV4ZWN1dGU6
IGZ1bmN0aW9uKCkgewogICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwog
ICAgaWYgKE9iamVjdC5pc1N0cmluZyh0aGlzLmxhc3RWYWx1ZSkgJiYgT2JqZWN0
LmlzU3RyaW5nKHZhbHVlKSA/CiAgICAgICAgdGhpcy5sYXN0VmFsdWUgIT0gdmFs
dWUgOiBTdHJpbmcodGhpcy5sYXN0VmFsdWUpICE9IFN0cmluZyh2YWx1ZSkpIHsK
ICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmVsZW1lbnQsIHZhbHVlKTsKICAgICAg
dGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTsKICAgIH0KICB9Cn0pOwoKRm9ybS5FbGVt
ZW50Lk9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKEFic3RyYWN0LlRpbWVkT2JzZXJ2
ZXIsIHsKICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5F
bGVtZW50LmdldFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uT2Jz
ZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuVGltZWRPYnNlcnZlciwgewog
IGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6
ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tKi8KCkFic3RyYWN0LkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUo
ewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAg
ICB0aGlzLmVsZW1lbnQgID0gJChlbGVtZW50KTsKICAgIHRoaXMuY2FsbGJhY2sg
PSBjYWxsYmFjazsKCiAgICB0aGlzLmxhc3RWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUo
KTsKICAgIGlmICh0aGlzLmVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09
ICdmb3JtJykKICAgICAgdGhpcy5yZWdpc3RlckZvcm1DYWxsYmFja3MoKTsKICAg
IGVsc2UKICAgICAgdGhpcy5yZWdpc3RlckNhbGxiYWNrKHRoaXMuZWxlbWVudCk7
CiAgfSwKCiAgb25FbGVtZW50RXZlbnQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIHZh
bHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogICAgaWYgKHRoaXMubGFzdFZhbHVlICE9
IHZhbHVlKSB7CiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5lbGVtZW50LCB2YWx1
ZSk7CiAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7CiAgICB9CiAgfSwKCiAg
cmVnaXN0ZXJGb3JtQ2FsbGJhY2tzOiBmdW5jdGlvbigpIHsKICAgIEZvcm0uZ2V0
RWxlbWVudHModGhpcy5lbGVtZW50KS5lYWNoKHRoaXMucmVnaXN0ZXJDYWxsYmFj
aywgdGhpcyk7CiAgfSwKCiAgcmVnaXN0ZXJDYWxsYmFjazogZnVuY3Rpb24oZWxl
bWVudCkgewogICAgaWYgKGVsZW1lbnQudHlwZSkgewogICAgICBzd2l0Y2ggKGVs
ZW1lbnQudHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgY2FzZSAnY2hlY2ti
b3gnOgogICAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICAgIEV2ZW50Lm9ic2Vy
dmUoZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5vbkVsZW1lbnRFdmVudC5iaW5kKHRo
aXMpKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAg
ICBFdmVudC5vYnNlcnZlKGVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLm9uRWxlbWVu
dEV2ZW50LmJpbmQodGhpcykpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAg
IH0KICB9Cn0pOwoKRm9ybS5FbGVtZW50LkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5j
cmVhdGUoQWJzdHJhY3QuRXZlbnRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5j
dGlvbigpIHsKICAgIHJldHVybiBGb3JtLkVsZW1lbnQuZ2V0VmFsdWUodGhpcy5l
bGVtZW50KTsKICB9Cn0pOwoKRm9ybS5FdmVudE9ic2VydmVyID0gQ2xhc3MuY3Jl
YXRlKEFic3RyYWN0LkV2ZW50T2JzZXJ2ZXIsIHsKICBnZXRWYWx1ZTogZnVuY3Rp
b24oKSB7CiAgICByZXR1cm4gRm9ybS5zZXJpYWxpemUodGhpcy5lbGVtZW50KTsK
ICB9Cn0pOwppZiAoIXdpbmRvdy5FdmVudCkgdmFyIEV2ZW50ID0geyB9OwoKT2Jq
ZWN0LmV4dGVuZChFdmVudCwgewogIEtFWV9CQUNLU1BBQ0U6IDgsCiAgS0VZX1RB
QjogICAgICAgOSwKICBLRVlfUkVUVVJOOiAgIDEzLAogIEtFWV9FU0M6ICAgICAg
MjcsCiAgS0VZX0xFRlQ6ICAgICAzNywKICBLRVlfVVA6ICAgICAgIDM4LAogIEtF
WV9SSUdIVDogICAgMzksCiAgS0VZX0RPV046ICAgICA0MCwKICBLRVlfREVMRVRF
OiAgIDQ2LAogIEtFWV9IT01FOiAgICAgMzYsCiAgS0VZX0VORDogICAgICAzNSwK
ICBLRVlfUEFHRVVQOiAgIDMzLAogIEtFWV9QQUdFRE9XTjogMzQsCiAgS0VZX0lO
U0VSVDogICA0NSwKCiAgY2FjaGU6IHsgfSwKCiAgcmVsYXRlZFRhcmdldDogZnVu
Y3Rpb24oZXZlbnQpIHsKICAgIHZhciBlbGVtZW50OwogICAgc3dpdGNoKGV2ZW50
LnR5cGUpIHsKICAgICAgY2FzZSAnbW91c2VvdmVyJzogZWxlbWVudCA9IGV2ZW50
LmZyb21FbGVtZW50OyBicmVhazsKICAgICAgY2FzZSAnbW91c2VvdXQnOiAgZWxl
bWVudCA9IGV2ZW50LnRvRWxlbWVudDsgICBicmVhazsKICAgICAgZGVmYXVsdDog
cmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxl
bWVudCk7CiAgfQp9KTsKCkV2ZW50Lk1ldGhvZHMgPSAoZnVuY3Rpb24oKSB7CiAg
dmFyIGlzQnV0dG9uOwoKICBpZiAoUHJvdG90eXBlLkJyb3dzZXIuSUUpIHsKICAg
IHZhciBidXR0b25NYXAgPSB7IDA6IDEsIDE6IDQsIDI6IDIgfTsKICAgIGlzQnV0
dG9uID0gZnVuY3Rpb24oZXZlbnQsIGNvZGUpIHsKICAgICAgcmV0dXJuIGV2ZW50
LmJ1dHRvbiA9PSBidXR0b25NYXBbY29kZV07CiAgICB9OwoKICB9IGVsc2UgaWYg
KFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCkgewogICAgaXNCdXR0b24gPSBmdW5j
dGlvbihldmVudCwgY29kZSkgewogICAgICBzd2l0Y2ggKGNvZGUpIHsKICAgICAg
ICBjYXNlIDA6IHJldHVybiBldmVudC53aGljaCA9PSAxICYmICFldmVudC5tZXRh
S2V5OwogICAgICAgIGNhc2UgMTogcmV0dXJuIGV2ZW50LndoaWNoID09IDEgJiYg
ZXZlbnQubWV0YUtleTsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7CiAg
ICAgIH0KICAgIH07CgogIH0gZWxzZSB7CiAgICBpc0J1dHRvbiA9IGZ1bmN0aW9u
KGV2ZW50LCBjb2RlKSB7CiAgICAgIHJldHVybiBldmVudC53aGljaCA/IChldmVu
dC53aGljaCA9PT0gY29kZSArIDEpIDogKGV2ZW50LmJ1dHRvbiA9PT0gY29kZSk7
CiAgICB9OwogIH0KCiAgcmV0dXJuIHsKICAgIGlzTGVmdENsaWNrOiAgIGZ1bmN0
aW9uKGV2ZW50KSB7IHJldHVybiBpc0J1dHRvbihldmVudCwgMCkgfSwKICAgIGlz
TWlkZGxlQ2xpY2s6IGZ1bmN0aW9uKGV2ZW50KSB7IHJldHVybiBpc0J1dHRvbihl
dmVudCwgMSkgfSwKICAgIGlzUmlnaHRDbGljazogIGZ1bmN0aW9uKGV2ZW50KSB7
IHJldHVybiBpc0J1dHRvbihldmVudCwgMikgfSwKCiAgICBlbGVtZW50OiBmdW5j
dGlvbihldmVudCkgewogICAgICBldmVudCA9IEV2ZW50LmV4dGVuZChldmVudCk7
CgogICAgICB2YXIgbm9kZSAgICAgICAgICA9IGV2ZW50LnRhcmdldCwKICAgICAg
ICAgIHR5cGUgICAgICAgICAgPSBldmVudC50eXBlLAogICAgICAgICAgY3VycmVu
dFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CgogICAgICBpZiAoY3VycmVu
dFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0LnRhZ05hbWUpIHsKICAgICAgICAvLyBG
aXJlZm94IHNjcmV3cyB1cCB0aGUgImNsaWNrIiBldmVudCB3aGVuIG1vdmluZyBi
ZXR3ZWVuIHJhZGlvIGJ1dHRvbnMKICAgICAgICAvLyB2aWEgYXJyb3cga2V5cy4g
SXQgYWxzbyBzY3Jld3MgdXAgdGhlICJsb2FkIiBhbmQgImVycm9yIiBldmVudHMg
b24gaW1hZ2VzLAogICAgICAgIC8vIHJlcG9ydGluZyB0aGUgZG9jdW1lbnQgYXMg
dGhlIHRhcmdldCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBpbWFnZS4KICAgICAg
ICBpZiAodHlwZSA9PT0gJ2xvYWQnIHx8IHR5cGUgPT09ICdlcnJvcicgfHwKICAg
ICAgICAgICh0eXBlID09PSAnY2xpY2snICYmIGN1cnJlbnRUYXJnZXQudGFnTmFt
ZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnCiAgICAgICAgICAgICYmIGN1cnJl
bnRUYXJnZXQudHlwZSA9PT0gJ3JhZGlvJykpCiAgICAgICAgICAgICAgbm9kZSA9
IGN1cnJlbnRUYXJnZXQ7CiAgICAgIH0KICAgICAgaWYgKG5vZGUubm9kZVR5cGUg
PT0gTm9kZS5URVhUX05PREUpIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CiAgICAg
IHJldHVybiBFbGVtZW50LmV4dGVuZChub2RlKTsKICAgIH0sCgogICAgZmluZEVs
ZW1lbnQ6IGZ1bmN0aW9uKGV2ZW50LCBleHByZXNzaW9uKSB7CiAgICAgIHZhciBl
bGVtZW50ID0gRXZlbnQuZWxlbWVudChldmVudCk7CiAgICAgIGlmICghZXhwcmVz
c2lvbikgcmV0dXJuIGVsZW1lbnQ7CiAgICAgIHZhciBlbGVtZW50cyA9IFtlbGVt
ZW50XS5jb25jYXQoZWxlbWVudC5hbmNlc3RvcnMoKSk7CiAgICAgIHJldHVybiBT
ZWxlY3Rvci5maW5kRWxlbWVudChlbGVtZW50cywgZXhwcmVzc2lvbiwgMCk7CiAg
ICB9LAoKICAgIHBvaW50ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBk
b2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgICBib2R5
ID0gZG9jdW1lbnQuYm9keSB8fCB7IHNjcm9sbExlZnQ6IDAsIHNjcm9sbFRvcDog
MCB9OwogICAgICByZXR1cm4gewogICAgICAgIHg6IGV2ZW50LnBhZ2VYIHx8IChl
dmVudC5jbGllbnRYICsKICAgICAgICAgIChkb2NFbGVtZW50LnNjcm9sbExlZnQg
fHwgYm9keS5zY3JvbGxMZWZ0KSAtCiAgICAgICAgICAoZG9jRWxlbWVudC5jbGll
bnRMZWZ0IHx8IDApKSwKICAgICAgICB5OiBldmVudC5wYWdlWSB8fCAoZXZlbnQu
Y2xpZW50WSArCiAgICAgICAgICAoZG9jRWxlbWVudC5zY3JvbGxUb3AgfHwgYm9k
eS5zY3JvbGxUb3ApIC0KICAgICAgICAgIChkb2NFbGVtZW50LmNsaWVudFRvcCB8
fCAwKSkKICAgICAgfTsKICAgIH0sCgogICAgcG9pbnRlclg6IGZ1bmN0aW9uKGV2
ZW50KSB7IHJldHVybiBFdmVudC5wb2ludGVyKGV2ZW50KS54IH0sCiAgICBwb2lu
dGVyWTogZnVuY3Rpb24oZXZlbnQpIHsgcmV0dXJuIEV2ZW50LnBvaW50ZXIoZXZl
bnQpLnkgfSwKCiAgICBzdG9wOiBmdW5jdGlvbihldmVudCkgewogICAgICBFdmVu
dC5leHRlbmQoZXZlbnQpOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwog
ICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZXZlbnQuc3RvcHBl
ZCA9IHRydWU7CiAgICB9CiAgfTsKfSkoKTsKCkV2ZW50LmV4dGVuZCA9IChmdW5j
dGlvbigpIHsKICB2YXIgbWV0aG9kcyA9IE9iamVjdC5rZXlzKEV2ZW50Lk1ldGhv
ZHMpLmluamVjdCh7IH0sIGZ1bmN0aW9uKG0sIG5hbWUpIHsKICAgIG1bbmFtZV0g
PSBFdmVudC5NZXRob2RzW25hbWVdLm1ldGhvZGl6ZSgpOwogICAgcmV0dXJuIG07
CiAgfSk7CgogIGlmIChQcm90b3R5cGUuQnJvd3Nlci5JRSkgewogICAgT2JqZWN0
LmV4dGVuZChtZXRob2RzLCB7CiAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rp
b24oKSB7IHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZSB9LAogICAgICBwcmV2ZW50
RGVmYXVsdDogIGZ1bmN0aW9uKCkgeyB0aGlzLnJldHVyblZhbHVlID0gZmFsc2Ug
fSwKICAgICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7IHJldHVybiAiW29iamVjdCBF
dmVudF0iIH0KICAgIH0pOwoKICAgIHJldHVybiBmdW5jdGlvbihldmVudCkgewog
ICAgICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChldmVudC5f
ZXh0ZW5kZWRCeVByb3RvdHlwZSkgcmV0dXJuIGV2ZW50OwoKICAgICAgZXZlbnQu
X2V4dGVuZGVkQnlQcm90b3R5cGUgPSBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbjsK
ICAgICAgdmFyIHBvaW50ZXIgPSBFdmVudC5wb2ludGVyKGV2ZW50KTsKICAgICAg
T2JqZWN0LmV4dGVuZChldmVudCwgewogICAgICAgIHRhcmdldDogZXZlbnQuc3Jj
RWxlbWVudCwKICAgICAgICByZWxhdGVkVGFyZ2V0OiBFdmVudC5yZWxhdGVkVGFy
Z2V0KGV2ZW50KSwKICAgICAgICBwYWdlWDogIHBvaW50ZXIueCwKICAgICAgICBw
YWdlWTogIHBvaW50ZXIueQogICAgICB9KTsKICAgICAgcmV0dXJuIE9iamVjdC5l
eHRlbmQoZXZlbnQsIG1ldGhvZHMpOwogICAgfTsKCiAgfSBlbHNlIHsKICAgIEV2
ZW50LnByb3RvdHlwZSA9IEV2ZW50LnByb3RvdHlwZSB8fCBkb2N1bWVudC5jcmVh
dGVFdmVudCgiSFRNTEV2ZW50cyIpWydfX3Byb3RvX18nXTsKICAgIE9iamVjdC5l
eHRlbmQoRXZlbnQucHJvdG90eXBlLCBtZXRob2RzKTsKICAgIHJldHVybiBQcm90
b3R5cGUuSzsKICB9Cn0pKCk7CgpPYmplY3QuZXh0ZW5kKEV2ZW50LCAoZnVuY3Rp
b24oKSB7CiAgdmFyIGNhY2hlID0gRXZlbnQuY2FjaGU7CgogIGZ1bmN0aW9uIGdl
dEV2ZW50SUQoZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQuX3Byb3RvdHlwZUV2
ZW50SUQpIHJldHVybiBlbGVtZW50Ll9wcm90b3R5cGVFdmVudElEWzBdOwogICAg
YXJndW1lbnRzLmNhbGxlZS5pZCA9IGFyZ3VtZW50cy5jYWxsZWUuaWQgfHwgMTsK
ICAgIHJldHVybiBlbGVtZW50Ll9wcm90b3R5cGVFdmVudElEID0gWysrYXJndW1l
bnRzLmNhbGxlZS5pZF07CiAgfQoKICBmdW5jdGlvbiBnZXRET01FdmVudE5hbWUo
ZXZlbnROYW1lKSB7CiAgICBpZiAoZXZlbnROYW1lICYmIGV2ZW50TmFtZS5pbmNs
dWRlKCc6JykpIHJldHVybiAiZGF0YWF2YWlsYWJsZSI7CiAgICByZXR1cm4gZXZl
bnROYW1lOwogIH0KCiAgZnVuY3Rpb24gZ2V0Q2FjaGVGb3JJRChpZCkgewogICAg
cmV0dXJuIGNhY2hlW2lkXSA9IGNhY2hlW2lkXSB8fCB7IH07CiAgfQoKICBmdW5j
dGlvbiBnZXRXcmFwcGVyc0ZvckV2ZW50TmFtZShpZCwgZXZlbnROYW1lKSB7CiAg
ICB2YXIgYyA9IGdldENhY2hlRm9ySUQoaWQpOwogICAgcmV0dXJuIGNbZXZlbnRO
YW1lXSA9IGNbZXZlbnROYW1lXSB8fCBbXTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0
ZVdyYXBwZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICB2YXIg
aWQgPSBnZXRFdmVudElEKGVsZW1lbnQpOwogICAgdmFyIGMgPSBnZXRXcmFwcGVy
c0ZvckV2ZW50TmFtZShpZCwgZXZlbnROYW1lKTsKICAgIGlmIChjLnBsdWNrKCJo
YW5kbGVyIikuaW5jbHVkZShoYW5kbGVyKSkgcmV0dXJuIGZhbHNlOwoKICAgIHZh
ciB3cmFwcGVyID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgaWYgKCFFdmVudCB8
fCAhRXZlbnQuZXh0ZW5kIHx8CiAgICAgICAgKGV2ZW50LmV2ZW50TmFtZSAmJiBl
dmVudC5ldmVudE5hbWUgIT0gZXZlbnROYW1lKSkKICAgICAgICAgIHJldHVybiBm
YWxzZTsKCiAgICAgIEV2ZW50LmV4dGVuZChldmVudCk7CiAgICAgIGlmIChoYW5k
bGVyKSBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpOyAvLyBBVyBCdWcgZml4
CiAgICB9OwoKICAgIHdyYXBwZXIuaGFuZGxlciA9IGhhbmRsZXI7CiAgICBjLnB1
c2god3JhcHBlcik7CiAgICByZXR1cm4gd3JhcHBlcjsKICB9CgogIGZ1bmN0aW9u
IGZpbmRXcmFwcGVyKGlkLCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIHZhciBj
ID0gZ2V0V3JhcHBlcnNGb3JFdmVudE5hbWUoaWQsIGV2ZW50TmFtZSk7CiAgICBy
ZXR1cm4gYy5maW5kKGZ1bmN0aW9uKHdyYXBwZXIpIHsgcmV0dXJuIHdyYXBwZXIu
aGFuZGxlciA9PSBoYW5kbGVyIH0pOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveVdy
YXBwZXIoaWQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgdmFyIGMgPSBnZXRD
YWNoZUZvcklEKGlkKTsKICAgIGlmICghY1tldmVudE5hbWVdKSByZXR1cm4gZmFs
c2U7CiAgICBjW2V2ZW50TmFtZV0gPSBjW2V2ZW50TmFtZV0ud2l0aG91dChmaW5k
V3JhcHBlcihpZCwgZXZlbnROYW1lLCBoYW5kbGVyKSk7CiAgfQoKICBmdW5jdGlv
biBkZXN0cm95Q2FjaGUoKSB7CiAgICBmb3IgKHZhciBpZCBpbiBjYWNoZSkKICAg
ICAgZm9yICh2YXIgZXZlbnROYW1lIGluIGNhY2hlW2lkXSkKICAgICAgICBjYWNo
ZVtpZF1bZXZlbnROYW1lXSA9IG51bGw7CiAgfQoKCiAgLy8gSW50ZXJuZXQgRXhw
bG9yZXIgbmVlZHMgdG8gcmVtb3ZlIGV2ZW50IGhhbmRsZXJzIG9uIHBhZ2UgdW5s
b2FkCiAgLy8gaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGxlYWtzLgogIGlmICh3
aW5kb3cuYXR0YWNoRXZlbnQpIHsKICAgIHdpbmRvdy5hdHRhY2hFdmVudCgib251
bmxvYWQiLCBkZXN0cm95Q2FjaGUpOwogIH0KCiAgLy8gU2FmYXJpIGhhcyBhIGR1
bW15IGV2ZW50IGhhbmRsZXIgb24gcGFnZSB1bmxvYWQgc28gdGhhdCBpdCB3b24n
dAogIC8vIHVzZSBpdHMgYmZjYWNoZS4gU2FmYXJpIDw9IDMuMSBoYXMgYW4gaXNz
dWUgd2l0aCByZXN0b3JpbmcgdGhlICJkb2N1bWVudCIKICAvLyBvYmplY3Qgd2hl
biBwYWdlIGlzIHJldHVybmVkIHRvIHZpYSB0aGUgYmFjayBidXR0b24gdXNpbmcg
aXRzIGJmY2FjaGUuCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCkgewog
ICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIFByb3RvdHlwZS5l
bXB0eUZ1bmN0aW9uLCBmYWxzZSk7CiAgfQoKICByZXR1cm4gewogICAgb2JzZXJ2
ZTogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICAg
IGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICB2YXIgbmFtZSA9IGdldERPTUV2
ZW50TmFtZShldmVudE5hbWUpOwoKICAgICAgdmFyIHdyYXBwZXIgPSBjcmVhdGVX
cmFwcGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcik7CiAgICAgIGlmICgh
d3JhcHBlcikgcmV0dXJuIGVsZW1lbnQ7CgogICAgICBpZiAoZWxlbWVudC5hZGRF
dmVudExpc3RlbmVyKSB7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVy
KG5hbWUsIHdyYXBwZXIsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBl
bGVtZW50LmF0dGFjaEV2ZW50KCJvbiIgKyBuYW1lLCB3cmFwcGVyKTsKICAgICAg
fQoKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9LAoKICAgIHN0b3BPYnNlcnZp
bmc6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAg
ICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgdmFyIGlkID0gZ2V0RXZlbnRJ
RChlbGVtZW50KSwgbmFtZSA9IGdldERPTUV2ZW50TmFtZShldmVudE5hbWUpOwoK
ICAgICAgaWYgKCFoYW5kbGVyICYmIGV2ZW50TmFtZSkgewogICAgICAgIGdldFdy
YXBwZXJzRm9yRXZlbnROYW1lKGlkLCBldmVudE5hbWUpLmVhY2goZnVuY3Rpb24o
d3JhcHBlcikgewogICAgICAgICAgZWxlbWVudC5zdG9wT2JzZXJ2aW5nKGV2ZW50
TmFtZSwgd3JhcHBlci5oYW5kbGVyKTsKICAgICAgICB9KTsKICAgICAgICByZXR1
cm4gZWxlbWVudDsKCiAgICAgIH0gZWxzZSBpZiAoIWV2ZW50TmFtZSkgewogICAg
ICAgIE9iamVjdC5rZXlzKGdldENhY2hlRm9ySUQoaWQpKS5lYWNoKGZ1bmN0aW9u
KGV2ZW50TmFtZSkgewogICAgICAgICAgZWxlbWVudC5zdG9wT2JzZXJ2aW5nKGV2
ZW50TmFtZSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAg
ICAgIH0KCiAgICAgIHZhciB3cmFwcGVyID0gZmluZFdyYXBwZXIoaWQsIGV2ZW50
TmFtZSwgaGFuZGxlcik7CiAgICAgIGlmICghd3JhcHBlcikgcmV0dXJuIGVsZW1l
bnQ7CgogICAgICBpZiAoZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKSB7CiAg
ICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBwZXIs
IGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50LmRldGFjaEV2
ZW50KCJvbiIgKyBuYW1lLCB3cmFwcGVyKTsKICAgICAgfQoKICAgICAgZGVzdHJv
eVdyYXBwZXIoaWQsIGV2ZW50TmFtZSwgaGFuZGxlcik7CgogICAgICByZXR1cm4g
ZWxlbWVudDsKICAgIH0sCgogICAgZmlyZTogZnVuY3Rpb24oZWxlbWVudCwgZXZl
bnROYW1lLCBtZW1vKSB7CiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAg
ICBpZiAoZWxlbWVudCA9PSBkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFdmVu
dCAmJiAhZWxlbWVudC5kaXNwYXRjaEV2ZW50KQogICAgICAgIGVsZW1lbnQgPSBk
b2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgogICAgICB2YXIgZXZlbnQ7CiAgICAg
IGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkgewogICAgICAgIGV2ZW50ID0gZG9j
dW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTsKICAgICAgICBldmVudC5p
bml0RXZlbnQoImRhdGFhdmFpbGFibGUiLCB0cnVlLCB0cnVlKTsKICAgICAgfSBl
bHNlIHsKICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0
KCk7CiAgICAgICAgZXZlbnQuZXZlbnRUeXBlID0gIm9uZGF0YWF2YWlsYWJsZSI7
CiAgICAgIH0KCiAgICAgIGV2ZW50LmV2ZW50TmFtZSA9IGV2ZW50TmFtZTsKICAg
ICAgZXZlbnQubWVtbyA9IG1lbW8gfHwgeyB9OwoKICAgICAgaWYgKGRvY3VtZW50
LmNyZWF0ZUV2ZW50KSB7CiAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2
ZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50LmZpcmVFdmVudChl
dmVudC5ldmVudFR5cGUsIGV2ZW50KTsKICAgICAgfQoKICAgICAgcmV0dXJuIEV2
ZW50LmV4dGVuZChldmVudCk7CiAgICB9CiAgfTsKfSkoKSk7CgpPYmplY3QuZXh0
ZW5kKEV2ZW50LCBFdmVudC5NZXRob2RzKTsKCkVsZW1lbnQuYWRkTWV0aG9kcyh7
CiAgZmlyZTogICAgICAgICAgRXZlbnQuZmlyZSwKICBvYnNlcnZlOiAgICAgICBF
dmVudC5vYnNlcnZlLAogIHN0b3BPYnNlcnZpbmc6IEV2ZW50LnN0b3BPYnNlcnZp
bmcKfSk7CgpPYmplY3QuZXh0ZW5kKGRvY3VtZW50LCB7CiAgZmlyZTogICAgICAg
ICAgRWxlbWVudC5NZXRob2RzLmZpcmUubWV0aG9kaXplKCksCiAgb2JzZXJ2ZTog
ICAgICAgRWxlbWVudC5NZXRob2RzLm9ic2VydmUubWV0aG9kaXplKCksCiAgc3Rv
cE9ic2VydmluZzogRWxlbWVudC5NZXRob2RzLnN0b3BPYnNlcnZpbmcubWV0aG9k
aXplKCksCiAgbG9hZGVkOiAgICAgICAgZmFsc2UKfSk7CgooZnVuY3Rpb24oKSB7
CiAgLyogU3VwcG9ydCBmb3IgdGhlIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQgaXMg
YmFzZWQgb24gd29yayBieSBEYW4gV2ViYiwKICAgICBNYXR0aGlhcyBNaWxsZXIs
IERlYW4gRWR3YXJkcyBhbmQgSm9obiBSZXNpZy4gKi8KCiAgdmFyIHRpbWVyOwoK
ICBmdW5jdGlvbiBmaXJlQ29udGVudExvYWRlZEV2ZW50KCkgewogICAgaWYgKGRv
Y3VtZW50LmxvYWRlZCkgcmV0dXJuOwogICAgaWYgKHRpbWVyKSB3aW5kb3cuY2xl
YXJJbnRlcnZhbCh0aW1lcik7CiAgICBkb2N1bWVudC5maXJlKCJkb206bG9hZGVk
Iik7CiAgICBkb2N1bWVudC5sb2FkZWQgPSB0cnVlOwogIH0KCiAgaWYgKGRvY3Vt
ZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGlmIChQcm90b3R5cGUuQnJvd3Nl
ci5XZWJLaXQpIHsKICAgICAgdGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVu
Y3Rpb24oKSB7CiAgICAgICAgaWYgKC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoZG9j
dW1lbnQucmVhZHlTdGF0ZSkpCiAgICAgICAgICBmaXJlQ29udGVudExvYWRlZEV2
ZW50KCk7CiAgICAgIH0sIDApOwoKICAgICAgRXZlbnQub2JzZXJ2ZSh3aW5kb3cs
ICJsb2FkIiwgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCk7CgogICAgfSBlbHNlIHsK
ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRl
ZCIsCiAgICAgICAgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCwgZmFsc2UpOwogICAg
fQoKICB9IGVsc2UgewogICAgZG9jdW1lbnQud3JpdGUoIjxzY3JpcHQgaWQ9X19v
bkRPTUNvbnRlbnRMb2FkZWQgZGVmZXIgc3JjPS8vOj48XC9zY3JpcHQ+Iik7CiAg
ICAkKCJfX29uRE9NQ29udGVudExvYWRlZCIpLm9ucmVhZHlzdGF0ZWNoYW5nZSA9
IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09ICJjb21w
bGV0ZSIpIHsKICAgICAgICB0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7
CiAgICAgICAgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCgpOwogICAgICB9CiAgICB9
OwogIH0KfSkoKTsKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERF
UFJFQ0FURUQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpIYXNo
LnRvUXVlcnlTdHJpbmcgPSBPYmplY3QudG9RdWVyeVN0cmluZzsKCnZhciBUb2dn
bGUgPSB7IGRpc3BsYXk6IEVsZW1lbnQudG9nZ2xlIH07CgpFbGVtZW50Lk1ldGhv
ZHMuY2hpbGRPZiA9IEVsZW1lbnQuTWV0aG9kcy5kZXNjZW5kYW50T2Y7Cgp2YXIg
SW5zZXJ0aW9uID0gewogIEJlZm9yZTogZnVuY3Rpb24oZWxlbWVudCwgY29udGVu
dCkgewogICAgcmV0dXJuIEVsZW1lbnQuaW5zZXJ0KGVsZW1lbnQsIHtiZWZvcmU6
Y29udGVudH0pOwogIH0sCgogIFRvcDogZnVuY3Rpb24oZWxlbWVudCwgY29udGVu
dCkgewogICAgcmV0dXJuIEVsZW1lbnQuaW5zZXJ0KGVsZW1lbnQsIHt0b3A6Y29u
dGVudH0pOwogIH0sCgogIEJvdHRvbTogZnVuY3Rpb24oZWxlbWVudCwgY29udGVu
dCkgewogICAgcmV0dXJuIEVsZW1lbnQuaW5zZXJ0KGVsZW1lbnQsIHtib3R0b206
Y29udGVudH0pOwogIH0sCgogIEFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBjb250
ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2FmdGVy
OmNvbnRlbnR9KTsKICB9Cn07Cgp2YXIgJGNvbnRpbnVlID0gbmV3IEVycm9yKCci
dGhyb3cgJGNvbnRpbnVlIiBpcyBkZXByZWNhdGVkLCB1c2UgInJldHVybiIgaW5z
dGVhZCcpOwoKLy8gVGhpcyBzaG91bGQgYmUgbW92ZWQgdG8gc2NyaXB0LmFjdWxv
LnVzOyBub3RpY2UgdGhlIGRlcHJlY2F0ZWQgbWV0aG9kcwovLyBmdXJ0aGVyIGJl
bG93LCB0aGF0IG1hcCB0byB0aGUgbmV3ZXIgRWxlbWVudCBtZXRob2RzLgp2YXIg
UG9zaXRpb24gPSB7CiAgLy8gc2V0IHRvIHRydWUgaWYgbmVlZGVkLCB3YXJuaW5n
OiBmaXJlZm94IHBlcmZvcm1hbmNlIHByb2JsZW1zCiAgLy8gTk9UIG5lZWVkZWQg
Zm9yIHBhZ2Ugc2Nyb2xsaW5nLCBvbmx5IGlmIGRyYWdnYWJsZSBjb250YWluZWQg
aW4KICAvLyBzY3JvbGxhYmxlIGVsZW1lbnRzCiAgaW5jbHVkZVNjcm9sbE9mZnNl
dHM6IGZhbHNlLAoKICAvLyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyB3
aXRoaW5JbmNsdWRpbmdTY3JvbGxvZmZzZXQsIGV2ZXJ5IHRpbWUgdGhlCiAgLy8g
cGFnZSBpcyBzY3JvbGxlZAogIHByZXBhcmU6IGZ1bmN0aW9uKCkgewogICAgdGhp
cy5kZWx0YVggPSAgd2luZG93LnBhZ2VYT2Zmc2V0CiAgICAgICAgICAgICAgICB8
fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdAogICAgICAgICAg
ICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0CiAgICAgICAgICAgICAg
ICB8fCAwOwogICAgdGhpcy5kZWx0YVkgPSAgd2luZG93LnBhZ2VZT2Zmc2V0CiAg
ICAgICAgICAgICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xs
VG9wCiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcAog
ICAgICAgICAgICAgICAgfHwgMDsKICB9LAoKICAvLyBjYWNoZXMgeC95IGNvb3Jk
aW5hdGUgcGFpciB0byB1c2Ugd2l0aCBvdmVybGFwCiAgd2l0aGluOiBmdW5jdGlv
bihlbGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zm
c2V0cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zm
c2V0cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhp
cy55Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2
ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRb
MV0gJiYKICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQu
b2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0g
JiYKICAgICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zm
c2V0V2lkdGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6
IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9
IEVsZW1lbnQuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KTsKCiAgICB0
aGlzLnhjb21wID0geCArIG9mZnNldGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAg
ICB0aGlzLnljb21wID0geSArIG9mZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7
CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVt
ZW50KTsKCiAgICByZXR1cm4gKHRoaXMueWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0g
JiYKICAgICAgICAgICAgdGhpcy55Y29tcCA8ICB0aGlzLm9mZnNldFsxXSArIGVs
ZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHRoaXMueGNvbXAgPj0g
dGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgdGhpcy54Y29tcCA8ICB0aGlz
Lm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIC8vIHdp
dGhpbiBtdXN0IGJlIGNhbGxlZCBkaXJlY3RseSBiZWZvcmUKICBvdmVybGFwOiBm
dW5jdGlvbihtb2RlLCBlbGVtZW50KSB7CiAgICBpZiAoIW1vZGUpIHJldHVybiAw
OwogICAgaWYgKG1vZGUgPT0gJ3ZlcnRpY2FsJykKICAgICAgcmV0dXJuICgodGhp
cy5vZmZzZXRbMV0gKyBlbGVtZW50Lm9mZnNldEhlaWdodCkgLSB0aGlzLnljb21w
KSAvCiAgICAgICAgZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICBpZiAobW9kZSA9
PSAnaG9yaXpvbnRhbCcpCiAgICAgIHJldHVybiAoKHRoaXMub2Zmc2V0WzBdICsg
ZWxlbWVudC5vZmZzZXRXaWR0aCkgLSB0aGlzLnhjb21wKSAvCiAgICAgICAgZWxl
bWVudC5vZmZzZXRXaWR0aDsKICB9LAoKICAvLyBEZXByZWNhdGlvbiBsYXllciAt
LSB1c2UgbmV3ZXIgRWxlbWVudCBtZXRob2RzIG5vdyAoMS41LjIpLgoKICBjdW11
bGF0aXZlT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldCwK
CiAgcG9zaXRpb25lZE9mZnNldDogRWxlbWVudC5NZXRob2RzLnBvc2l0aW9uZWRP
ZmZzZXQsCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIFBv
c2l0aW9uLnByZXBhcmUoKTsKICAgIHJldHVybiBFbGVtZW50LmFic29sdXRpemUo
ZWxlbWVudCk7CiAgfSwKCiAgcmVsYXRpdml6ZTogZnVuY3Rpb24oZWxlbWVudCkg
ewogICAgUG9zaXRpb24ucHJlcGFyZSgpOwogICAgcmV0dXJuIEVsZW1lbnQucmVs
YXRpdml6ZShlbGVtZW50KTsKICB9LAoKICByZWFsT2Zmc2V0OiBFbGVtZW50Lk1l
dGhvZHMuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldCwKCiAgb2Zmc2V0UGFyZW50OiBF
bGVtZW50Lk1ldGhvZHMuZ2V0T2Zmc2V0UGFyZW50LAoKICBwYWdlOiBFbGVtZW50
Lk1ldGhvZHMudmlld3BvcnRPZmZzZXQsCgogIGNsb25lOiBmdW5jdGlvbihzb3Vy
Y2UsIHRhcmdldCwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwg
eyB9OwogICAgcmV0dXJuIEVsZW1lbnQuY2xvbmVQb3NpdGlvbih0YXJnZXQsIHNv
dXJjZSwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLSovCgppZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIGRv
Y3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihpbnN0YW5j
ZU1ldGhvZHMpewogIGZ1bmN0aW9uIGl0ZXIobmFtZSkgewogICAgcmV0dXJuIG5h
bWUuYmxhbmsoKSA/IG51bGwgOiAiW2NvbnRhaW5zKGNvbmNhdCgnICcsIEBjbGFz
cywgJyAnKSwgJyAiICsgbmFtZSArICIgJyldIjsKICB9CgogIGluc3RhbmNlTWV0
aG9kcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gUHJvdG90eXBlLkJyb3dzZXJG
ZWF0dXJlcy5YUGF0aCA/CiAgZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7
CiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUudG9TdHJpbmcoKS5zdHJpcCgpOwog
ICAgdmFyIGNvbmQgPSAvXHMvLnRlc3QoY2xhc3NOYW1lKSA/ICR3KGNsYXNzTmFt
ZSkubWFwKGl0ZXIpLmpvaW4oJycpIDogaXRlcihjbGFzc05hbWUpOwogICAgcmV0
dXJuIGNvbmQgPyBkb2N1bWVudC5fZ2V0RWxlbWVudHNCeVhQYXRoKCcuLy8qJyAr
IGNvbmQsIGVsZW1lbnQpIDogW107CiAgfSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNs
YXNzTmFtZSkgewogICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRvU3RyaW5nKCku
c3RyaXAoKTsKICAgIHZhciBlbGVtZW50cyA9IFtdLCBjbGFzc05hbWVzID0gKC9c
cy8udGVzdChjbGFzc05hbWUpID8gJHcoY2xhc3NOYW1lKSA6IG51bGwpOwogICAg
aWYgKCFjbGFzc05hbWVzICYmICFjbGFzc05hbWUpIHJldHVybiBlbGVtZW50czsK
CiAgICB2YXIgbm9kZXMgPSAkKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1l
KCcqJyk7CiAgICBjbGFzc05hbWUgPSAnICcgKyBjbGFzc05hbWUgKyAnICc7Cgog
ICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkLCBjbjsgY2hpbGQgPSBub2Rlc1tpXTsg
aSsrKSB7CiAgICAgIGlmIChjaGlsZC5jbGFzc05hbWUgJiYgKGNuID0gJyAnICsg
Y2hpbGQuY2xhc3NOYW1lICsgJyAnKSAmJiAoY24uaW5jbHVkZShjbGFzc05hbWUp
IHx8CiAgICAgICAgICAoY2xhc3NOYW1lcyAmJiBjbGFzc05hbWVzLmFsbChmdW5j
dGlvbihuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiAhbmFtZS50b1N0cmluZygp
LmJsYW5rKCkgJiYgY24uaW5jbHVkZSgnICcgKyBuYW1lICsgJyAnKTsKICAgICAg
ICAgIH0pKSkpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVuZChj
aGlsZCkpOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnRzOwogIH07CgogIHJldHVy
biBmdW5jdGlvbihjbGFzc05hbWUsIHBhcmVudEVsZW1lbnQpIHsKICAgIHJldHVy
biAkKHBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVudHNC
eUNsYXNzTmFtZShjbGFzc05hbWUpOwogIH07Cn0oRWxlbWVudC5NZXRob2RzKTsK
Ci8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFzc05h
bWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5
cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdGhp
cy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rpb24o
aXRlcmF0b3IpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xz
Ky8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1lLmxl
bmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvcik7CiAgfSwKCiAgc2V0OiBm
dW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUg
PSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVUb0Fk
ZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJldHVy
bjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLmNvbmNhdChjbGFzc05hbWVUb0FkZCku
am9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNsYXNzTmFtZVRv
UmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05hbWVUb1JlbW92
ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLndpdGhvdXQoY2xhc3NO
YW1lVG9SZW1vdmUpLmpvaW4oJyAnKSk7CiAgfSwKCiAgdG9TdHJpbmc6IGZ1bmN0
aW9uKCkgewogICAgcmV0dXJuICRBKHRoaXMpLmpvaW4oJyAnKTsKICB9Cn07CgpP
YmplY3QuZXh0ZW5kKEVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUsIEVudW1l
cmFibGUpOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpFbGVtZW50
LmFkZE1ldGhvZHMoKTsK

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=scriptaculous.js
Content-Type: application/x-javascript; charset=utf-8; name=scriptaculous.js
Content-Location: http://compbiol.plosjms.org/html/scriptaculous.js?load=builder,effects,controls
Content-Transfer-Encoding: Base64

Ly8gc2NyaXB0LmFjdWxvLnVzIHNjcmlwdGFjdWxvdXMuanMgdjEuOC4yLCBUdWUg
Tm92IDE4IDE4OjMwOjU4ICswMTAwIDIwMDgKCi8vIENvcHlyaWdodCAoYykgMjAw
NS0yMDA4IFRob21hcyBGdWNocyAoaHR0cDovL3NjcmlwdC5hY3Vsby51cywgaHR0
cDovL21pci5hY3Vsby51cykKLy8KLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3Jh
bnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nCi8v
IGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50
YXRpb24gZmlsZXMgKHRoZQovLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUg
U29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCi8vIHdpdGhv
dXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBt
ZXJnZSwgcHVibGlzaCwKLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29y
IHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvCi8vIHBlcm1pdCBw
ZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBz
bywgc3ViamVjdCB0bwovLyB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Ci8vCi8v
IFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24g
bm90aWNlIHNoYWxsIGJlCi8vIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vi
c3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLwovLyBUSEUgU09G
VFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBB
TlkgS0lORCwKLy8gRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5P
VCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCi8vIE1FUkNIQU5UQUJJTElU
WSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5ECi8vIE5PTklO
RlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09Q
WVJJR0hUIEhPTERFUlMgQkUKLy8gTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFH
RVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTgovLyBP
RiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VU
IE9GIE9SIElOIENPTk5FQ1RJT04KLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhF
IFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCi8vCi8vIEZv
ciBkZXRhaWxzLCBzZWUgdGhlIHNjcmlwdC5hY3Vsby51cyB3ZWIgc2l0ZTogaHR0
cDovL3NjcmlwdC5hY3Vsby51cy8KCnZhciBTY3JpcHRhY3Vsb3VzID0gewogIFZl
cnNpb246ICcxLjguMicsCiAgcmVxdWlyZTogZnVuY3Rpb24obGlicmFyeU5hbWUp
IHsKICAgIC8vIGluc2VydGluZyB2aWEgRE9NIGZhaWxzIGluIFNhZmFyaSAyLjAs
IHNvIGJydXRlIGZvcmNlIGFwcHJvYWNoCiAgICBkb2N1bWVudC53cml0ZSgnPHNj
cmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJytsaWJyYXJ5TmFtZSsn
Ij48XC9zY3JpcHQ+Jyk7CiAgfSwKICBSRVFVSVJFRF9QUk9UT1RZUEU6ICcxLjYu
MC4zJywKICBsb2FkOiBmdW5jdGlvbigpIHsKICAgIGZ1bmN0aW9uIGNvbnZlcnRW
ZXJzaW9uU3RyaW5nKHZlcnNpb25TdHJpbmcpIHsKICAgICAgdmFyIHYgPSB2ZXJz
aW9uU3RyaW5nLnJlcGxhY2UoL18uKnxcLi9nLCAnJyk7CiAgICAgIHYgPSBwYXJz
ZUludCh2ICsgJzAnLnRpbWVzKDQtdi5sZW5ndGgpKTsKICAgICAgcmV0dXJuIHZl
cnNpb25TdHJpbmcuaW5kZXhPZignXycpID4gLTEgPyB2LTEgOiB2OwogICAgfQoK
ICAgIGlmKCh0eXBlb2YgUHJvdG90eXBlPT0ndW5kZWZpbmVkJykgfHwKICAgICAg
ICh0eXBlb2YgRWxlbWVudCA9PSAndW5kZWZpbmVkJykgfHwKICAgICAgICh0eXBl
b2YgRWxlbWVudC5NZXRob2RzPT0ndW5kZWZpbmVkJykgfHwKICAgICAgIChjb252
ZXJ0VmVyc2lvblN0cmluZyhQcm90b3R5cGUuVmVyc2lvbikgPAogICAgICAgIGNv
bnZlcnRWZXJzaW9uU3RyaW5nKFNjcmlwdGFjdWxvdXMuUkVRVUlSRURfUFJPVE9U
WVBFKSkpCiAgICAgICB0aHJvdygic2NyaXB0LmFjdWxvLnVzIHJlcXVpcmVzIHRo
ZSBQcm90b3R5cGUgSmF2YVNjcmlwdCBmcmFtZXdvcmsgPj0gIiArCiAgICAgICAg
U2NyaXB0YWN1bG91cy5SRVFVSVJFRF9QUk9UT1RZUEUpOwoKICAgIHZhciBqcyA9
IC9zY3JpcHRhY3Vsb3VzXC5qcyhcPy4qKT8kLzsKICAgICQkKCdoZWFkIHNjcmlw
dFtzcmNdJykuZmluZEFsbChmdW5jdGlvbihzKSB7CiAgICAgIHJldHVybiBzLnNy
Yy5tYXRjaChqcyk7CiAgICB9KS5lYWNoKGZ1bmN0aW9uKHMpIHsKICAgICAgdmFy
IHBhdGggPSBzLnNyYy5yZXBsYWNlKGpzLCAnJyksCiAgICAgIGluY2x1ZGVzID0g
cy5zcmMubWF0Y2goL1w/Lipsb2FkPShbYS16LF0qKS8pOwogICAgICAoaW5jbHVk
ZXMgPyBpbmNsdWRlc1sxXSA6ICdidWlsZGVyLGVmZmVjdHMsZHJhZ2Ryb3AsY29u
dHJvbHMsc2xpZGVyLHNvdW5kJykuc3BsaXQoJywnKS5lYWNoKAogICAgICAgZnVu
Y3Rpb24oaW5jbHVkZSkgeyBTY3JpcHRhY3Vsb3VzLnJlcXVpcmUocGF0aCtpbmNs
dWRlKycuanMnKSB9KTsKICAgIH0pOwogIH0KfTsKClNjcmlwdGFjdWxvdXMubG9h
ZCgpOw==

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=ejp.js
Content-Type: application/x-javascript; charset=utf-8; name=ejp.js
Content-Location: http://compbiol.plosjms.org/html/ejp.js
Content-Transfer-Encoding: Base64

LyogJElkOiBlanAuanMsdiAyNi4wIDIwMDkvMTEvMjUgMTk6MzA6NTkgcGxvdGtp
biBFeHAgJCAqLwoKLy8gRE9NIGxvYWRlZCBldmVudAovLyBQdXQgc3R1ZmYgaW4g
aGVyZSB0aGF0IHNob3VsZCBmaXJlIG9mZiB3aGVuIHRoZSBET00gaXMgcmVhZHkK
ZG9jdW1lbnQub2JzZXJ2ZSgiZG9tOmxvYWRlZCIsIGZ1bmN0aW9uKCkgewoKIAp9
KTsKCi8vIFBsYWNlIGhvbGRlciBvYmplY3QKdmFyIEVqcCA9IHsgfTsKCi8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gRUpQIEF1dG9jb21wbGV0ZXIK
CmlmKHR5cGVvZiBBamF4LkF1dG9jb21wbGV0ZXIgPT0gJ3VuZGVmaW5lZCcpCiAg
dGhyb3coIkVqcC5BdXRvY29tcGxldGVyIHJlcXVpcmVzIGluY2x1ZGluZyBzY3Jp
cHQuYWN1bG8udXMnIGNvbnRyb2xzLmpzIGxpYnJhcnkiKTsKCi8qCiAqIEVqcCBP
cHRpb25zOgogKiAgY3JlYXRlSGlkZGVuSW5wdXRJZCAtIEJvb2xlYW4uICBJZiBz
ZXQgd2lsbCBjcmVhdGUgYSBoaWRkZW4gaW5wdXQgZmllbGQgdG8gc3RvcmUgaWQg
dmFsdWVzCiAqICBoaWRkZW5JbnB1dElkIC0gVGV4dC4gIFRoZSBuYW1lL2lkIG9m
IHRoZSBoaWRkZW4gZmllbGQgdG8gY3JlYXRlIChtdXN0IGJlIHNldCBpZiBjcmVh
dGVIaWRkZW5JbnB1dElkIGlzIHNldCkKICogIGNyZWF0ZUF1dG9Db21wbGV0ZURp
diAtIEJvb2wuICBTZXQgdGhpcyB0byBhdXRtb3RpY2FsbHkgaW5zZXJ0IHRoZSBk
aXYgbmVlZGVkIGZvciB0aGUgYXV0b2NvbXBsZXRlcgogKiAgcmVnZXhNYXRjaCAt
IEJvb2wuICBTZXQgdGhpcyB0byBkbyBhbiBpbiB3b3JkIHJlZ2V4IG1hdGNoLiAo
Tm90ZTogbXVzdCBhbHNvIHBhc3MgJ3JlZ2V4PTEnIG9uIHRoZSBxdWVyeSBzdHJp
bmcKICogIHN0cmlwQWxpYXNlcyAtIEJvb2wuICBTdHJpcCBhbGlhc2VzIHRoYXQg
YXBwZWFyIGluIHBhcmVucy4KICovCgoKRWpwLkF1dG9jb21wbGV0ZXIgPSBDbGFz
cy5jcmVhdGUoQWpheC5BdXRvY29tcGxldGVyLCAKewogICAgICAgICAgICAgIAog
IGluaXRpYWxpemU6IGZ1bmN0aW9uKCRzdXBlciwgZWxlbWVudCwgdXBkYXRlLCB1
cmwsIG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zLmNyZWF0ZUF1dG9Db21wbGV0
ZURpdikgewogICAgICB0aGlzLmluc2VydFNwYW5BbmREaXYoZWxlbWVudCk7CiAg
ICB9CgogICAgaWYgKG9wdGlvbnMuY3JlYXRlSGlkZGVuSW5wdXRJZCkgewogICAg
ICBpZiAob3B0aW9ucy5oaWRkZW5JbnB1dElkID09IG51bGwgfHwgb3B0aW9ucy5o
aWRkZW5JbnB1dElkID09ICcnKSB7CiAgICAgICAgdGhyb3coImhpZGRlbklucHV0
SWQgbm90IHNldCIpOwogICAgICB9CgogICAgICB0aGlzLmluc2VydEhpZGRlbklu
cHV0SWQoZWxlbWVudCwgb3B0aW9ucy5oaWRkZW5JbnB1dElkKTsKICAgIH0KCiAg
ICAkc3VwZXIoZWxlbWVudCwgdXBkYXRlLCB1cmwsIG9wdGlvbnMpOwoKICAgIHRo
aXMuX2Nob2ljZXMgPSBuZXcgQXJyYXkoKTsKICAgIHRoaXMuX2xhc3RUZXh0ID0g
dGhpcy5nZXRUb2tlbigpOwogICAgdGhpcy5fY2hvaWNlc1ZhbGlkID0gZmFsc2U7
CiAgICB0aGlzLl9oYWRUZXh0ID0gdGhpcy5fbGFzdFRleHQubGVuZ3RoOwoKICAg
IC8vIEF1dG8gcG9wdWxhdGUgYW4gSUQgdmFsdWUgd2l0aCB0aGUgYWpheCBkYXRh
CiAgICBpZiAodGhpcy5vcHRpb25zLmhpZGRlbklucHV0SWQgIT0gbnVsbCAmJiB0
aGlzLm9wdGlvbnMuaGlkZGVuSW5wdXRJZCAhPSAnJykgewogICAgICB0aGlzLm9w
dGlvbnMuYWZ0ZXJVcGRhdGVFbGVtZW50ID0gdGhpcy5hZnRlclVwZGF0ZS5iaW5k
KHRoaXMpOwogICAgfQoKICAgIGlmICh0aGlzLm9wdGlvbnMuc3RyaXBBbGlhc2Vz
KSB7CiAgICAgIHRoaXMub3B0aW9ucy51cGRhdGVFbGVtZW50ID0gdGhpcy5iZWZv
cmVVcGRhdGUuYmluZCh0aGlzKTsKICAgIH0KICAgIAogIH0sCgogIGJlZm9yZVVw
ZGF0ZTogZnVuY3Rpb24oc2VsZWN0ZWRFbGVtZW50KSB7CiAgICB2YXIgdmFsdWUg
PSAnJzsKICAgIGlmICh0aGlzLm9wdGlvbnMuc2VsZWN0KSB7CiAgICAgIHZhciBu
b2RlcyA9ICQoc2VsZWN0ZWRFbGVtZW50KS5zZWxlY3QoJy4nICsgdGhpcy5vcHRp
b25zLnNlbGVjdCkgfHwgW107CiAgICAgIGlmKG5vZGVzLmxlbmd0aD4wKSB2YWx1
ZSA9IEVsZW1lbnQuY29sbGVjdFRleHROb2Rlcyhub2Rlc1swXSwgdGhpcy5vcHRp
b25zLnNlbGVjdCk7CiAgICB9IGVsc2UKICAgICAgdmFsdWUgPSBFbGVtZW50LmNv
bGxlY3RUZXh0Tm9kZXNJZ25vcmVDbGFzcyhzZWxlY3RlZEVsZW1lbnQsICdpbmZv
cm1hbCcpOwogICAgCiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1woLipcKS8s
ICcnKS5zdHJpcCgpOyAvLyBSZW1vdmUgYW55dGhpbmcgYmV0d2VlbiBwYXJlbnMg
CgogICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0VG9rZW5Cb3VuZHMoKTsKICAgIGlm
IChib3VuZHNbMF0gIT0gLTEpIHsKICAgICAgdmFyIG5ld1ZhbHVlID0gdGhpcy5l
bGVtZW50LnZhbHVlLnN1YnN0cigwLCBib3VuZHNbMF0pOwogICAgICB2YXIgd2hp
dGVzcGFjZSA9IHRoaXMuZWxlbWVudC52YWx1ZS5zdWJzdHIoYm91bmRzWzBdKS5t
YXRjaCgvXlxzKy8pOwogICAgICBpZiAod2hpdGVzcGFjZSkKICAgICAgICBuZXdW
YWx1ZSArPSB3aGl0ZXNwYWNlWzBdOwogICAgICB0aGlzLmVsZW1lbnQudmFsdWUg
PSBuZXdWYWx1ZSArIHZhbHVlICsgdGhpcy5lbGVtZW50LnZhbHVlLnN1YnN0cihi
b3VuZHNbMV0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5lbGVtZW50LnZhbHVl
ID0gdmFsdWU7CiAgICB9CiAgICB0aGlzLm9sZEVsZW1lbnRWYWx1ZSA9IHRoaXMu
ZWxlbWVudC52YWx1ZTsKICAgIHRoaXMuZWxlbWVudC5mb2N1cygpOwoKICAgIGlm
ICh0aGlzLm9wdGlvbnMuYWZ0ZXJVcGRhdGVFbGVtZW50KQogICAgICB0aGlzLm9w
dGlvbnMuYWZ0ZXJVcGRhdGVFbGVtZW50KHRoaXMuZWxlbWVudCwgc2VsZWN0ZWRF
bGVtZW50KTsKCiAgICAKICB9LAoKICBhZnRlclVwZGF0ZTogZnVuY3Rpb24odGV4
dCwgbGkpIHsKICAgIHZhciBlbCA9ICQodGhpcy5vcHRpb25zLmhpZGRlbklucHV0
SWQpOwogICAgCiAgICBpZiAoZWwpIHsKICAgICAgZWwudmFsdWUgPSBsaS5pZDsK
ICAgIH0KICB9LAoKICBpbnNlcnRIaWRkZW5JbnB1dElkOiBmdW5jdGlvbihpZCwg
bmFtZSkgewogICAgLy8gRG9uJ3QgaW5zZXJ0IGlmIGl0J3MgYWxyZWFkeSB0aGVy
ZQogICAgaWYgKCEkKG5hbWUpKSB7CiAgICAgIEVsZW1lbnQuaW5zZXJ0KGlkLCB7
IGFmdGVyOiAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJyArIG5hbWUgKyci
IGlkPSInICsgbmFtZSArICciIHZhbHVlPSIiIC8+J30pOwogICAgfQogIH0sCiAg
ICAgICAgICAgICAgICAgICAgIAogIGluc2VydFNwYW5BbmREaXY6IGZ1bmN0aW9u
KGlkKSB7CiAgICB2YXIgaHRtbCA9ICcgPHNwYW4gaWQ9ImluZF8nICsgaWQgKyAn
IiBzdHlsZT0iZGlzcGxheTogbm9uZSI+PGltZyBzcmM9ImltYWdlcy9pbmRpY2F0
b3JfdGlueV9yZWQuZ2lmIiBhbHQ9IldvcmtpbmcuLi4iIC8+PC9zcGFuPic7CiAg
ICBodG1sICs9ICc8ZGl2IGlkPSJhdXRvY29tcGxldGVfJyArIGlkICsnIiBjbGFz
cz0iYXV0b2NvbXBsZXRlIj48L2Rpdj4nOwogICAgCiAgICBFbGVtZW50Lmluc2Vy
dChpZCwge2FmdGVyOiBodG1sfSk7CiAgfSwKCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAKICBnZXRVcGRhdGVkQ2hvaWNlczogZnVuY3Rpb24o
JHN1cGVyKSB7CiAgICAvLyBPbmx5IGdldCB1cGRhdGVzIHdoZW4gbW9zdCBvZiB0
aGUgdGV4dCBjaGFuZ2VzCiAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0VG9rZW4oKTsK
ICAgIAogICAgLy8gSWYgdGhlIHN0YXJ0IG9mIHRoZSB0ZXh0IGNoYW5nZWQsIGdv
dHRhIGdldCBhIHdob2xlIG5ldyBiYXRjaAogICAgaWYgKCF0ZXh0LnN0YXJ0c1dp
dGgodGhpcy5fbGFzdFRleHQuc3Vic3RyKDAsIHRoaXMub3B0aW9ucy5taW5DaGFy
cykpKSB7CiAgICAgIHRoaXMuX2Nob2ljZXNWYWxpZCA9IGZhbHNlOwogICAgfQoK
ICAgIC8vIElmIHRoZXJlIHdhcyB0ZXh0IHRoZXJlIGJlZm9yZSBhbmQgaXQgZ290
IHNob3J0ZXIsIG5lZWQgYSBuZXcgYmF0Y2gKICAgIGlmICh0aGlzLl9oYWRUZXh0
ICYmIHRleHQubGVuZ3RoIDwgdGhpcy5fbGFzdFRleHQubGVuZ3RoKSB7CiAgICAg
IHRoaXMuX2Nob2ljZXNWYWxpZCA9IGZhbHNlOwogICAgfQoKICAgIC8vIERvbid0
IGNhcmUgaWYgdGhlcmUgd2FzIGFscmVhZHkgdGV4dCBpZiB0aGUgbGVuZ3RoIGlz
IHNtYWxsZXIgdGhhbiB0aGUgZmlyc3QgcXVlcnkKICAgIGlmICh0ZXh0Lmxlbmd0
aCA8PSB0aGlzLm9wdGlvbnMubWluQ2hhcnMpIHsKICAgICAgdGhpcy5faGFkVGV4
dCA9IGZhbHNlOwogICAgfQoKICAgIHRoaXMuX2xhc3RUZXh0ID0gdGV4dDsKCiAg
ICBpZiAodGhpcy5fY2hvaWNlc1ZhbGlkKSB7CiAgICAgIHRoaXMudXBkYXRlQ2hv
aWNlcyh0aGlzLmZpbHRlckNob2ljZXMoKSk7CiAgICAgIHJldHVybjsKICAgIH0K
CiAgICAkc3VwZXIoKTsKICB9LAoKICBoaWRlOiBmdW5jdGlvbigkc3VwZXIpIHsK
ICAgIHRoaXMuX2Nob2ljZXNWYWxpZCA9IGZhbHNlOwogICAgdGhpcy5fbGFzdFRl
eHQgPSAnJzsKICAgIAogICAgJHN1cGVyKCk7CiAgfSwKCiAgCiAgZmlsdGVyQ2hv
aWNlczogZnVuY3Rpb24oKSB7CiAgICB2YXIgY2hvaWNlcyA9IG5ldyBBcnJheSgp
OwogICAgdmFyIHRleHQgPSB0aGlzLmdldFRva2VuKCk7CiAgICB2YXIgbGVuID0g
dGV4dC5sZW5ndGg7CiAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHRleHQsICdpJyk7
CgogICAgZm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLl9jaG9pY2VzLmxlbmd0aDsg
eCsrKSB7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVnZXhNYXRjaCkgewogICAg
ICAgIGlmIChyZS50ZXN0KHRoaXMuX2Nob2ljZXNbeF0pKSB7CiAgICAgICAgICBj
aG9pY2VzLnB1c2godGhpcy5fY2hvaWNlc1t4XSk7CiAgICAgICAgfQogICAgICB9
CiAgICAgIGVsc2UgewogICAgICAgIHZhciBlbCA9IHRoaXMuX2Nob2ljZXNbeF0u
c3Vic3RyKDAsIGxlbik7CiAgICAgICAgCiAgICAgICAgaWYgKHRleHQudG9Mb3dl
ckNhc2UoKSA9PSBlbC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjaG9pY2Vz
LnB1c2godGhpcy5fY2hvaWNlc1t4XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9
CgogICAgcmV0dXJuIGNob2ljZXM7CiAgfSwKCiAgICAvLyAnY2hvaWNlcycgd2ls
bCBiZSBhbiBhcnJheSBpbnN0ZWFkIG9mIGFuIHVub3JkZXJlZCBsaXN0CiAgdXBk
YXRlQ2hvaWNlczogZnVuY3Rpb24oJHN1cGVyLCBjaG9pY2VzKSB7CiAgICB2YXIg
dGV4dCA9IHRoaXMuZ2V0VG9rZW4oKTsKICAgIAogICAgdmFyIGh0bWwgPSAnPHVs
Pic7CiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNob2ljZXMubGVuZ3RoOyB4Kysp
IHsKICAgICAgaWYgKGNob2ljZXNbeF0gPT0gJycpIGNvbnRpbnVlOwogICAgICB2
YXIgcGFydHMgPSBjaG9pY2VzW3hdLnNwbGl0KCc7OycpOwoKCiAgICAgIGlmICh0
aGlzLm9wdGlvbnMucmVnZXhNYXRjaCkgewogICAgICAgIHZhciByZWdleCA9IG5l
dyBSZWdFeHAoJygnICsgdGV4dCArICcpJywgJ2lnJyk7CiAgICAgICAgcGFydHNb
MF0gPSBwYXJ0c1swXS5yZXBsYWNlKHJlZ2V4LCAnPHNwYW4gY2xhc3M9ImF1dG9j
b21wbGV0ZV9yZWdleCI+JDE8L3NwYW4+Jyk7CiAgICAgIH0KCiAgICAgIGh0bWwg
Kz0gJzxsaSBpZD0iJyArIHBhcnRzWzFdICsnIj4nICsgcGFydHNbMF0gKyAnPC9s
aT4nOwogICAgfQogICAgaHRtbCArPSAnPC91bD4nOwoKICAgIC8vIFRleHQgY2hh
bmdlZCwgYmxhbmsgb3V0IHRoZSBvbGQgaWQKICAgIGlmICh0aGlzLm9wdGlvbnMu
aGlkZGVuSW5wdXRJZCAhPSBudWxsICYmIHRoaXMub3B0aW9ucy5oaWRkZW5JbnB1
dElkICE9ICcnKSB7CiAgICAgICQodGhpcy5vcHRpb25zLmhpZGRlbklucHV0SWQp
LnZhbHVlID0gJyc7CiAgICB9CgogICAgLy8gPz8/Pz8KICAgIHRoaXMudXBkYXRl
LnNjcm9sbFRvcCA9IDA7CgogICAgJHN1cGVyKGh0bWwpOwogIH0sCgogIG9uQ29t
cGxldGU6IGZ1bmN0aW9uKHJlcXVlc3QpIHsKICAgIHRoaXMuX2Nob2ljZXNWYWxp
ZCA9IHRydWU7CiAgICB0aGlzLl9jaG9pY2VzID0gcmVxdWVzdC5yZXNwb25zZVRl
eHQuc3BsaXQoJ3x8Jyk7IC8vIHNhdmUgb2ZmIHRoZSBjaG9pY2VzCiAgICB0aGlz
LnVwZGF0ZUNob2ljZXModGhpcy5fY2hvaWNlcyk7CiAgfSwKCiAgICAvLyBzY3Jp
cHRhY3Vsb3VzIGJ1ZyBmaXgKICBtYXJrUHJldmlvdXM6IGZ1bmN0aW9uKCkgewog
ICAgaWYodGhpcy5pbmRleCA+IDApIHt0aGlzLmluZGV4LS07fQogICAgZWxzZSB7
CiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmVudHJ5Q291bnQtMTsKICAgICAgdGhp
cy51cGRhdGUuc2Nyb2xsVG9wID0gdGhpcy51cGRhdGUuc2Nyb2xsSGVpZ2h0Owog
ICAgfQogICAgc2VsZWN0aW9uID0gdGhpcy5nZXRFbnRyeSh0aGlzLmluZGV4KTsK
ICAgIHNlbGVjdGlvbl90b3AgPSBzZWxlY3Rpb24ub2Zmc2V0VG9wOwogICAgaWYo
c2VsZWN0aW9uX3RvcCA8IHRoaXMudXBkYXRlLnNjcm9sbFRvcCl7CiAgICAgIHRo
aXMudXBkYXRlLnNjcm9sbFRvcCA9IHRoaXMudXBkYXRlLnNjcm9sbFRvcC1zZWxl
Y3Rpb24ub2Zmc2V0SGVpZ2h0OwogICAgfQogIH0sCiAgICAKICAgIC8vIHNjcmlw
dGFjdWxvdXMgYnVnIGZpeAogIG1hcmtOZXh0OiBmdW5jdGlvbigpIHsKICAgIGlm
KHRoaXMuaW5kZXggPCB0aGlzLmVudHJ5Q291bnQtMSkge3RoaXMuaW5kZXgrKzt9
CiAgICBlbHNlIHsKICAgICAgdGhpcy5pbmRleCA9IDA7CiAgICAgIHRoaXMudXBk
YXRlLnNjcm9sbFRvcCA9IDA7CiAgICB9CiAgICBzZWxlY3Rpb24gPSB0aGlzLmdl
dEVudHJ5KHRoaXMuaW5kZXgpOwogICAgc2VsZWN0aW9uX2JvdHRvbSA9IHNlbGVj
dGlvbi5vZmZzZXRUb3Arc2VsZWN0aW9uLm9mZnNldEhlaWdodDsKICAgIGlmKHNl
bGVjdGlvbl9ib3R0b20gPiB0aGlzLnVwZGF0ZS5zY3JvbGxUb3ArdGhpcy51cGRh
dGUub2Zmc2V0SGVpZ2h0KXsKICAgICAgdGhpcy51cGRhdGUuc2Nyb2xsVG9wID0g
dGhpcy51cGRhdGUuc2Nyb2xsVG9wK3NlbGVjdGlvbi5vZmZzZXRIZWlnaHQ7CiAg
ICB9CiAgfQoKICAgIC8qCiAgbWFya1ByZXZpb3VzOiBmdW5jdGlvbigpIHsKICAg
IGlmKHRoaXMuaW5kZXggPiAwKSB0aGlzLmluZGV4LS07CiAgICAgIGVsc2UgdGhp
cy5pbmRleCA9IHRoaXMuZW50cnlDb3VudC0xOwogICAgdGhpcy5nZXRFbnRyeSh0
aGlzLmluZGV4KS5zY3JvbGxJbnRvVmlldyhmYWxzZSk7CiAgICB9Ki8KICAgICAg
Cn0pOwoKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gT3JnYW5p
emF0aW9ucwoKdmFyIG9yZ0VkaXRvciA9IG51bGw7IC8vIElubGluZSBlZGl0b3Ig
Zm9yIHRoZSBvcmcKZnVuY3Rpb24gbW9kaWZ5T3JnKG9yZ19pZCkgewogIC8vIENs
ZWFuIHVwIHRoZSBvbGQgb25lIGZpcnN0CiAgaWYgKG9yZ0VkaXRvciAhPSBudWxs
KSB7CiAgICBvcmdFZGl0b3IuaGFuZGxlRm9ybUNhbmNlbGxhdGlvbigpOwogICAg
b3JnRWRpdG9yLmRpc3Bvc2UoKTsKICB9CgogIG9yZ0VkaXRvciA9IG5ldyBBamF4
LkluUGxhY2VFZGl0b3IoJ29yZ18nICsgb3JnX2lkLCBicmVmICsgJy8nICsgcHJv
Z19iYXNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ29u
dHJvbDogZmFsc2UsIC8vIFRoaXMgaXMgRkFMU0UgYmVjYXVlcyBJRSBoYXMgbWFq
b3IgcHJvYmxlbXMgd2l0aCB0aGUgY2FuY2VsIGJ1dHRvbgogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oZm9y
bSwgdmFsdWUpIHsgcmV0dXJuICdmb3JtX3R5cGU9Y2ZnX29yZ19tb2RpZnlfYWph
eCZvcmdfaWQ9JyArIG9yZ19pZCArICcmdmFsdWU9JyArIGVzY2FwZSh2YWx1ZSk7
IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25D
b21wbGV0ZTogZnVuY3Rpb24oKSB7IHRoaXMuZGlzcG9zZSgpOyB0aGlzLmVsZW1l
bnQudGl0bGUgPSAnJzsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgfSk7CiAgb3JnRWRpdG9yLmVudGVyRWRpdE1vZGUoKTsKfQoKZnVuY3Rp
b24gZGVsZXRlT3JnKG9yZ19pZCkgewogIHZhciBlbCA9ICQoJ29yZ19pZF8nICsg
b3JnX2lkKTsKICBpZiAoZWwpIHsKICAgIG5ldyBBamF4LlJlcXVlc3QoYnJlZiAr
ICcvJyArIHByb2dfYmFzZSwKICAgICAgICAgICAgICAgICAgICAgewogICAgICAg
ICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6ICRIKHsgZm9ybV90eXBlOiAnY2Zn
X29yZ19kZWxldGVfYWpheCcsICdvcmdfaWQnOiBvcmdfaWQgfSksCiAgICAgICAg
ICAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHQpIHsgZWwuZmFk
ZSgpOyB9CiAgICAgICAgICAgICAgICAgICAgIH0pOwoKICB9Cn0KCmZ1bmN0aW9u
IGNoZWNrQnVsa09yZ0ltcG9ydCgpIHsKICBpZiAoJCgnYnVsa19vcmdfZmlsZScp
LnZhbHVlID09ICcnKSB7CiAgICBhbGVydCgnRmlsZSBuYW1lIGlzIHJlcXVpcmVk
Jyk7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBpZiAoJCgnZmlsZXR5cGVfcmVw
bGFjZScpLmNoZWNrZWQpIHsKICAgIHJldHVybiBjb25maXJtKCdZb3UgaGF2ZSBj
aG9zZW4gdG8gcmVwbGFjZSBldmVyeSBlbnRyeSBpbiB0aGUgZGF0YWJhc2UuICBB
cmUgeW91IHN1cmUgdGhlIGZpbGUgeW91IGhhdmUgc2VsZWN0ZWQgdG8gdXBsb2Fk
IGlzIGNvbXBsZXRlIGFuZCBjb3JyZWN0PycpOwogIH0KCn0KCi8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gV29yZExpc3RzCgp2YXIgd2xFZGl0b3Ig
PSBudWxsOyAvLyBJbmxpbmUgZWRpdG9yIGZvciB0aGUgd2wKZnVuY3Rpb24gd2xf
bW9kaWZ5V29yZCh3bF9pZCkgewogIC8vIENsZWFuIHVwIHRoZSBvbGQgb25lIGZp
cnN0CiAgaWYgKHdsRWRpdG9yICE9IG51bGwpIHsKICAgIHdsRWRpdG9yLmhhbmRs
ZUZvcm1DYW5jZWxsYXRpb24oKTsKICAgIHdsRWRpdG9yLmRpc3Bvc2UoKTsKICB9
CgogIHdsRWRpdG9yID0gbmV3IEFqYXguSW5QbGFjZUVkaXRvcignd2xfJyArIHds
X2lkLCBicmVmICsgJy8nICsgcHJvZ19iYXNlLCAKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgY2FuY2VsQ29udHJvbDogZmFsc2UsIC8vIFRoaXMgaXMgRkFM
U0UgYmVjYXVlcyBJRSBoYXMgbWFqb3IgcHJvYmxlbXMgd2l0aCB0aGUgY2FuY2Vs
IGJ1dHRvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBj
YWxsYmFjazogZnVuY3Rpb24oZm9ybSwgdmFsdWUpIHsgcmV0dXJuICdmb3JtX3R5
cGU9Y2ZnX3dsX21vZGlmeV9hamF4JndsX2lkPScgKyB3bF9pZCArICcmdmFsdWU9
JyArIGVzY2FwZSh2YWx1ZSk7IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7IHRoaXMuZGlz
cG9zZSgpOyB0aGlzLmVsZW1lbnQudGl0bGUgPSAnJzsgfQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgd2xFZGl0b3IuZW50ZXJFZGl0
TW9kZSgpOwp9CgpmdW5jdGlvbiB3bF9kZWxldGVXb3JkKHdsX2lkKSB7CiAgdmFy
IGVsID0gJCgnd2xfaWRfJyArIHdsX2lkKTsKICBpZiAoZWwgJiYgY29uZmlybSgn
QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHdvcmQgYW5kIGFs
bCBvZiBpdFwncyBhbGlhc2VzPycpKSB7CiAgICBuZXcgQWpheC5SZXF1ZXN0KGJy
ZWYgKyAnLycgKyBwcm9nX2Jhc2UsCiAgICAgICAgICAgICAgICAgICAgIHsKICAg
ICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiAkSCh7IGZvcm1fdHlwZTog
J2NmZ193bF9kZWxldGVfYWpheCcsICd3bF9pZCc6IHdsX2lkIH0pLAogICAgICAg
ICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbih0KSB7IGVsLmZh
ZGUoKTsgfQogICAgICAgICAgICAgICAgICAgICB9KTsKCiAgfQp9CgovLyBTaG93
IHRoZSBlZGl0IHRhYmxlCmZ1bmN0aW9uIHdsX2VkaXRBbGlhc2VzKHdsX2lkLCBs
aW5rKSB7CgogICQoJ3dsX2FsaWFzX2VkaXRfYm94JykuaW5uZXJIVE1MID0gJzxp
bWFnZSBzcmM9Ii9pbWFnZXMvaW5kaWNhdG9yX3RpbnlfcmVkLmdpZiI+IDxzdHJv
bmc+TG9hZGluZyBBbGlhc2VzLi4uPC9zdHJvbmc+JzsKICBlbGVtZW50ID0gJChs
aW5rKTsKICBFbGVtZW50LmNsb25lUG9zaXRpb24oJ3dsX2FsaWFzX2VkaXRfYm94
JywgbGluaywgeyBzZXRIZWlnaHQ6ZmFsc2UsIHNldFdpZHRoOmZhbHNlLCBvZmZz
ZXRUb3A6ZWxlbWVudC5vZmZzZXRIZWlnaHQrNCwgb2Zmc2V0TGVmdDotMjg1IH0p
OwogICQoJ3dsX2FsaWFzX2VkaXRfYm94Jykuc3R5bGUuZGlzcGxheT0nYmxvY2sn
OwogIAogIG5ldyBBamF4LlJlcXVlc3QoYnJlZiArICcvJyArIHByb2dfYmFzZSwK
ICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgIHBhcmFtZXRl
cnM6ICRIKHsgZm9ybV90eXBlOiAnY2ZnX3dsX2VkaXRfYWxpYXNlc19hamF4Jywg
J3dsX2lkJzogd2xfaWR9KSwKICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nl
c3M6IGZ1bmN0aW9uKHQpIHsgJCgnd2xfYWxpYXNfZWRpdF9ib3gnKS5pbm5lckhU
TUwgPSB0LnJlc3BvbnNlVGV4dDsgfQogICAgICAgICAgICAgICAgICAgfSk7Cgog
IHJldHVybjsKICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAvLyBERUxFVEUgTUUh
ISEhIQogICQoJ3dsX2FsaWFzXycgKyB3bF9pZCkuc2hvdygpOwogICQoJ3dsX2Fs
aWFzX3RkXycgKyB3bF9pZCkuaW5uZXJIVE1MID0gJzxpbWFnZSBzcmM9Ii9pbWFn
ZXMvaW5kaWNhdG9yX3RpbnlfcmVkLmdpZiI+IDxzdHJvbmc+TG9hZGluZyBBbGlh
c2VzLi4uPC9zdHJvbmc+JzsKICAKICBuZXcgQWpheC5SZXF1ZXN0KGJyZWYgKyAn
LycgKyBwcm9nX2Jhc2UsCiAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAg
ICAgICAgICBwYXJhbWV0ZXJzOiAkSCh7IGZvcm1fdHlwZTogJ2NmZ193bF9lZGl0
X2FsaWFzZXNfYWpheCcsICd3bF9pZCc6IHdsX2lkfSksCiAgICAgICAgICAgICAg
ICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbih0KSB7ICQoJ3dsX2FsaWFzX3Rk
XycgKyB3bF9pZCkuaW5uZXJIVE1MID0gdC5yZXNwb25zZVRleHQ7IH0KICAgICAg
ICAgICAgICAgICAgIH0pOwp9CgoKZnVuY3Rpb24gd2xfY2xvc2VFZGl0QWxpYXNl
cygpIHsKICBuZXcgRWZmZWN0LkJsaW5kVXAoJ3dsX2FsaWFzX2VkaXRfYm94Jyk7
Cn0KCgpmdW5jdGlvbiB3bF9hZGRBbGlhcyh3bF9pZCkgewogIHZhciB0ZXh0ID0g
JCgnd2xfbmV3X2FsaWFzXycgKyB3bF9pZCkudmFsdWU7CgogIG5ldyBBamF4LlJl
cXVlc3QoYnJlZiArICcvJyArIHByb2dfYmFzZSwKICAgICAgICAgICAgICAgICAg
IHsKICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6ICRIKHsgZm9ybV90eXBl
OiAnY2ZnX3dsX2FkZF9hbGlhc19hamF4JywgJ3dsX2lkJzogd2xfaWQsICd3b3Jk
YWxpYXMnOiB0ZXh0IH0pLAogICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2Vz
czogZnVuY3Rpb24odCkgeyAgCiAgICAgICAgICAgICAgICAgICAgICAgJCgnd2xf
bmV3X2FsaWFzXycgKyB3bF9pZCkudmFsdWUgPSAnJzsgLy8gY2xlYXIgdGhlIGZp
ZWxkCiAgICAgICAgICAgICAgICAgICAgICAgJCgnd2xfYWxpYXNfdGFibGVfJyAr
IHdsX2lkKS5pbnNlcnQoe2JvdHRvbTogdC5yZXNwb25zZVRleHR9KTsgLy8gYWRk
IHRoZSBhbGlhcyB0byB0aGUgdGFibGUKICAgICAgICAgICAgICAgICAgICAgICB9
CiAgICAgICAgICAgICAgICAgICAgIH0pOwp9CgoKZnVuY3Rpb24gd2xhX21vZGlm
eVdvcmQod2xhX2lkKSB7CiAgLy8gQ2xlYW4gdXAgdGhlIG9sZCBvbmUgZmlyc3QK
ICBpZiAod2xFZGl0b3IgIT0gbnVsbCkgewogICAgd2xFZGl0b3IuaGFuZGxlRm9y
bUNhbmNlbGxhdGlvbigpOwogICAgd2xFZGl0b3IuZGlzcG9zZSgpOwogIH0KCiAg
d2xFZGl0b3IgPSBuZXcgQWpheC5JblBsYWNlRWRpdG9yKCd3bGFfJyArIHdsYV9p
ZCwgYnJlZiArICcvJyArIHByb2dfYmFzZSwgCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNhbmNlbENvbnRyb2w6IGZhbHNlLCAvLyBUaGlzIGlzIEZBTFNF
IGJlY2F1ZXMgSUUgaGFzIG1ham9yIHByb2JsZW1zIHdpdGggdGhlIGNhbmNlbCBi
dXR0b24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Fs
bGJhY2s6IGZ1bmN0aW9uKGZvcm0sIHZhbHVlKSB7IHJldHVybiAnZm9ybV90eXBl
PWNmZ193bF9tb2RpZnlfYWxpYXNfYWpheCZ3bGFfaWQ9JyArIHdsYV9pZCArICcm
dmFsdWU9JyArIGVzY2FwZSh2YWx1ZSk7IH0sCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7IHRo
aXMuZGlzcG9zZSgpOyB0aGlzLmVsZW1lbnQudGl0bGUgPSAnJzsgfQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgd2xFZGl0b3IuZW50
ZXJFZGl0TW9kZSgpOwp9CgpmdW5jdGlvbiB3bGFfZGVsZXRlV29yZCh3bGFfaWQp
IHsKICB2YXIgZWwgPSAkKCd3bGFfaWRfJyArIHdsYV9pZCk7CiAgaWYgKGVsICYm
IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBh
bGlhcz8nKSkgewogICAgbmV3IEFqYXguUmVxdWVzdChicmVmICsgJy8nICsgcHJv
Z19iYXNlLAogICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAg
ICAgICAgcGFyYW1ldGVyczogJEgoeyBmb3JtX3R5cGU6ICdjZmdfd2xfZGVsZXRl
X2FsaWFzX2FqYXgnLCAnd2xhX2lkJzogd2xhX2lkIH0pLAogICAgICAgICAgICAg
ICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbih0KSB7IGVsLmZhZGUoKTsg
fQogICAgICAgICAgICAgICAgICAgICB9KTsKCiAgfQp9CgpmdW5jdGlvbiB3bF9j
aGVja0J1bGtXb3JkTGlzdEltcG9ydCgpIHsKICBpZiAoJCgnYnVsa193bF9maWxl
JykudmFsdWUgPT0gJycpIHsKICAgIGFsZXJ0KCdGaWxlIG5hbWUgaXMgcmVxdWly
ZWQnKTsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGlmICgkKCdmaWxldHlwZV9y
ZXBsYWNlJykuY2hlY2tlZCkgewogICAgcmV0dXJuIGNvbmZpcm0oJ1lvdSBoYXZl
IGNob3NlbiB0byByZXBsYWNlIGV2ZXJ5IGVudHJ5IGluIHRoZSBkYXRhYmFzZS4g
IEFyZSB5b3Ugc3VyZSB0aGUgZmlsZSB5b3UgaGF2ZSBzZWxlY3RlZCB0byB1cGxv
YWQgaXMgY29tcGxldGUgYW5kIGNvcnJlY3Q/Jyk7CiAgfQoKfQoKCi8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gQXV0byByZXNpemUgdGV4dCBhcmVh
cwp2YXIgUmVzaXppbmdUZXh0QXJlYSA9IENsYXNzLmNyZWF0ZSh7CiAgZGVmYXVs
dFJvd3M6IDEsCiAgICAgIAogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGZpZWxkKSB7
CiAgICB0aGlzLmRlZmF1bHRSb3dzID0gTWF0aC5tYXgoZmllbGQucm93cywgMSk7
CiAgICB0aGlzLnJlc2l6ZU5lZWRlZCA9IHRoaXMucmVzaXplTmVlZGVkLmJpbmRB
c0V2ZW50TGlzdGVuZXIodGhpcyk7CiAgICBFdmVudC5vYnNlcnZlKGZpZWxkLCAi
Y2xpY2siLCB0aGlzLnJlc2l6ZU5lZWRlZCk7CiAgICBFdmVudC5vYnNlcnZlKGZp
ZWxkLCAia2V5dXAiLCB0aGlzLnJlc2l6ZU5lZWRlZCk7CiAgfSwKICAKICByZXNp
emVOZWVkZWQ6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICB2YXIgdCA9IEV2ZW50LmVs
ZW1lbnQoZXZlbnQpOwogICAgdmFyIGxpbmVzID0gdC52YWx1ZS5zcGxpdCgnXG4n
KTsKICAgIHZhciBuZXdSb3dzID0gbGluZXMubGVuZ3RoICsgMTsKICAgIHZhciBv
bGRSb3dzID0gdC5yb3dzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5s
ZW5ndGg7IGkrKykgewogICAgICB2YXIgbGluZSA9IGxpbmVzW2ldOwogICAgICBp
ZiAobGluZS5sZW5ndGggPj0gdC5jb2xzKSBuZXdSb3dzICs9IE1hdGguZmxvb3Io
bGluZS5sZW5ndGggLyB0LmNvbHMpOwogICAgfQogICAgaWYgKG5ld1Jvd3MgPiB0
LnJvd3MpIHQucm93cyA9IG5ld1Jvd3M7CiAgICBpZiAobmV3Um93cyA8IHQucm93
cykgdC5yb3dzID0gTWF0aC5tYXgodGhpcy5kZWZhdWx0Um93cywgbmV3Um93cyk7
CiAgfQoKfSk7CgoKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8g
SGVscGVyIHN0dWZmCgovLyBBIHJlYWxseSBuaWNlIGJyb3dzZXIgZGV0ZWN0aW9u
IGRlYWx5CnZhciBCcm93c2VyRGV0ZWN0ID0gewoJaW5pdDogZnVuY3Rpb24gKCkg
ewoJCXRoaXMuYnJvd3NlciA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZGF0YUJy
b3dzZXIpIHx8ICJBbiB1bmtub3duIGJyb3dzZXIiOwoJCXRoaXMudmVyc2lvbiA9
IHRoaXMuc2VhcmNoVmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50KQoJCQl8fCB0
aGlzLnNlYXJjaFZlcnNpb24obmF2aWdhdG9yLmFwcFZlcnNpb24pCgkJCXx8ICJh
biB1bmtub3duIHZlcnNpb24iOwoJCXRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmlu
Zyh0aGlzLmRhdGFPUykgfHwgImFuIHVua25vd24gT1MiOwoJfSwKCXNlYXJjaFN0
cmluZzogZnVuY3Rpb24gKGRhdGEpIHsKCQlmb3IgKHZhciBpPTA7aTxkYXRhLmxl
bmd0aDtpKyspCXsKCQkJdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZzsK
CQkJdmFyIGRhdGFQcm9wID0gZGF0YVtpXS5wcm9wOwoJCQl0aGlzLnZlcnNpb25T
ZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5p
ZGVudGl0eTsKCQkJaWYgKGRhdGFTdHJpbmcpIHsKCQkJCWlmIChkYXRhU3RyaW5n
LmluZGV4T2YoZGF0YVtpXS5zdWJTdHJpbmcpICE9IC0xKQoJCQkJCXJldHVybiBk
YXRhW2ldLmlkZW50aXR5OwoJCQl9CgkJCWVsc2UgaWYgKGRhdGFQcm9wKQoJCQkJ
cmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7CgkJfQoJfSwKCXNlYXJjaFZlcnNpb246
IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7CgkJdmFyIGluZGV4ID0gZGF0YVN0cmlu
Zy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7CgkJaWYgKGluZGV4
ID09IC0xKSByZXR1cm47CgkJcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5z
dWJzdHJpbmcoaW5kZXgrdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nLmxlbmd0aCsx
KSk7Cgl9LAoJZGF0YUJyb3dzZXI6IFsKCQl7IAlzdHJpbmc6IG5hdmlnYXRvci51
c2VyQWdlbnQsCgkJCXN1YlN0cmluZzogIk9tbmlXZWIiLAoJCQl2ZXJzaW9uU2Vh
cmNoOiAiT21uaVdlYi8iLAoJCQlpZGVudGl0eTogIk9tbmlXZWIiCgkJfSwKCQl7
CgkJCXN0cmluZzogbmF2aWdhdG9yLnZlbmRvciwKCQkJc3ViU3RyaW5nOiAiQXBw
bGUiLAoJCQlpZGVudGl0eTogIlNhZmFyaSIKCQl9LAoJCXsKCQkJcHJvcDogd2lu
ZG93Lm9wZXJhLAoJCQlpZGVudGl0eTogIk9wZXJhIgoJCX0sCgkJewoJCQlzdHJp
bmc6IG5hdmlnYXRvci52ZW5kb3IsCgkJCXN1YlN0cmluZzogImlDYWIiLAoJCQlp
ZGVudGl0eTogImlDYWIiCgkJfSwKCQl7CgkJCXN0cmluZzogbmF2aWdhdG9yLnZl
bmRvciwKCQkJc3ViU3RyaW5nOiAiS0RFIiwKCQkJaWRlbnRpdHk6ICJLb25xdWVy
b3IiCgkJfSwKCQl7CgkJCXN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCwKCQkJ
c3ViU3RyaW5nOiAiRmlyZWZveCIsCgkJCWlkZW50aXR5OiAiRmlyZWZveCIKCQl9
LAoJCXsKCQkJc3RyaW5nOiBuYXZpZ2F0b3IudmVuZG9yLAoJCQlzdWJTdHJpbmc6
ICJDYW1pbm8iLAoJCQlpZGVudGl0eTogIkNhbWlubyIKCQl9LAoJCXsJCS8vIGZv
ciBuZXdlciBOZXRzY2FwZXMgKDYrKQoJCQlzdHJpbmc6IG5hdmlnYXRvci51c2Vy
QWdlbnQsCgkJCXN1YlN0cmluZzogIk5ldHNjYXBlIiwKCQkJaWRlbnRpdHk6ICJO
ZXRzY2FwZSIKCQl9LAoJCXsKCQkJc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50
LAoJCQlzdWJTdHJpbmc6ICJNU0lFIiwKCQkJaWRlbnRpdHk6ICJFeHBsb3JlciIs
CgkJCXZlcnNpb25TZWFyY2g6ICJNU0lFIgoJCX0sCgkJewoJCQlzdHJpbmc6IG5h
dmlnYXRvci51c2VyQWdlbnQsCgkJCXN1YlN0cmluZzogIkdlY2tvIiwKCQkJaWRl
bnRpdHk6ICJNb3ppbGxhIiwKCQkJdmVyc2lvblNlYXJjaDogInJ2IgoJCX0sCgkJ
eyAJCS8vIGZvciBvbGRlciBOZXRzY2FwZXMgKDQtKQoJCQlzdHJpbmc6IG5hdmln
YXRvci51c2VyQWdlbnQsCgkJCXN1YlN0cmluZzogIk1vemlsbGEiLAoJCQlpZGVu
dGl0eTogIk5ldHNjYXBlIiwKCQkJdmVyc2lvblNlYXJjaDogIk1vemlsbGEiCgkJ
fQoJXSwKCWRhdGFPUyA6IFsKCQl7CgkJCXN0cmluZzogbmF2aWdhdG9yLnBsYXRm
b3JtLAoJCQlzdWJTdHJpbmc6ICJXaW4iLAoJCQlpZGVudGl0eTogIldpbmRvd3Mi
CgkJfSwKCQl7CgkJCXN0cmluZzogbmF2aWdhdG9yLnBsYXRmb3JtLAoJCQlzdWJT
dHJpbmc6ICJNYWMiLAoJCQlpZGVudGl0eTogIk1hYyIKCQl9LAoJCXsKCQkJc3Ry
aW5nOiBuYXZpZ2F0b3IucGxhdGZvcm0sCgkJCXN1YlN0cmluZzogIkxpbnV4IiwK
CQkJaWRlbnRpdHk6ICJMaW51eCIKCQl9CgldCgp9OwpCcm93c2VyRGV0ZWN0Lmlu
aXQoKTsKCgovKioKKgoqIFVSTCBlbmNvZGUgLyBkZWNvZGUKKiBodHRwOi8vd3d3
LndlYnRvb2xraXQuaW5mby8KKgoqKi8KCnZhciBVcmwgPSB7CiAgCiAgLy8gcHVi
bGljIG1ldGhvZCBmb3IgdXJsIGVuY29kaW5nCiAgZW5jb2RlIDogZnVuY3Rpb24g
KHN0cmluZykgewogICAgcmV0dXJuIGVzY2FwZSh0aGlzLl91dGY4X2VuY29kZShz
dHJpbmcpKTsKICB9LAogIAogIC8vIHB1YmxpYyBtZXRob2QgZm9yIHVybCBkZWNv
ZGluZwogIGRlY29kZSA6IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiB0
aGlzLl91dGY4X2RlY29kZSh1bmVzY2FwZShzdHJpbmcpKTsKICB9LAogIAogIC8v
IHByaXZhdGUgbWV0aG9kIGZvciBVVEYtOCBlbmNvZGluZwogIF91dGY4X2VuY29k
ZSA6IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBs
YWNlKC9cclxuL2csIlxuIik7CiAgICB2YXIgdXRmdGV4dCA9ICIiOwogICAgCiAg
ICBmb3IgKHZhciBuID0gMDsgbiA8IHN0cmluZy5sZW5ndGg7IG4rKykgewogICAg
ICAKICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChuKTsKICAgICAgCiAg
ICAgIGlmIChjIDwgMTI4KSB7CiAgICAgICAgdXRmdGV4dCArPSBTdHJpbmcuZnJv
bUNoYXJDb2RlKGMpOwogICAgICB9CiAgICAgIGVsc2UgaWYoKGMgPiAxMjcpICYm
IChjIDwgMjA0OCkpIHsKICAgICAgICB1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hh
ckNvZGUoKGMgPj4gNikgfCAxOTIpOwogICAgICAgIHV0ZnRleHQgKz0gU3RyaW5n
LmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7CiAgICAgIH0KICAgICAgZWxz
ZSB7CiAgICAgICAgdXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+
IDEyKSB8IDIyNCk7CiAgICAgICAgdXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJD
b2RlKCgoYyA+PiA2KSAmIDYzKSB8IDEyOCk7CiAgICAgICAgdXRmdGV4dCArPSBT
dHJpbmcuZnJvbUNoYXJDb2RlKChjICYgNjMpIHwgMTI4KTsKICAgICAgfQogICAg
ICAKICAgIH0KICAgIAogICAgcmV0dXJuIHV0ZnRleHQ7CiAgfSwKICAKICAvLyBw
cml2YXRlIG1ldGhvZCBmb3IgVVRGLTggZGVjb2RpbmcKICBfdXRmOF9kZWNvZGUg
OiBmdW5jdGlvbiAodXRmdGV4dCkgewogICAgdmFyIHN0cmluZyA9ICIiOwogICAg
dmFyIGkgPSAwOwogICAgdmFyIGMgPSBjMSA9IGMyID0gMDsKICAgIAogICAgd2hp
bGUgKCBpIDwgdXRmdGV4dC5sZW5ndGggKSB7CiAgICAgIAogICAgICBjID0gdXRm
dGV4dC5jaGFyQ29kZUF0KGkpOwogICAgICAKICAgICAgaWYgKGMgPCAxMjgpIHsK
ICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTsKICAgICAg
ICBpKys7CiAgICAgIH0KICAgICAgZWxzZSBpZigoYyA+IDE5MSkgJiYgKGMgPCAy
MjQpKSB7CiAgICAgICAgYzIgPSB1dGZ0ZXh0LmNoYXJDb2RlQXQoaSsxKTsKICAg
ICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgJiAzMSkgPDwg
NikgfCAoYzIgJiA2MykpOwogICAgICAgIGkgKz0gMjsKICAgICAgfQogICAgICBl
bHNlIHsKICAgICAgICBjMiA9IHV0ZnRleHQuY2hhckNvZGVBdChpKzEpOwogICAg
ICAgIGMzID0gdXRmdGV4dC5jaGFyQ29kZUF0KGkrMik7CiAgICAgICAgc3RyaW5n
ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMTUpIDw8IDEyKSB8ICgoYzIg
JiA2MykgPDwgNikgfCAoYzMgJiA2MykpOwogICAgICAgIGkgKz0gMzsKICAgICAg
fQogICAgICAKICAgIH0KICAgIAogICAgcmV0dXJuIHN0cmluZzsKICB9CiAgCn0K
CnZhciBDb29raWVzID0gewogIHNldDogZnVuY3Rpb24oY29va2llTmFtZSwgY29v
a2llVmFsdWUsIG5EYXlzKSB7Cgl2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwoJdmFy
IGV4cGlyZSA9IG5ldyBEYXRlKCk7CglpZiAobkRheXM9PW51bGwgfHwgbkRheXM9
PTApIG5EYXlzPTE7CglleHBpcmUuc2V0VGltZSh0b2RheS5nZXRUaW1lKCkgKyAz
NjAwMDAwKjI0Km5EYXlzKTsKCWRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZU5hbWUr
Ij0iK2Nvb2tpZVZhbHVlICsgIjtleHBpcmVzPSIrZXhwaXJlLnRvR01UU3RyaW5n
KCk7CiAgfSwKCiAgZ2V0OiBmdW5jdGlvbihuYW1lKSB7IAoJdmFyIGluZGV4ID0g
ZG9jdW1lbnQuY29va2llLmluZGV4T2YobmFtZSArICI9Iik7CglpZiAoaW5kZXgg
PT0gLTEpIHJldHVybiBudWxsOwoJaW5kZXggPSBkb2N1bWVudC5jb29raWUuaW5k
ZXhPZigiPSIsIGluZGV4KSArIDE7Cgl2YXIgZW5kc3RyID0gZG9jdW1lbnQuY29v
a2llLmluZGV4T2YoIjsiLCBpbmRleCk7CglpZiAoZW5kc3RyID09IC0xKSBlbmRz
dHIgPSBkb2N1bWVudC5jb29raWUubGVuZ3RoOwoJcmV0dXJuIHVuZXNjYXBlKGRv
Y3VtZW50LmNvb2tpZS5zdWJzdHJpbmcoaW5kZXgsIGVuZHN0cikpOwogIH0KICAK
fQo=

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=ejpupload.js
Content-Type: application/x-javascript; charset=utf-8; name=ejpupload.js
Content-Location: http://compbiol.plosjms.org/html/ejpupload.js
Content-Transfer-Encoding: Base64

Ly8gJElkOiBlanB1cGxvYWQuanMsdiAyNi4wLjIuNSAyMDEwLzAyLzEyIDA0OjQ1
OjQxIHBsb3RraW4gRXhwICQKCnZhciBmaWxlTGlzdCA9IG5ldyBBcnJheSgpOwp2
YXIgdXBsb2Fkd29ya2luZyA9IGZhbHNlOwp2YXIgd29ya2luZ3RpbWVvdXQgPSAx
MCAqIDEwMDA7CnZhciB0aW1lb3V0aWQgPSAwOwoKdmFyIG1zX2lkOwp2YXIgbXNf
cmV2X25vOwp2YXIgc2Vzc2lvbmlkOwoKCmZ1bmN0aW9uIHVwbG9hZF9hamF4KGZv
cm0pIHsKICB2YXIgZmlsZXMgPSBmb3JtLmdldElucHV0cygnZmlsZScpOwoKICBm
aWxlcy5lYWNoKGZ1bmN0aW9uKHMpIHsKICAgICAgICAgICAgICAgaWYgKHMudmFs
dWUgIT0gJycpIGZpbGVMaXN0LnB1c2gocyk7CiAgICAgICAgICAgICB9KTsKCiAg
dmFyIGVsZW1lbnRzID0gZm9ybS5zZXJpYWxpemUodHJ1ZSk7CiAgbXNfaWQgPSBl
bGVtZW50cy5tc19pZDsKICBtc19yZXZfbm8gPSBlbGVtZW50cy5tc19yZXZfbm87
CiAgc2l0ZW5hbWUgPSBlbGVtZW50cy5zaXRlbmFtZTsKICBzZXNzaW9uaWQgPSBl
bGVtZW50cy5zZXNzaW9uaWQ7CiAgCiAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDAp
IHsKCiAgICBlanBsYi5hY3RpdmF0ZSgpOwogICAgLy8gVXBsb2FkIE1ldGVyIFVw
ZGF0ZXIgICAKICAgIHZhciB0aW1lb3V0ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5p
bmRleE9mKCJTYWZhcmkiKSA9PSAtMSA/IDEyMDAgOiA1MjAwOwogICAgCiAgICBp
ZiAoYWpheF9jYXBhYmxlX2Jyb3dzZXIpIHsKICAgICAgd2luZG93LnNldFRpbWVv
dXQoInVwbG9hZEdvQWpheCgpOyIsIHRpbWVvdXQpOwogICAgICB0aW1lb3V0aWQg
PSB3aW5kb3cuc2V0VGltZW91dCgidXBsb2FkQ2hlY2tXb3JraW5nKCk7Iiwgd29y
a2luZ3RpbWVvdXQpOwogICAgfQogICAgZWxzZSB7CiAgICAgIHVwbG9hZENoZWNr
V29ya2luZygpOwogICAgfQogIH0KfQoKZnVuY3Rpb24gdXBsb2FkQWpheCgpIHsK
ICAkKCd0dnNfc3VibWl0Jykuc3VibWl0KCk7CiAgZWpwbGIuYWN0aXZhdGUoKTsK
ICAvLyBVcGxvYWQgTWV0ZXIgVXBkYXRlciAgIAogIHZhciB0aW1lb3V0ID0gbmF2
aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSA9PSAtMSA/IDEyMDAg
OiA1MjAwOwoKICAKICBpZiAoYWpheF9jYXBhYmxlX2Jyb3dzZXIpIHsKICAgIHdp
bmRvdy5zZXRUaW1lb3V0KCJ1cGxvYWRHb0FqYXgoKTsiLCB0aW1lb3V0KTsKICAg
IHRpbWVvdXRpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCJ1cGxvYWRDaGVja1dvcmtp
bmcoKTsiLCB3b3JraW5ndGltZW91dCk7CiAgfQogIGVsc2UgewogICAgdXBsb2Fk
Q2hlY2tXb3JraW5nKCk7CiAgfQp9CgpmdW5jdGlvbiB1cGxvYWRHb0FqYXgoKSB7
CiAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpOwogIHZhciB1cmwgPSBicmVmKyIvIit1
cGxvYWRfYmFzZSsnP2Zvcm1fdHlwZT11cGxvYWRfcHJvZ3Jlc3NfYmFyJm1zX2lk
PScgKyBtc19pZCArICcmbXNfcmV2X25vPScgKyBtc19yZXZfbm8gKyAnJnNpdGVu
YW1lPScgKyBzaXRlbmFtZSArICcmc2Vzc2lvbmlkPScgKyBzZXNzaW9uaWQgKyAn
JmZpbGVjb3VudD0nICsgZmlsZUxpc3QubGVuZ3RoICsgJyZwcm9jZXNzX3VwbG9h
ZD0xJm5vdz0nICsgdGltZS5nZXRUaW1lKCk7CgogIG5ldyBBamF4LlVwZGF0ZXIo
J2xiY29udGVudCcsIHVybCwge2FzeW5jaHJvbm91czp0cnVlLCBtZXRob2Q6J2dl
dCcsIG9uU3VjY2Vzczp1cGxvYWRSZWNvcmRXb3JraW5nfSk7CiAgLy9uZXcgQWph
eC5SZXF1ZXN0KHVybCwge2FzeW5jaHJvbm91czp0cnVlLCBtZXRob2Q6J2dldCcs
IG9uU3VjY2Vzczp1cGxvYWRVcGRhdGVNZXRlcn0pOwoKICB2YXIgdGltZW91dCA9
IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIikgPT0gLTEgPyA3
MDAgOiAxNDAwOwogIHdpbmRvdy5zZXRUaW1lb3V0KCJ1cGxvYWRHb0FqYXgoKTsi
LCB0aW1lb3V0KTsKICAKfQoKZnVuY3Rpb24gdXBsb2FkUmVjb3JkV29ya2luZyh0
KSB7CiAgdXBsb2Fkd29ya2luZyA9IHRydWU7CiAgd2luZG93LmNsZWFyVGltZW91
dCh0aW1lb3V0aWQpOwp9CgpmdW5jdGlvbiB1cGxvYWRDaGVja1dvcmtpbmcoKSB7
CiAgaWYgKCF1cGxvYWR3b3JraW5nKSB7CiAgICAkKCdsYmNvbnRlbnQnKS5pbm5l
ckhUTUwgPSAnPGJyIC8+PGJyIC8+PGRpdiBhbGlnbj0iY2VudGVyIj48aDM+Rmls
ZXMgQXJlIFVwbG9hZGluZywgUGxlYXNlIFdhaXQuLi48L2gzPjwvZGl2PicgKwog
ICAgICAnPHAgYWxpZ249ImNlbnRlciI+PGltZyBzcmM9IicrIGltYWdlX2RpciAr
ICcvcHJvZ3Jlc3NfYmFyLmdpZiIgd2lkdGg9IjE5MyIgaGVpZ2h0PSIxNCIgYm9y
ZGVyPSIwIiAvPjwvcD4nICsKICAgICAgJzxkaXYgYWxpZ249ImNlbnRlciI+Rmls
ZSB1cGxvYWRzIGNhbiB0YWtlIHVwIHRvIDEwIG1pbnV0ZXMgb3IgbW9yZSBkZXBl
bmRpbmcgb24gdGhlIHNpemUgb2YgdGhlIGZpbGVzIGJlaW5nIHNlbnQuICAnICsK
ICAgICAgJ1RoaXMgcGFnZSB3aWxsIHJlbG9hZCBvbmNlIHRoZSB1cGxvYWRzIGFy
ZSBjb21wbGV0ZS4gIFBsZWFzZSBkbyBub3QgY2xvc2UgdGhpcyB3aW5kb3cuPC9k
aXY+JzsKCiAgICBpZiAoYWpheF9jYXBhYmxlX2Jyb3dzZXIpIHsKICAgICAgJCgn
bGJjb250ZW50JykuaW5uZXJIVE1MICs9ICc8YnIgLz48ZGl2IGFsaWduPSJjZW50
ZXIiPjxoNj5Zb3UgbWF5IHNlZSBhIHByb2dlc3MgYmFyIGluIGEgZmV3IHNlY29u
ZHMsIHBsZWFzZSB3YWl0Li4uPC9oNj48L2Rpdj4nOwogICAgICB0aW1lb3V0aWQg
PSB3aW5kb3cuc2V0VGltZW91dCgidXBsb2FkQ2hlY2tXb3JraW5nKCk7Iiwgd29y
a2luZ3RpbWVvdXQpOwogICAgfQoKICB9Cn0KCmZ1bmN0aW9uIHVwbG9hZFVwZGF0
ZU1ldGVyKHQpIHsKICAvL2FsZXJ0KCJ1cGxvYWRVcGRhdGVNZXRlcjogR290IEFK
QVggcmVzcG9uc2UiKTsKICAkKCdsYmNvbnRlbnQnKS5pbm5lckhUTUwgPSB0LnJl
c3BvbnNlVGV4dDsKICB2YXIgdGltZW91dCA9IG5hdmlnYXRvci51c2VyQWdlbnQu
aW5kZXhPZigiU2FmYXJpIikgPT0gLTEgPyA3MDAgOiAxNDAwOwogIHdpbmRvdy5z
ZXRUaW1lb3V0KCJ1cGxvYWRHb0FqYXgoKTsiLCB0aW1lb3V0KTsKfQoKCmZ1bmN0
aW9uIGFkZEZpbGUoZSkgewogIHZhciBmaWxlID0gRXZlbnQuZWxlbWVudChlKTsK
ICAvLyBObyBuZWVkIHRvIG9ic2VydmUgYW55bW9yZQoKICBpZiAoZmlsZS52YWx1
ZS5pbmRleE9mKCc7JykgPj0gMCkgewogICAgYWxlcnQoIlNlbWktY29sb25zICg7
KSBhcmUgbm90IHZhbGlkIGluIGZpbGUgbmFtZXMiKTsKICAgIGZpbGUudmFsdWUg
PSAnJzsKICAgIHJldHVybjsKICB9CgogIEV2ZW50LnN0b3BPYnNlcnZpbmcoJ2Zp
bGVfJyArIGZpbGVMaXN0Lmxlbmd0aCwgJ2NoYW5nZScsIGFkZEZpbGUsIGZhbHNl
KTsKCiAgZmlsZUxpc3QucHVzaChmaWxlLnZhbHVlKTsKCiAgLy8gU2FmYXJpIEZp
eAogIGZpbGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogIGZpbGUuc3R5
bGUubGVmdCA9ICctMTAwMHB4JzsKICAvL2ZpbGUuc3R5bGUuZGlzcGxheT0nbm9u
ZSc7CgogIHZhciBuZXdGaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5w
dXQnKTsKICBuZXdGaWxlLnR5cGU9J2ZpbGUnOwogIG5ld0ZpbGUuaWQgPSAnZmls
ZV8nICsgZmlsZUxpc3QubGVuZ3RoOwogIG5ld0ZpbGUubmFtZSA9ICdmaWxlXycg
KyBmaWxlTGlzdC5sZW5ndGg7CgogICQoJ3VwbG9hZGNvbnRhaW5lcicpLmFwcGVu
ZENoaWxkKG5ld0ZpbGUpOwoKICBFdmVudC5vYnNlcnZlKCdmaWxlXycgKyBmaWxl
TGlzdC5sZW5ndGgsICdjaGFuZ2UnLCBhZGRGaWxlLCBmYWxzZSk7CiAgc2hvd1Vw
bG9hZHMoKTsKfQoKZnVuY3Rpb24gcmVtb3ZlRmlsZShpZCkgewogIHZhciB1cGxv
YWRzID0gJCgndXBsb2FkY29udGFpbmVyJyk7CiAgdXBsb2Fkcy5yZW1vdmVDaGls
ZCgkKCdmaWxlXycgKyBpZCkpOwogIAogIGZpbGVMaXN0LnNwbGljZShpZCwgMSk7
CiAgdmFyIHggPSAwOwogIGZvcihpPTA7IGkgPCB1cGxvYWRzLmNoaWxkTm9kZXMu
bGVuZ3RoOyBpKyspIHsKICAgIGlmICh1cGxvYWRzLmNoaWxkTm9kZXNbaV0ubm9k
ZU5hbWUgPT0gIklOUFVUIikgewogICAgICB1cGxvYWRzLmNoaWxkTm9kZXNbaV0u
aWQgPSAnZmlsZV8nICsgeDsKICAgICAgdXBsb2Fkcy5jaGlsZE5vZGVzW2ldLm5h
bWUgPSAnZmlsZV8nICsgeDsKICAgICAgeCsrOwogICAgfQogIH0KCiAgc2hvd1Vw
bG9hZHMoKTsKfQoKZnVuY3Rpb24gc2hvd1VwbG9hZHMoKSB7CgogIC8qIGxvb3Ag
dGhyb3VnaCBleGlzdGluZyB6aXAgZmlsZSBzZXR0aW5ncyBhbmQgc2F2ZSBhd2F5
IGZvciBsYXRlciB1c2UgKi8KICB2YXIgemlwTGlzdCA9IFtdOwogIGZvciAoaT0w
OyBpIDwgZmlsZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKCQoJ3Vuemlw
X2ZpbGVfJyArIGkpKSB7CiAgICAgICAgICB6aXBMaXN0W2ldPSQoJ3VuemlwX2Zp
bGVfJyArIGkpLnZhbHVlOwogICAgICB9CiAgfQoKICAkKCdmaWxlTGlzdCcpLmlu
bmVySFRNTCA9ICcnOwoKICBpZiAoZmlsZUxpc3QubGVuZ3RoID09IDApIHsKICAg
ICQoJ2ZpbGVMaXN0JykuaW5uZXJIVE1MID0gJzxzdHJvbmc+Tm8gZmlsZXMgdG8g
dXBsb2FkPC9zdHJvbmc+JzsKICAgIHJldHVybjsKICB9CgovLyAgaWYgKGZpbGVM
aXN0Lmxlbmd0aCA9PSAwKSB7Ci8vICAgICQoJ2J0bnN1Ym1pdCcpLmRpc2FibGVk
PXRydWU7Ci8vICB9Ci8vICBlbHNlIGlmIChmaWxlTGlzdC5sZW5ndGggPT0gMSkg
ewovLyAgICAkKCdidG5zdWJtaXQnKS5kaXNhYmxlZD1mYWxzZTsKLy8gICAgJCgn
YnRuc3VibWl0JykudmFsdWUgPSAnVXBsb2FkIEZpbGUnOwovLyAgfQovLyAgZWxz
ZSBpZiAoZmlsZUxpc3QubGVuZ3RoID4gMSkgewovLyAgICAkKCdidG5zdWJtaXQn
KS5kaXNhYmxlZD1mYWxzZTsKLy8gICAgJCgnYnRuc3VibWl0JykudmFsdWUgPSAn
VXBsb2FkIEZpbGVzJzsKLy8gIH0KCiAgdmFyIG15X2h0bWwgPSAiIjsKICBpZiAo
ZmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgbXlfaHRtbCArPSAiPHN0cm9uZz5G
aWxlIHRvIHVwbG9hZDo8L3N0cm9uZz48YnIgLz5cbiI7CiAgfSBlbHNlIHsKICAg
bXlfaHRtbCArPSAiPHN0cm9uZz5GaWxlcyB0byB1cGxvYWQ6PC9zdHJvbmc+PGJy
IC8+XG4iOwogIH0KCiBteV9odG1sICs9ICc8dWwgc3R5bGU9XCJtYXJnaW46IDA7
XCI+JzsKICBteV9odG1sICs9ICI8dGFibGU+IjsKCiAgZm9yIChpPTA7IGkgPCBm
aWxlTGlzdC5sZW5ndGg7IGkrKykgewogICAgbXlfaHRtbCArPSAiPHRyPiI7CiAg
ICBteV9odG1sICs9ICI8dGQ+IjsKICAgIG15X2h0bWwgKz0gJzxsaT4nICsgZmls
ZUxpc3RbaV0gKyAnPC9saT4nOwogICAgbXlfaHRtbCArPSAiPC90ZD4iOwogICAg
bXlfaHRtbCArPSAiPHRkPiI7CiAgICBteV9odG1sICs9ICcmbmJzcDs8YSBocmVm
PSIjIiBvbmNsaWNrPSJyZW1vdmVGaWxlKCcraSsnKTsgcmV0dXJuIGZhbHNlIj5S
ZW1vdmU8L2E+JzsKICAgIG15X2h0bWwgKz0gIjwvdGQ+IjsKICAgIG15X2h0bWwg
Kz0gIjx0ZD4iOwoKICAgIGlmICgoZmlsZUxpc3RbaV0ubWF0Y2goL1wuemlwL2kp
fHwKICAgICAgICAgZmlsZUxpc3RbaV0ubWF0Y2goL1wudGFyL2kpfHwKICAgICAg
ICAgZmlsZUxpc3RbaV0ubWF0Y2goL1wuZ3ovaSkpCiAgICAgICAgICYmICQoJ3R2
c2Rvbm90dW56aXBmaWxlc29wdGlvbicpKSB7CiAgICAgIHZhciB6aXBvcHRzID0g
bmV3IEFycmF5KCdMZWF2ZSBaSVAgZmlsZSBjb21wcmVzc2VkJywgJ1VuY29tcHJl
c3MgYW5kIHByb2Nlc3MgWklQIGZpbGUnKTsKCiAgICAgIGlmICgkKCd0dnNkb25v
dHVuemlwZmlsZXNvcHRpb250ZXh0JykgJiYgJCgndHZzZG9ub3R1bnppcGZpbGVz
b3B0aW9udGV4dCcpLnZhbHVlLmluZGV4T2YoJ3wnKSAhPSAtMSkgewogICAgICAg
IHppcG9wdHMgPSAkKCd0dnNkb25vdHVuemlwZmlsZXNvcHRpb250ZXh0JykudmFs
dWUuc3BsaXQoJ3wnKTsKICAgICAgfQogICAgICAKICAgICAgbXlfaHRtbCArPSAn
Jm5ic3A7JzsKICAgICAgbXlfaHRtbCArPSAnJm5ic3A7JzsKICAgICAgbXlfaHRt
bCArPSAnPGltZyBzcmM9Ii9pbWFnZXMvYnJlZF9hcnJvdy5naWYiPic7CiAgICAg
IHZhciBzZWxjdD0ic2VsZWN0XyIrZmlsZUxpc3RbaV07CiAgICAgIG15X2h0bWwg
Kz0gJzxzZWxlY3QgbmFtZT0idW56aXBfZmlsZV8nICsgaSArICciPic7CiAgICAg
IGlmICh6aXBMaXN0W2ldKSB7CiAgICAgICAgLyogdXNlIHByZXZpb3VzIHVzZXIg
c2V0IHZhbHVlICovCiAgICAgICAgaWYgKHppcExpc3RbaV09PTIpIHsKICAgICAg
ICAgICB6aXBvcHRzWzBdPXppcG9wdHNbMF0ucmVwbGFjZSgvXCovLCIiKTsKICAg
ICAgICAgICBteV9odG1sICs9ICc8b3B0aW9uIHZhbHVlPSIyIiBTRUxFQ1RFRD4n
ICsgemlwb3B0c1swXSArICc8L29wdGlvbj4nOwogICAgICAgIH0gZWxzZSB7CiAg
ICAgICAgICAgbXlfaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT0iMiI+JyArIHppcG9w
dHNbMF0gKyAnPC9vcHRpb24+JzsKICAgICAgICB9CQogICAgICAgIGlmICh6aXBM
aXN0W2ldPT0xKSB7CiAgICAgICAgICAgemlwb3B0c1sxXT16aXBvcHRzWzFdLnJl
cGxhY2UoL1wqLywiIik7CiAgICAgICAgICAgbXlfaHRtbCArPSAnPG9wdGlvbiB2
YWx1ZT0iMSIgU0VMRUNURUQ+JyArIHppcG9wdHNbMV0gKyAnPC9vcHRpb24+JzsK
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgIG15X2h0bWwgKz0gJzxvcHRpb24g
dmFsdWU9IjEiPicgKyB6aXBvcHRzWzFdICsgJzwvb3B0aW9uPic7CiAgICAgICAg
fQkKICAgICAgfSBlbHNlIHsKICAgICAgICAvKiB1c2UgY29uZmlndXJhdGlvbiBk
ZWZhdWx0cyAqLwogICAgICAgIGlmICh6aXBvcHRzWzBdLnNlYXJjaCgvXCovKT4t
MSkgewogICAgICAgICAgIHppcG9wdHNbMF09emlwb3B0c1swXS5yZXBsYWNlKC9c
Ki8sIiIpOwogICAgICAgICAgIG15X2h0bWwgKz0gJzxvcHRpb24gdmFsdWU9IjIi
IFNFTEVDVEVEPicgKyB6aXBvcHRzWzBdICsgJzwvb3B0aW9uPic7CiAgICAgICAg
fSBlbHNlIHsKICAgICAgICAgICBteV9odG1sICs9ICc8b3B0aW9uIHZhbHVlPSIy
Ij4nICsgemlwb3B0c1swXSArICc8L29wdGlvbj4nOwogICAgICAgIH0JCiAgICAg
ICAgaWYgKHppcG9wdHNbMV0uc2VhcmNoKC9cKi8pPi0xKSB7CiAgICAgICAgICAg
emlwb3B0c1sxXT16aXBvcHRzWzFdLnJlcGxhY2UoL1wqLywiIik7CiAgICAgICAg
ICAgbXlfaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT0iMSIgU0VMRUNURUQ+JyArIHpp
cG9wdHNbMV0gKyAnPC9vcHRpb24+JzsKICAgICAgICB9IGVsc2UgewogICAgICAg
ICAgIG15X2h0bWwgKz0gJzxvcHRpb24gdmFsdWU9IjEiPicgKyB6aXBvcHRzWzFd
ICsgJzwvb3B0aW9uPic7CiAgICAgICAgfQkKICAgICAgfQoKICAgICAgbXlfaHRt
bCArPSAnPC9zZWxlY3Q+JzsKICAgIH0gZWxzZSB7CiAgICAgIG15X2h0bWwgKz0g
JyZuYnNwOyc7CiAgICB9CgogICAgbXlfaHRtbCArPSAiPC90ZD4iOwogICAgbXlf
aHRtbCArPSAiPC90cj4iOwogIH0KICBteV9odG1sICs9ICI8L3RhYmxlPiI7CiAg
bXlfaHRtbCArPSAnPC91bD4nOwoKICAkKCdmaWxlTGlzdCcpLmlubmVySFRNTCAr
PSAgbXlfaHRtbDsKLy8gYWxlcnQoJCgnZmlsZWxpc3QnKS5pbm5lckhUTUwpOwp9
CgoKCi8qCkNyZWF0ZWQgQnk6IENocmlzIENhbXBiZWxsCldlYnNpdGU6IGh0dHA6
Ly9wYXJ0aWNsZXRyZWUuY29tCkRhdGU6IDIvMS8yMDA2CgpJbnNwaXJlZCBieSB0
aGUgbGlnaHRib3ggaW1wbGVtZW50YXRpb24gZm91bmQgYXQgaHR0cDovL3d3dy5o
dWRkbGV0b2dldGhlci5jb20vcHJvamVjdHMvbGlnaHRib3gvCiovCgovKi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1HTE9CQUwgVkFSSUFCTEVTLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCnZhciBkZXRlY3QgPSBu
YXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CnZhciBPUyxicm93c2Vy
LHZlcnNpb24sdG90YWwsdGhlc3RyaW5nOwoKdmFyIGxiaWQ9MDsKdmFyIGVqcGxi
OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLSovCgovL0Jyb3dzZXIgZGV0ZWN0IHNjcmlwdCBvcmlnaW9uYWxseSBjcmVh
dGVkIGJ5IFBldGVyIFBhdWwgS29jaCBhdCBodHRwOi8vd3d3LnF1aXJrc21vZGUu
b3JnLwoKZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7CglpZiAoY2hlY2tJdCgn
a29ucXVlcm9yJykpIHsKCQlicm93c2VyID0gIktvbnF1ZXJvciI7CgkJT1MgPSAi
TGludXgiOwoJfQoJZWxzZSBpZiAoY2hlY2tJdCgnc2FmYXJpJykpIGJyb3dzZXIg
CT0gIlNhZmFyaSIKCWVsc2UgaWYgKGNoZWNrSXQoJ29tbml3ZWInKSkgYnJvd3Nl
ciAJPSAiT21uaVdlYiIKCWVsc2UgaWYgKGNoZWNrSXQoJ29wZXJhJykpIGJyb3dz
ZXIgCQk9ICJPcGVyYSIKCWVsc2UgaWYgKGNoZWNrSXQoJ3dlYnR2JykpIGJyb3dz
ZXIgCQk9ICJXZWJUViI7CgllbHNlIGlmIChjaGVja0l0KCdpY2FiJykpIGJyb3dz
ZXIgCQk9ICJpQ2FiIgoJZWxzZSBpZiAoY2hlY2tJdCgnbXNpZScpKSBicm93c2Vy
IAkJPSAiSW50ZXJuZXQgRXhwbG9yZXIiCgllbHNlIGlmICghY2hlY2tJdCgnY29t
cGF0aWJsZScpKSB7CgkJYnJvd3NlciA9ICJOZXRzY2FwZSBOYXZpZ2F0b3IiCgkJ
dmVyc2lvbiA9IGRldGVjdC5jaGFyQXQoOCk7Cgl9CgllbHNlIGJyb3dzZXIgPSAi
QW4gdW5rbm93biBicm93c2VyIjsKCglpZiAoIXZlcnNpb24pIHZlcnNpb24gPSBk
ZXRlY3QuY2hhckF0KHBsYWNlICsgdGhlc3RyaW5nLmxlbmd0aCk7CgoJaWYgKCFP
UykgewoJCWlmIChjaGVja0l0KCdsaW51eCcpKSBPUyAJCT0gIkxpbnV4IjsKCQll
bHNlIGlmIChjaGVja0l0KCd4MTEnKSkgT1MgCT0gIlVuaXgiOwoJCWVsc2UgaWYg
KGNoZWNrSXQoJ21hYycpKSBPUyAJPSAiTWFjIgoJCWVsc2UgaWYgKGNoZWNrSXQo
J3dpbicpKSBPUyAJPSAiV2luZG93cyIKCQllbHNlIE9TIAkJCQkJCQkJPSAiYW4g
dW5rbm93biBvcGVyYXRpbmcgc3lzdGVtIjsKCX0KfQoKZnVuY3Rpb24gY2hlY2tJ
dChzdHJpbmcpIHsKCXBsYWNlID0gZGV0ZWN0LmluZGV4T2Yoc3RyaW5nKSArIDE7
Cgl0aGVzdHJpbmcgPSBzdHJpbmc7CglyZXR1cm4gcGxhY2U7Cn0KCi8qLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRXZl
bnQub2JzZXJ2ZSh3aW5kb3csICdsb2FkJywgaW5pdGlhbGl6ZSwgZmFsc2UpOwpF
dmVudC5vYnNlcnZlKHdpbmRvdywgJ2xvYWQnLCBnZXRCcm93c2VySW5mbywgZmFs
c2UpOwpFdmVudC5vYnNlcnZlKHdpbmRvdywgJ3VubG9hZCcsIEV2ZW50LnVubG9h
ZENhY2hlLCBmYWxzZSk7Cgp2YXIgbGlnaHRib3ggPSBDbGFzcy5jcmVhdGUoKTsK
CmxpZ2h0Ym94LnByb3RvdHlwZSA9IHsKCiAgeVBvcyA6IDAsCiAgeFBvcyA6IDAs
CiAgCiAgCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7CiAgICAKICB9LAogIAog
IC8vaW5pdGlhbGl6ZTogZnVuY3Rpb24oY3RybCkgewogIC8vCXRoaXMuY29udGVu
dCA9IGN0cmwuaHJlZjsKICAvLwlFdmVudC5vYnNlcnZlKGN0cmwsICdjbGljaycs
IHRoaXMuYWN0aXZhdGUuYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2Up
OwogIC8vCWN0cmwub25jbGljayA9IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307
CiAgLy99LAogIAogIC8vIFR1cm4gZXZlcnl0aGluZyBvbiAtIG1haW5seSB0aGUg
SUUgZml4ZXMKICBhY3RpdmF0ZTogZnVuY3Rpb24oKXsKICAgIGlmIChicm93c2Vy
ID09ICdJbnRlcm5ldCBFeHBsb3JlcicpewogICAgICB0aGlzLmdldFNjcm9sbCgp
OwogICAgICB0aGlzLnByZXBhcmVJRSgnMTAwJScsICdoaWRkZW4nKTsKICAgICAg
dGhpcy5zZXRTY3JvbGwoMCwwKTsKICAgICAgdGhpcy5oaWRlU2VsZWN0cygnaGlk
ZGVuJyk7CiAgICB9CiAgICB0aGlzLmRpc3BsYXlMaWdodGJveCgiYmxvY2siKTsK
ICB9LAogIAogIC8vIEllIHJlcXVpcmVzIGhlaWdodCB0byAxMDAlIGFuZCBvdmVy
ZmxvdyBoaWRkZW4gb3IgZWxzZSB5b3UgY2FuIHNjcm9sbCBkb3duIHBhc3QgdGhl
IGxpZ2h0Ym94CiAgcHJlcGFyZUlFOiBmdW5jdGlvbihoZWlnaHQsIG92ZXJmbG93
KXsKICAgIGJvZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5
JylbMF07CiAgICBib2Quc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0OwogICAgYm9kLnN0
eWxlLm92ZXJmbG93ID0gb3ZlcmZsb3c7CiAgICAKICAgIGh0bSA9IGRvY3VtZW50
LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF07CiAgICBodG0uc3R5bGUu
aGVpZ2h0ID0gaGVpZ2h0OwogICAgaHRtLnN0eWxlLm92ZXJmbG93ID0gb3ZlcmZs
b3c7IAogIH0sCiAgCiAgLy8gSW4gSUUsIHNlbGVjdCBlbGVtZW50cyBob3ZlciBv
biB0b3Agb2YgdGhlIGxpZ2h0Ym94CiAgaGlkZVNlbGVjdHM6IGZ1bmN0aW9uKHZp
c2liaWxpdHkpewogICAgc2VsZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlU
YWdOYW1lKCdzZWxlY3QnKTsKICAgIGZvcihpID0gMDsgaSA8IHNlbGVjdHMubGVu
Z3RoOyBpKyspIHsKICAgICAgc2VsZWN0c1tpXS5zdHlsZS52aXNpYmlsaXR5ID0g
dmlzaWJpbGl0eTsKICAgIH0KICB9LAogIAogIC8vIFRha2VuIGZyb20gbGlnaHRi
b3ggaW1wbGVtZW50YXRpb24gZm91bmQgYXQgaHR0cDovL3d3dy5odWRkbGV0b2dl
dGhlci5jb20vcHJvamVjdHMvbGlnaHRib3gvCiAgZ2V0U2Nyb2xsOiBmdW5jdGlv
bigpewogICAgaWYgKHNlbGYucGFnZVlPZmZzZXQpIHsKICAgICAgdGhpcy55UG9z
ID0gc2VsZi5wYWdlWU9mZnNldDsKICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9j
dW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxU
b3ApewogICAgICB0aGlzLnlQb3MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQu
c2Nyb2xsVG9wOyAKICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keSkgewogICAg
ICB0aGlzLnlQb3MgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgIH0KICB9
LAogIAogIHNldFNjcm9sbDogZnVuY3Rpb24oeCwgeSl7CiAgICB3aW5kb3cuc2Ny
b2xsVG8oeCwgeSk7IAogIH0sCiAgCiAgZGlzcGxheUxpZ2h0Ym94OiBmdW5jdGlv
bihkaXNwbGF5KXsKICAgICQoJ292ZXJsYXknKS5zdHlsZS5kaXNwbGF5ID0gZGlz
cGxheTsKICAgICQoJ2xpZ2h0Ym94Jykuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7
CiAgICAvL2lmKGRpc3BsYXkgIT0gJ25vbmUnKSB0aGlzLmxvYWRJbmZvKCk7CiAg
ICAvLyBDYWxsIHRoaXMgeW91cnNlbGYsIG1ha2VzIGl0IG1vcmUgZmxleGlibGUK
ICB9LAogIAogIC8vIEJlZ2luIEFqYXggcmVxdWVzdCBiYXNlZCBvZmYgb2YgdGhl
IGhyZWYgb2YgdGhlIGNsaWNrZWQgbGlua2VkCiAgbG9hZEluZm86IGZ1bmN0aW9u
KCkgewogICAgdmFyIG15QWpheCA9IG5ldyBBamF4LlJlcXVlc3QoCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVybCwKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHttZXRob2Q6ICdwb3N0JywgcGFyYW1ldGVy
czogdGhpcy5wYXJhbXMsIG9uQ29tcGxldGU6IHRoaXMucHJvY2Vzc0luZm8uYmlu
ZEFzRXZlbnRMaXN0ZW5lcih0aGlzKX0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICk7CiAgICAKICB9LAogIAogIAogIC8vIERpc3BsYXkgQWpheCBy
ZXNwb25zZQogIHByb2Nlc3NJbmZvOiBmdW5jdGlvbihyZXNwb25zZSl7CiAgICB0
aGlzLnNldENvbnRlbnQocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgIC8vaW5m
byA9ICI8ZGl2IGlkPSdsYkNvbnRlbnQnPiIgKyByZXNwb25zZS5yZXNwb25zZVRl
eHQgKyAiPC9kaXY+IjsKICAgIC8vbmV3IEluc2VydGlvbi5CZWZvcmUoJCgnbGJM
b2FkTWVzc2FnZScpLCBpbmZvKQogICAgJCgnbGlnaHRib3gnKS5jbGFzc05hbWUg
PSAiZG9uZSI7CQogICAgLy90aGlzLmFjdGlvbnMoKTsJCQkKICB9LAogIAogIHNl
dENvbnRlbnQ6IGZ1bmN0aW9uKHN0cikgewogICAgJCgnbGJjb250ZW50JykuaW5u
ZXJIVE1MID0gc3RyOwogIH0sCiAgCiAgLy8gU2VhcmNoIHRocm91Z2ggbmV3IGxp
bmtzIHdpdGhpbiB0aGUgbGlnaHRib3gsIGFuZCBhdHRhY2ggY2xpY2sgZXZlbnQK
ICBhY3Rpb25zOiBmdW5jdGlvbigpewogICAgLy9sYkFjdGlvbnMgPSBkb2N1bWVu
dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsYkFjdGlvbicpOwogICAgCiAgICAv
L2ZvcihpID0gMDsgaSA8IGxiQWN0aW9ucy5sZW5ndGg7IGkrKykgewogICAgLy8J
RXZlbnQub2JzZXJ2ZShsYkFjdGlvbnNbaV0sICdjbGljaycsIHRoaXNbbGJBY3Rp
b25zW2ldLnJlbF0uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKSwgZmFsc2UpOwog
ICAgLy8JbGJBY3Rpb25zW2ldLm9uY2xpY2sgPSBmdW5jdGlvbigpe3JldHVybiBm
YWxzZTt9OwogICAgLy99CiAgICAKICB9LAogIAogIC8vIEV4YW1wbGUgb2YgY3Jl
YXRpbmcgeW91ciBvd24gZnVuY3Rpb25hbGl0eSBvbmNlIGxpZ2h0Ym94IGlzIGlu
aXRpYXRlZAogIGluc2VydDogZnVuY3Rpb24oZSl7CiAgICBsaW5rID0gRXZlbnQu
ZWxlbWVudChlKS5wYXJlbnROb2RlOwogICAgRWxlbWVudC5yZW1vdmUoJCgnbGJD
b250ZW50JykpOwogICAgCiAgICB2YXIgbXlBamF4ID0gbmV3IEFqYXguUmVxdWVz
dCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiwK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXRob2Q6ICdwb3N0
JywgcGFyYW1ldGVyczogIiIsIG9uQ29tcGxldGU6IHRoaXMucHJvY2Vzc0luZm8u
YmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzKX0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICk7CiAgfSwKICAKICAvLyBFeGFtcGxlIG9mIGNyZWF0aW5n
IHlvdXIgb3duIGZ1bmN0aW9uYWxpdHkgb25jZSBsaWdodGJveCBpcyBpbml0aWF0
ZWQKICBkZWFjdGl2YXRlOiBmdW5jdGlvbigpewogICAgLy9FbGVtZW50LnJlbW92
ZSgkKCdsYkNvbnRlbnQnKSk7CiAgICAKICAgIGlmIChicm93c2VyID09ICJJbnRl
cm5ldCBFeHBsb3JlciIpewogICAgICB0aGlzLnNldFNjcm9sbCgwLHRoaXMueVBv
cyk7CiAgICAgIHRoaXMucHJlcGFyZUlFKCJhdXRvIiwgImF1dG8iKTsKICAgICAg
dGhpcy5oaWRlU2VsZWN0cygidmlzaWJsZSIpOwogICAgfQogICAgCiAgICB0aGlz
LmRpc3BsYXlMaWdodGJveCgibm9uZSIpOwogIH0KfQogIAovKi0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgoKLy8gT25s
b2FkLCBtYWtlIGFsbCBsaW5rcyB0aGF0IG5lZWQgdG8gdHJpZ2dlciBhIGxpZ2h0
Ym94IGFjdGl2ZQpmdW5jdGlvbiBpbml0aWFsaXplKCl7CiAgYWRkTGlnaHRib3hN
YXJrdXAoKTsKICBlanBsYiA9IG5ldyBsaWdodGJveCgpOwp9CgovLyBBZGQgaW4g
bWFya3VwIG5lY2Vzc2FyeSB0byBtYWtlIHRoaXMgd29yay4gQmFzaWNhbGx5IHR3
byBkaXZzOgovLyBPdmVybGF5IGhvbGRzIHRoZSBzaGFkb3cKLy8gTGlnaHRib3gg
aXMgdGhlIGNlbnRlcmVkIHNxdWFyZSB0aGF0IHRoZSBjb250ZW50IGlzIHB1dCBp
bnRvLgpmdW5jdGlvbiBhZGRMaWdodGJveE1hcmt1cCgpIHsKICBib2QgPSBkb2N1
bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdOwogIG92ZXJsYXkJ
PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBvdmVybGF5LmlkPSAn
b3ZlcmxheSc7CiAgCiAgbGIJPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYn
KTsKICBsYi5pZD0gJ2xpZ2h0Ym94JzsKICBsYi5jbGFzc05hbWUJPSAnZG9uZSc7
CiAgbGIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBsYi5pbm5lckhUTUwJPSAn
PGRpdiBpZD0ibGJjb250ZW50IiBzdHlsZT0idmVydGljYWwtYWxpZ246bWlkZGxl
OyI+JyArCiAgICAnPGJyIC8+PGJyIC8+PGRpdiBhbGlnbj0iY2VudGVyIj48aDM+
RmlsZSBVcGxvYWQgU3RhcnRpbmcsIFBsZWFzZSBXYWl0Li4uPC9oMz48L2Rpdj4n
ICsKICAgICc8cCBhbGlnbj0iY2VudGVyIj48aW1nIHNyYz0iJysgaW1hZ2VfZGly
ICsgJy9wcm9ncmVzc19iYXIuZ2lmIiB3aWR0aD0iMTkzIiBoZWlnaHQ9IjE0IiBi
b3JkZXI9IjAiIC8+PC9wPicgKwogICAgICc8L2Rpdj4nOwogIAogIGJvZC5hcHBl
bmRDaGlsZChvdmVybGF5KTsKICBib2QuYXBwZW5kQ2hpbGQobGIpOwp9Cg==

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=pcbijmshdr.gif
Content-Type: image/gif; name=pcbijmshdr.gif
Content-Location: http://compbiol.plosjms.org/images/pcbijmshdr.gif
Content-Transfer-Encoding: Base64

R0lGODlh1gF1AMQAAGZ4kzY4OcnN1Ojp6P7+/kZMVpSisoWUqHSFnVtpfpqltfHz
9aGuu73EzrC8xNPY4Nzg5uXo7YmWqm+AmXeHnr3DzNfa3YCPpN/h4sXL0c7S17S8
xqOtu5Ger6u0wAAAACH5BAAAAAAALAAAAADWAXUAAAX/ICCOZGmeaKqubOu+cCzP
dG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CweEwum8/otHrN
brvf8Lh8Tq/b7/i8fs/v+/+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZpRDRAG
OAcPBKMPCJunqF8GCwQCpjUIAqOzDam2t1YIDwsMNwcRs6MRr7jFxksIB6DAwcPH
z9BeusEEtTgI2Nna2Srb3sRCCAYMDg4MytHpdwcQsxDoNgYPEREQ9vb0+RANBuAA
7PTu3aPnagiDdgsiLFjYQBmDT+oivjngQIADfzTEORDVTIDHXcIujkBArh21Bw4g
/wKJRWBBw2TyCERwEKGXxJtDSKbE2C3ZgXEGDhzAlmTaqAUq/8ka9a4EApOjCoaT
xcuEA1YEbLqg6LGBVgMVvcI74FEqgAYeIVbsek6EAY8j3goAILdsWRFoBUC0a/dT
2hEHGKB1MLYrYLgj8iaVi/MIy1EOWiSrqJCaTAHneAJhMGsBPBGPCTQl4SCY1hgw
h67gXA1FA8gv1pa1KbssRLJ/lebu6iCvMsZu4dblCyCWYQB8bSPXKwK3XZvObyMu
XtZa8LmNi7A++tmEOAFYFzwA2bJyywcMNPcw0Ln7P2atSTAIn9TF24D0HvQ7MQ0p
iqcERNYCA7kVBwCBDRVHoP8Av80mAoLMLaeWALUAR9d0F2IX3ILgFCihbjYtqIxz
DZiCW1yYeUSMhdkJsV1L9ZEQk2hiUQQBZkIFBh4p6Ukm1AzscefdUjJ9toqQL7C0
AGHJNMAKgyYcGYF7I5Qm4ArG1WfcZ2j18taCeDVQ0V4RMmYhiyxWxFVSHv6FIAld
6hbniSKoOSaKGrYYxAFYicYTAq8dBd14MdIFH5TdgDcaDHwiWUJps5x2ZEtUosAO
jCX8UmQJrE2ZAp/WqUAnCaMGV6FeasZCDmYi5FZRZGdiyKJwFpHQJnNoLUahbrgJ
NR2tV7Ko52YQRKDfCaHIZI4AKMljlgm/0CNToYDNcuX/C41SesKL107q2VYmnRYX
K56OwFpVKTwQagrCZliCmXq9ZcBbOgrIm2/uXifjdGRFVuqtfkWo74mv0tmvbngO
S4RQPGnqn1vtQMDCQYK1JC4JAEZArajhUcmtjB1LtlQpKHBE8oOznIxspe9iqO++
tYzZb0UX2ltdW/nmnDOC5XgED8BnCXxhLSfiBhzPa6HTrsJGaFqPwBA8AMHFTqEE
KKaWpjRDtt+a8KKkIbMw6bWcRmpuMM/OkKVTPsPJ6p0Uillzq0I3p+KDtSaMV3Ja
Af1mYqzSSeBae/Nl09JMD6EpgzZexCxJM61gQFOvdc0D11RCirVbYSc6y8bZPgAY
/3wE6KdeC2upZEpY6IgIwJ2pz/0h26wCKjRwuL3ylnVA4xZi23TaDlfupr6ceA7J
nD7NySy1o66TrTDwEEa6RNb86Vt3PhJHpYPjLcuAmWS5d8x0HdpRemGfgvAOsq9c
0A0WtDvdhQ63677YzW83okBn2Nf+eJqL/njlv7KA73grmEeerOKnAzGLWVGRnmAW
wqwbEYY0BQnUukChPc6ZDWSOYhdWFuUd8akkW8FYQN1gAJauqKSFYhlB2xBgjpd5
SEZh6RH+9nYaj9ikf/9YC84QBri5xEmGrLIfohAoA1YsQDN8QspB9nGOBqirXHRx
SWCsGLUeyUMcU2PFAWPANf9/JGsUJXpXB7c1QvUYJSvy6VMKE8TEOp7AAPxIwWui
BgEmFUdjgMIiAzRWHHF0YiZkOUjMWnE5+mQjMOJLoxpDiIL5kMKN3CPbIC3DlI3Z
8Xjq0VQrPrMRU8QCAsSgyWcCIzWFFAQBYtwBCo3VSlbciFrfE1sb18cRdJFqR5Z5
2CeHmQJISRI0UxvJ40AjAFQ65SoEuA0rNlgDrlGIN0FRTy5XIEoslvAohfqOHMFJ
zHJWrRX+MIA3n6IhdizwQMLwCwQSor6thMeUL9hmN3rJMgQwwxn/ecs4nWlOO/6o
OQtxD4XMGDm31ARO9SjHA5qZLE8yao2SwygDR0E1hEb/hQVgpAbZCsq0+SwJZSpD
JtVWoRJV4mVK5Xhda6ykA8zFQJ+iYgY1UbY5bkKlgSRN3GOc+ZqRTq5SNHmFLlwh
AE+VIxRS+0npaqpREVIyBZ2iEoAYiS34CDOoCmONNWRxsVJiTKk3Gp0K0WHFCJRo
I6uQWA5sysKqjqQ4GtwWU8ChPkvCZgW9YQsxCrRFi3zmhv8QjGGhpVgKfYJD+xsj
WLswL9CIYqQWSWVCoPPQAyUEHq+RykTpOVe73tG0icQrGsFhyQcYaYn/gcpObUWh
wEoyN85xEP0yxTf5JEcZawtaRydbBgClVBdaOcAsADpIPM4EJc2JgFkaBVBf0Oem
/6ZVp00gJxMxWXEhIomjRZFDCxb8Jbh/8R3e+Cc09ToQUXLRITzmRzzirgFAX2XH
C7ECUH+WziHvOFJ3RFFdG3BtvJPUlgrmkxSSNLMeKKHSKmabGGuZlzlb2u3feLhb
c92Pw8LVI4MIhGD7fkEXCTkmO7i0EOg4iZAvHQ8JZVrgGgSppwO6rgrA455tfGoB
BNWjMMbImwL9JVcw6/DedEW0u6HgLWExMRtisSTousW1mQIuTVxrxeaI4iGwpYto
dLCdr+b4g5b6LA00NdzicOSdJ0jOlf7iIeAA0V0WKkdMi1hiKXvhNfOCMQOw7JSD
dJYdKYkaShb6rqnm4Gsx0P8cV/kjixljqx3enOT4UnDeIx75dvfzEJJRdCoN2WWH
fl4DZ2JGyLfwVR4zAUdpIsdmBlI4SdzrXpJ+GiB/JIMjQSajSSzt5r9eGCJ2Zs6G
Qzw7vIVqTm0zns5SfQb2EFVjrm7OoPfxGZLM80q7cI8oYkTDC3KzJJbpo7mRVQ7S
Lfd5aJmnO+qJrPEQWIfFmZzFXuCqUDPHva5rNojWi46wIFtWLqN2ceepFnsLxQH2
oCNoYC3RVzipO5x54jl1rQJ52MPe9r7HcEMBYZDLWCAfl3F4ZXCABNHkMh4xSZhX
cK9o50aJKpFzAQvkvrvoTeFoCO1QrgbkG+G7OQ2Q7oj/IjeN0ywOWp0Z7zd83JOp
W50osFCNguYRkHW/IC8UGiJhhXhYvgiIKziK0lrEpCs4A10MR5pozOP5rk4cKzGi
27ZU9B1N7wBbsm8PvBPEQW5ZzCQloWiAFfkhFCuiJ0roMax+Wi7vlB5mhYLPvBSu
4stxVdcrhpIJK1b+KPFg4+OYAUafNc96KPh30nD6LzaaKRipoUXuYnpIUB7eXfDU
5Gon03rrh28FJ3V+JJie+z728w+w3H48ZWEFSt6U8dbVg97Ez34RCG/Vmkxutj7Z
/WsaujtW5HwUq9e++plg0l6suAWhKEca1WlspRxz/fi3giVL9OFP7YMuJBMoI4V9
//lXgEkQdzTRZuo0f4u2bz+gAAOgADMgARYwAB7QARgwABxwAhYggSUgAQNAAh3o
AyC4AhwwABZgAiXIAitIBAqQghMYgiOAgRbYAi9IAxKQgRTQAhKQAQMwABvABDcY
gySQgQOgARIAAENoAgOQhGaQLE5ENTTUUJ5lS+kHAz6YATNgARUwAReAAQpAATto
AhwwhiQAgSRQhj6AhikwARE4ASPghGy4AnOogjnghBSwgTMwhxQwAB0wAR64AnmI
Ak6YAhawAXDIAh2ggRMAiD9wAYloApAIAIO4hzIoAm9YARhAiXrIhIFYXJt0HszH
SsfCSk5Eej3ghj4YiS/gh/8A0IIvUIdAIIslUIcrSIsngIuveIk1AIs0MIcgyIo4
yIsnEIEugAEeMATGWIyfaIkkYIy6OALLCAbCNxIQdxT1UCwU1Ez8JXGz2ITLOAAV
8IOdSIk+KI4TUIE/uI4/KAIbkIFB2IQdUIEWkIR12IQAcAEacIQXsIuYmITiOAB9
OI4aCADziIL2yIv6yI8AsI4S2Ic/6AEQuAEDgAFJuJAY0AEjgIYg6IP1CJEWiJEa
GZADSY4GSY8SAJIeUIIUcI5d2JAEuYEHWY9KeIkTgAEZYIYUyZAt+YMKUIIT4IMZ
qZIYUAEioAFGCQDqmJMuOQEduYn5KJAlsJAa0I8gOI7/YLiPG3iVCOmPDQmCP5iC
O7mB61iPITgBO/mSAVmQM5mQz6gAQamFLNmUDSmBO1mV+biPPigBmigCHgCVTBBX
WuVcnCQMaUcEFZCCRYmJGQCIUikCXOiFXFiXNVmZG1CVE7CDEUgB/fiXlSmNEniI
aLmJbGiMKDiSjQmBYtiZpMmLovmOnykCbAiBHDABiXmTMvmYaEibtpmCaIibBimQ
p9mQqSmQnAkAnjmbIRiZFzCZA1Ccq4mcrUkCzWmMFYCZfRmZFOCYAJABXQiCFMCG
ntmHhWiMzMmFEFgBckiMSomIsAmBHoCWfgie8Dma3EmZyygBTjkA/QiNIXidYoiU
/8TpmNGZnLzIjm55nkYZgdcJiX2JAYh4gj/JnwCAjE4QKG0GE+RQDg9RjUQAhAAw
jpjogfk5AImIhv5ZmdNYlz3Zjvc4oXDohhJQmhLoipTJoucYgsBoogAgo3WonLIJ
jggapJ+5myEIlusIghp5o5uZo0UKjicaguEYhk5Kix5gostInjxKpOzYhGzYhx3A
AYBZl8EYpBAYieBJAmXqozJIo2zIpiN6ox2wj6YpgSi6pIvIpFS6jrFZlxNwpY5Z
pioKgR6opYlonhuQpk0QCmlzBRDIjjVKoh4oqChqpzoqpUs6olwYnpf6lmvqpTJY
p3Fal5tqpHHIo3C6kW26qv+KeoadWpkc+ZijOqWl+qoQSKlSKqm12qegaaOGqqo3
SqQikAEZoAHJCJq4KosFeaoxCqrCGoFv6qz4+ZCimqI2WqmaWgGc2qdTeqtbWqm+
CqVxKqYeoAGPAJs9CqJTOgLnGY+WWpnFComayZsi+qIV6p6bSJ6LGKmzSq+vKgIQ
Opp9mqZAuqleCKxAmqYG25+SOqKMKKIEu5xd2Jzu6rC1Wa+XeAFwqQAYYJvYqZhd
uJ1oCKAHq6iLKKuU2a6yyJtOea8CC6R1yZuwqa+iCp77SpkjqwEBuqCS+rD/6qeA
iobtWpcN2ps3mYwSmq4rigYH9QM16I5S6oT4KAILCaL/X+mPQEmQydiEJxiQ+/mW
ecmQyHmE+Di1ZisBXTuOXzsCVGmVxOiDEyoCLEmnWii3RyqDKwi3FEC3V9u3XPuD
atudEViCVRuEfou2gGuiLUiBw2mbP5iTYTufZ0mQdQu3AFu30niRdBqEvqiE6miu
beuVKwiqHtmPY7uPSXilRjmOPqiRqpu1P2i4Z5u2inugP6gBGkm4m/uPjvucO5iD
zzm1gZsGNCR9gFcGMmpfFGCRQsieaHAB23mCiWgBx5oGL3J/biC9xEWBmKsEnYsG
V3qESdiSFiCMZkAkQPUGf5mpYMUBhlsMPWiGaRAol2SA9isHl+KA97u/btByecS/
/wDcBgQYwARcwAZ8wAicwAq8wAzcwJ+UAAUQAAGQACaQABJcAAVwBQGQwTgAwRtc
ABDMAhDMwTYQwTGwwVUwwgFgAhF8wREMwkHQwh8swRRMAybsZxK8wiXQwlhgwTps
AxZcwxZMwijgwz9cAzT8Aj6cwjxcwUkMAC8cBEsMAD5MxDDwxCbWwjU8AjmcBVtc
wkeMwS0gwTnwxS1gxlNAxifwxD6MxjowxVCsxjPgxmCFwSg8Ah58xGagxyMQwVuc
AHRcAnIcCINMAliMxT0Ax3BcgCA8yI3Mx2Nwwyx8wYG8xpDcB4XMxROsyZUMxHK8
yPmXwVFMxY+Mxxg8yh4Mwv8tzMF5LAJNDMWnTMIvjMKp3MZN/MJGDMNx/MGWTMmk
rMatLAIX7Mu/bMcovMoiEMywfMquHMvKvMxi7MobnMe6zMJ2rMu4vMpfrM2ZLMyb
TMWfHMskPMLMHMeqfMckAMd+nM7ibMQUnM3hHMu7DMMwnMrDksFTDMJwfMdDrMms
jM5yDMw6HM0CncwXDMUUHND8/MTd3Mc5fMeDrNA1vM7eTMFtDM4kXNCwDM7N7M1c
LMvffNAYfQKSrND/nNHf/MqCvMkXPdIj3c8ufdDRnM40bMdfDNNDDNMA8MMCfdJx
XMMLrTAcnMQrrMiGzNNHrNCabND1/NOWvNJLjccQfcn/ppzDGRzRSC3VWe3RXL3T
OpzTVIzRFs3VFB3TSQ3JgBzVXn3U0vzFDW3VMz3PxizXTdzQBj3BiEzXZAzMKC3N
H8zD/XzRaX3P0qzK4MzHc93Va93VcozMXu3GhazUWq3YKsDDWK3Wi53Zkp3Zjj3P
UY3IanzZKZDYmb3YoH3JeU3Zqr3ak93Sqx3FRBzaqL3C1wzFTPPPSbzI67zZmr3V
fn3V3wzVbK3YU/zWJrDXZ43Zm73cYSzSnm3awQ3dwz3JCe3b0O3Wsw3ZkPzWVH3Y
fj3dKx3Cn33Jfgzc4k3YhX3XDq3Wot3byQzUtB3dmO3eUj3UqG3GKPzJm63TzB3V
/4NNxn292GUN0+1NAhTN22pc1qV91NqNxqm94CWwzwAt34WN3RV9AhetxUzzzUGs
3heuxdU93Ul8yxxswi2ty5GN1ELM0Cwd3g79zikt0W3N3r6d4CW+wilt3x/94ord
zSNOwyHu343N3W584vj8xATd3Yos0kY+3wKd40JuxY1Bza7s1wddxYBc05RM5Yd9
zqosz8mszb88zb9d3blM03nt5ejs2aM8wdcsxMgc55SszeLczMzM5dAM0tNMzWaM
5ba85WKeyl6+zQ9dzVWNxXkc42Q+yTm84rktw9v8x46d6Nssy53swMKN6ZoeBXa9
6Z5uBJ3+6aIeBKE+6qa+Azxifuqqvuqs3uqu/uqwHuuyPuu0Xuu2fuu4nuu6vuu8
3uu+/uvAHuzCPuzEXuzGfuzInuzKvuzM3uyGEAIAOw==

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=maint_plos.js
Content-Type: application/x-javascript; charset=utf-8; name=maint_plos.js
Content-Location: http://www.allentrack.net/maint_plos.js
Content-Transfer-Encoding: Base64

DQppZiAoMCkgLy96ZXJvIGlzIG9mZiwgb25lIGlzIG9uDQoNCnsNCg0KdmFyIG0g
PSAiU2NoZWR1bGVkIG1haW50ZW5hbmNlIGlzIHBsYW5uZWQgZnJvbSA3OjAwIHRv
IDk6MDAgcG0gR01UIG9uIFNhdHVyZGF5LCBNYXkgOC48QlI+VGhpcyBzaXRlIG1h
eSBiZSBpbmFjY2Vzc2libGUgZHVyaW5nIHRoZSBtYWludGVuYW5jZS4gUGxlYXNl
IHNhdmUgeW91ciB3b3JrIGJlZm9yZSB0aGlzIHRpbWUuIg0KDQpkb2N1bWVudC53
cml0ZSgiPFRBQkxFIHdpZHRoPVwiMTAwJVwiPjxUUj48VEQgYmdjb2xvcj1cIiM2
NmRkMDBcIj48Zm9udCBjb2xvcj1cImJsYWNrXCI+PENFTlRFUj48Qj48QlI+IikN
Cg0KDQpkb2N1bWVudC53cml0ZShtKQ0KDQoNCmRvY3VtZW50LndyaXRlKCI8QlI+
PEJSPjwvQj48L0NFTlRFUj48L2ZvbnQ+PC9URD48L1RSPjwvVEFCTEU+Iik7DQoN
Cg0KfQ==

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=tvs_submit.js
Content-Type: application/x-javascript; charset=utf-8; name=tvs_submit.js
Content-Location: http://compbiol.plosjms.org/html/tvs_submit.js
Content-Transfer-Encoding: Base64

Ly8gZG9jdW1lbnQuc29tZXRoaW5nIHNob3VsZCBiZSBjaGFuZ2VkIHRvICQoJ3Nv
bWV0aGluZycpIGluIHRoZSBmdXR1cmUKLy8KZnVuY3Rpb24gdHZzX2NsaWNrX2pz
KGNsaWNrX25tLCBiYWNrX3RvX3RhYikgewovLwlhbGVydCgiSW4gdHZzX2NsaWNr
X2pzIGZvciBbIitjbGlja19ubSsiXSIpOwoKICAvLyBUVFMgMTI4NjUKICBpZiAo
JCgndHZzX3RhYl9kcmF3bicpID09IG51bGwpIHsgICAKICAgIGlmICghY29uZmly
bSgnVGhlIGZvcm0gaGFzIG5vdCBmaW5pc2hlZCBkaXNwbGF5aW5nLiAgSWYgeW91
IGNvbnRpbnVlIGRhdGEgbG9zcyBtYXkgb2NjdXIuICBBcmUgeW91IHN1cmUgeW91
IHdhbnQgdG8gZG8gdGhpcz9cblxuUHJlc3MgY2FuY2VsIHRvIGVuc3VyZSB5b3Ug
ZG8gbm90IGxvc2UgeW91ciB3b3JrLicpKSB7CiAgICAgIGlmIChhcHlfcHJldmlv
dXNfdGFiICE9IG51bGwgJiYgYXB5X3ByZXZpb3VzX21lbnUgIT0gbnVsbCkgewog
ICAgICAgIGFweV9iQ2xpY2soYXB5X3ByZXZpb3VzX21lbnUsIGFweV9wcmV2aW91
c190YWIsIHRydWUpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAg
CiAgZG9jdW1lbnQudHZzX3N1Ym1pdC5jbGlja2VkLnZhbHVlPWNsaWNrX25tOwog
IAogIGlmIChiYWNrX3RvX3RhYikgewogICAgJCgnYmFja190b190YWInKS52YWx1
ZT1iYWNrX3RvX3RhYjsKICB9CgogIC8vIENsb3NlIHRoZSBzcGVjaWFsIHN5bWJv
bCBwYWxldHRlIGlmIGl0IGV4aXN0cwogIHN5bWJvbF9jbG9zZVBhbGV0dGUoKTsK
ICAvLyAgICAgYXV0aG9yX2Nsb3NlUGFuZWwoKTsKICBpZiAoZG9jdW1lbnQudHZz
X3N1Ym1pdC5jdXJyZW50X25lc3RlZF90YWIudmFsdWUgPT0gInVwbG9hZF9maWxl
cyIpIHsKICAgIAogICAgaWYgKGNsaWNrX25tID09ICJuZXh0IikgewogICAgICAv
LyBjaGVjayBmaWxlIGNvdW50CiAgICAgIAogICAgICBpZiAoZmlsZUxpc3QubGVu
Z3RoPjApIHsKICAgICAgICAvLwogICAgICAgIC8vIG5vIG5lZWQgZm9yIGFsZXJ0
IGlmICJuZXh0IiBidXR0b24gaXMgY2xpY2tlZCBvbiB1cGxvYWRfZmlsZXMgc2Ny
ZWVuCiAgICAgICAgLy8JCSAgaWYoIWNvbmZpcm1fdXBsb2FkX2ZpbGVzKCkpIHsK
ICAgICAgICAvLwkJCXJldHVybjsKICAgICAgICAvLyAgICAgICAgICAgICAgICAg
IH0KICAgICAgICAvLyBzaW1wbGUgZmlsZSB1cGxvYWQJCiAgICAgICAgdHZzX2Rp
c2FibGVfYnV0dG9ucygpOwogICAgICAgIHVwbG9hZEFqYXgoKTsKICAgICAgICBy
ZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gc2V0IHNpbXBsZSBmb3Jt
IGFjdGlvbgogICAgICAgIGRvY3VtZW50LnR2c19zdWJtaXQuYWN0aW9uPSJjZ2kt
YmluL21haW4ucGxleCI7CiAgICAgICAgCiAgICAgICAgLy8gc3VibWl0IGZvcm0K
ICAgICAgICB0dnNfZGlzYWJsZV9idXR0b25zKCk7CiAgICAgICAgZG9jdW1lbnQu
dHZzX3N1Ym1pdC5zdWJtaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAg
IH0gIGVsc2UgewogICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoPjApIHsKICAgICAg
ICB1cGxvYWRBamF4KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewoJ
CS8vIHNldCBzaW1wbGUgZm9ybSBhY3Rpb24KCQlkb2N1bWVudC50dnNfc3VibWl0
LmFjdGlvbj0iY2dpLWJpbi9tYWluLnBsZXgiOwogICAgICAgIAoJCS8vIHN1Ym1p
dCBmb3JtCiAgICAgICAgdHZzX2Rpc2FibGVfYnV0dG9ucygpOwoJCWRvY3VtZW50
LnR2c19zdWJtaXQuc3VibWl0KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg
ICB9CiAgfSBlbHNlIGlmIChkb2N1bWVudC50dnNfc3VibWl0LmN1cnJlbnRfbmVz
dGVkX3RhYi52YWx1ZSA9PSAicmVtb3ZlX2ZpbGVzIiB8fAogICAgICAgICAgICAg
ZG9jdW1lbnQudHZzX3N1Ym1pdC5jdXJyZW50X25lc3RlZF90YWIudmFsdWUgPT0g
ImZpbGVfdHlwZSIpIHsKICAgIGlmKChjbGlja19ubSA9PSAibmV4dCIgfHwgY2xp
Y2tfbm0gPT0gInByZXZpb3VzIikgJiYgIWNvbmZpcm1fcmVtb3ZlX2ZpbGVzKCkp
IHsKICAgICAgcmV0dXJuOwogICAgfSBlbHNlIHsKICAgICAgdHZzX2Rpc2FibGVf
YnV0dG9ucygpOwogICAgICBkb2N1bWVudC50dnNfc3VibWl0LnN1Ym1pdCgpOwog
ICAgfQogIH0gZWxzZSBpZiAoZG9jdW1lbnQudHZzX3N1Ym1pdC5jdXJyZW50X25l
c3RlZF90YWIudmFsdWUgPT0gInJlcGxhY2VfZmlsZXMiKSB7CiAgICBpZigoY2xp
Y2tfbm0gPT0gIm5leHQiIHx8IGNsaWNrX25tID09ICJwcmV2aW91cyIpICYmICgh
Y29uZmlybV9yZXBsYWNlX2ZpbGVzKCkgfHwgIWNvbmZpcm1fcmVtb3ZlX2ZpbGVz
KCkpKSB7CiAgICAgIHJldHVybjsKICAgIH0gZWxzZSB7CiAgICAgIHR2c19kaXNh
YmxlX2J1dHRvbnMoKTsKICAgICAgZG9jdW1lbnQudHZzX3N1Ym1pdC5zdWJtaXQo
KTsKICAgIH0KICB9IGVsc2UgewogICAgdHZzX2Rpc2FibGVfYnV0dG9ucygpOwog
ICAgZG9jdW1lbnQudHZzX3N1Ym1pdC5zdWJtaXQoKTsKICB9Cn0KCmZ1bmN0aW9u
IHR2c19kaXNhYmxlX2J1dHRvbnMoKSB7CiAgJCQoImlucHV0W3R5cGU9J2J1dHRv
biddIikuZWFjaChmdW5jdGlvbihiKSB7CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGIuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgfSk7Cn0KCmZ1bmN0aW9uIHR2c190YWJfc3RhcnRl
ZCgpIHsKICB0dnNfdGFiX2RyYXduID0gZmFsc2U7Cn0KCmZ1bmN0aW9uIHR2c190
YWJfZW5kZWQoKSB7CiAgdHZzX3RhYl9kcmF3biA9IHRydWU7Cn0KCmZ1bmN0aW9u
IHR2c19zdHJpa2VfdGhyb3VnaChjaGVja2JveF9pZCwgdHJfaWQpIHsKCWNiX29i
aj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGVja2JveF9pZCk7Cgl0cl9vYmo9
ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJfaWQpOwoKCWlmIChjYl9vYmouY2hl
Y2tlZCkgewogCSAgdHJfb2JqLnN0eWxlLmNvbG9yPSJyZWQiOwogCSAgdHJfb2Jq
LnN0eWxlLnRleHREZWNvcmF0aW9uPSJsaW5lLXRocm91Z2giOwoJfSBlbHNlIHsK
IAkgIHRyX29iai5zdHlsZS5jb2xvcj0iYmxhY2siOwogCSAgdHJfb2JqLnN0eWxl
LnRleHREZWNvcmF0aW9uPSJub25lIjsKCX0KCn0KCgovLwovLwovL2Z1bmN0aW9u
IHR2c190YWJfY2xpY2tfanModGFiX25tKSB7Ci8vCWFsZXJ0KCJJbiB0dnNfc3Vi
bWl0X2pzIGZvciBbIit0YWJfbm0rIl0iKTsKLy8JZG9jdW1lbnQudHZzX3N1Ym1p
dC5jbGlja2VkX3RhYi52YWx1ZT10YWJfbm07Ci8vCWFsZXJ0KCJJbiB0dnNfc3Vi
bWl0X2pzIGZvciB2YWx1ZT1bIitkb2N1bWVudC50dnNfc3VibWl0LmNsaWNrZWRf
dGFiLnZhbHVlKyJdIik7Ci8vCWRvY3VtZW50LnR2c19zdWJtaXQuc3VibWl0KCk7
Ci8vCi8vfQovLwoKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vCi8vIEZpbGUgb3JkZXJpbmcgZnVuY3Rpb25zCi8v
IHZhciBvYmplY3RpZHMgPSBuZXcgQXJyYXkoKTsKCmZ1bmN0aW9uIG1vdmVVcChy
b3cpIHsKICBpZiAocm93PT0wKSByZXR1cm47CgogIHZhciBucm93PXJvdzsKICBu
cm93LS07CgogIHZhciBjdXJfb2JqZWN0aWQ9b2JqZWN0aWRzW3Jvd107CiAgdmFy
IG5ld19vYmplY3RpZD1vYmplY3RpZHNbbnJvd107CgogIC8vIGZpeCBvYmplY3Rp
ZCBhcnJheQogIG9iamVjdGlkc1tucm93XT1jdXJfb2JqZWN0aWQ7CiAgb2JqZWN0
aWRzW3Jvd109bmV3X29iamVjdGlkOwoKICAvLyBhbGVydCgiSW4gbW92ZVVwIGM9
IitjdXJfb2JqZWN0aWQrIiBuPSIrbmV3X29iamVjdGlkKyIgcj0iK3JvdysiIG5y
PSIrbnJvdyk7CgogIC8vIG1vdmUgY2VsbHMKICBmb3IgKHg9MjsgeDw4OyB4Kysp
IHsKICAgc3dhcENlbGxzKHgsIHJvdywgbnJvdyk7CiAgfQogIHNhdmVPYmplY3Rp
ZHMoKTsKfQoKZnVuY3Rpb24gZGlzcGxheV9vYmplY3RfaWRfbGlzdCgpCnsKIHZh
ciBvYmplY3RfaWRfbGlzdCA9IG9iamVjdGlkcy5qb2luKCIsIik7CiBhbGVydCgi
b2JqZWN0X2lkX2xpc3Q9IitvYmplY3RfaWRfbGlzdCk7Cn0KCmZ1bmN0aW9uIG1v
dmVEb3duKHJvdykgewogIHZhciBucm93PXJvdzsKICBucm93Kys7CgogIHZhciBs
YXN0X3Jvdz1vYmplY3RpZHMubGVuZ3RoOwogIGlmIChyb3c9PWxhc3Rfcm93KSBy
ZXR1cm47CgkKICB2YXIgY3VyX29iamVjdGlkPW9iamVjdGlkc1tyb3ddOwogIHZh
ciBuZXdfb2JqZWN0aWQ9b2JqZWN0aWRzW25yb3ddOwoKICAvLyBmaXggb2JqZWN0
aWQgYXJyYXkKICBvYmplY3RpZHNbbnJvd109Y3VyX29iamVjdGlkOwogIG9iamVj
dGlkc1tyb3ddPW5ld19vYmplY3RpZDsKCiAgLy8gbW92ZSBjZWxscwogIGZvciAo
eD0yOyB4PDg7IHgrKykgewogICBzd2FwQ2VsbHMoeCwgcm93LCBucm93KTsKICB9
CiAgc2F2ZU9iamVjdGlkcygpOwp9CgpmdW5jdGlvbiBzd2FwQ2VsbHMoY29sdW1u
LCByb3csIG5yb3cpCnsKCiB2YXIgYzE9InRkX2MiK2NvbHVtbisiXyIrcm93Owog
dmFyIGMyPSJ0ZF9jIitjb2x1bW4rIl8iK25yb3c7CiAKIHZhciBjMV9vYmo9ZG9j
dW1lbnQuZ2V0RWxlbWVudEJ5SWQoYzEpOwkKIHZhciBjMl9vYmo9ZG9jdW1lbnQu
Z2V0RWxlbWVudEJ5SWQoYzIpOwkKCiB2YXIgYzFfY2hlY2tlZCA9IGZhbHNlOwog
dmFyIGMyX2NoZWNrZWQgPSBmYWxzZTsKCiB2YXIgaTsKIHZhciBlbGVtZW50czsK
CiBlbGVtZW50cyA9IGMxX29iai5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQi
KTsKIGZvciAoaT0wOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgaWYg
KGVsZW1lbnRzW2ldLnR5cGUgPT0gImNoZWNrYm94IikgYzFfY2hlY2tlZCA9IGVs
ZW1lbnRzW2ldLmNoZWNrZWQ7CiB9CgogZWxlbWVudHMgPSBjMl9vYmouZ2V0RWxl
bWVudHNCeVRhZ05hbWUoImlucHV0Iik7CiBmb3IgKGk9MDsgaSA8IGVsZW1lbnRz
Lmxlbmd0aDsgaSsrKSB7CiAgIGlmIChlbGVtZW50c1tpXS50eXBlID09ICJjaGVj
a2JveCIpIGMyX2NoZWNrZWQgPSBlbGVtZW50c1tpXS5jaGVja2VkOwogfQoKIAog
dmFyIGMxX2lubmVyPSBjMV9vYmouaW5uZXJIVE1MOwkKIHZhciBjMl9pbm5lcj0g
YzJfb2JqLmlubmVySFRNTDsJCiBjMV9vYmouaW5uZXJIVE1MPWMyX2lubmVyOwog
YzJfb2JqLmlubmVySFRNTD1jMV9pbm5lcjsKCgogZWxlbWVudHMgPSBjMV9vYmou
Z2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7CiBmb3IgKGk9MDsgaSA8IGVs
ZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgIGlmIChlbGVtZW50c1tpXS50eXBlID09
ICJjaGVja2JveCIpIGVsZW1lbnRzW2ldLmNoZWNrZWQgPSBjMl9jaGVja2VkOwog
fQoKIGVsZW1lbnRzID0gYzJfb2JqLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1
dCIpOwogZm9yIChpPTA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICBp
ZiAoZWxlbWVudHNbaV0udHlwZSA9PSAiY2hlY2tib3giKSBlbGVtZW50c1tpXS5j
aGVja2VkID0gYzFfY2hlY2tlZDsKIH0KIAp9CgovLyBXcml0ZSB0aGUgb2JqZWN0
X2lkIG9yZGVyIG91dCB0byBhIGhpZGRlbiBmaWVsZApmdW5jdGlvbiBzYXZlT2Jq
ZWN0aWRzKCkgewogIHZhciBvYmplY3RfaWRfbGlzdF9vYmo9ZG9jdW1lbnQuZ2V0
RWxlbWVudEJ5SWQoJ29iamVjdF9pZF9saXN0Jyk7CQogIG9iamVjdF9pZF9saXN0
X29iai52YWx1ZSA9IG9iamVjdGlkcy5qb2luKCIsIik7Cn0KCgpmdW5jdGlvbiBj
b25maXJtX3VwbG9hZF9maWxlcygpIHsKCiAgaWYgKGZpbGVMaXN0Lmxlbmd0aD4w
KSB7CiAgICAgIC8vIGFsZXJ0IHRvIHF1ZXN0aW9uIHVwbG9hZCBwcm9jZWVkPwoK
ICAgICBpZiAoY29uZmlybSgiRG8geW91IHdhbnQgdG8gdXBsb2FkIHlvdXIgZmls
ZXM/IikpIHsKICAgICAgIC8vIHByb2NlZWQKICAgICAgIHJldHVybiAxOwogICAg
IH0gZWxzZSB7CiAgICAgICAvLyBzdGF5IG9uIGN1cnJlbnQgcGFnZQogICAgICAg
cmV0dXJuIDA7CiAgICAgfQogIH0gZWxzZSB7CiAgICAgIC8vIHByb2NlZWQKICAg
ICAgcmV0dXJuIDE7CiAgfQp9CmZ1bmN0aW9uIGNvbmZpcm1fcmVwbGFjZV9maWxl
cygpIHsKICB2YXIgb2JqZWN0X3N0ciA9ICIiOwoKICBpZiAoJCgnb2JqZWN0X2lk
X2xpc3QnKSAhPSB1bmRlZmluZWQpIHsKICAgIG9iamVjdF9zdHIgPSAkKCdvYmpl
Y3RfaWRfbGlzdCcpLnZhbHVlOwogIH0KCiAgaWYgKG9iamVjdF9zdHIgPT0gIiIp
IAogICAgcmV0dXJuIDE7CgogIHZhciBvYmplY3RfaWRfbGlzdD1vYmplY3Rfc3Ry
LnNwbGl0KCIsIik7CiAgdmFyIGNoZWNrX2NudD0wOwogIHZhciBmaWxlX2NudD0w
OwogIGZvciAoeD0wOyB4PG9iamVjdF9pZF9saXN0Lmxlbmd0aDsgeCsrKSB7CiAg
IHZhciBmaWxlX3N0cj0iY2hjaz1kb2N1bWVudC50dnNfc3VibWl0LmZpbGVfIitv
YmplY3RfaWRfbGlzdFt4XSsiLnZhbHVlIjsKICAgZXZhbChmaWxlX3N0cik7CiAg
IGlmIChjaGNrKSB7ICAKICAgICBmaWxlX2NudD1maWxlX2NudCsxOwogICB9CiB9
CiBpZiAoZmlsZV9jbnQ9PTApIHsKICAvLyBub3RoaW5nIGNoZWNrZWQsIHByb2Nl
ZWQKICByZXR1cm4gMTsKIH0gZWxzZSBpZiAoZmlsZV9jbnQ9PTEpIHsKICAgICBp
ZiAoY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlcGxhY2UgMSBm
aWxlPyIpKSB7CiAgICAgICAvLyBwcm9jZWVkCiAgICAgICByZXR1cm4gMTsKICAg
ICB9IGVsc2UgewogICAgICAgLy8gc3RheSBvbiBjdXJyZW50IHBhZ2UKICAgICAg
IHJldHVybiAwOwogICAgIH0KIH0gZWxzZSBpZiAoZmlsZV9jbnQ+MSkgewogICAg
IGlmIChjb25maXJtKCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVwbGFjZSAi
K2ZpbGVfY250KyIgZmlsZXM/IikpIHsKICAgICAgIC8vIHByb2NlZWQKICAgICAg
IHJldHVybiAxOwogICAgIH0gZWxzZSB7CiAgICAgICAvLyBzdGF5IG9uIGN1cnJl
bnQgcGFnZQogICAgICAgcmV0dXJuIDA7CiAgICAgfQogfQp9CgpmdW5jdGlvbiBj
b25maXJtX3JlbW92ZV9maWxlcygpIHsKICB2YXIgb2JqZWN0X3N0ciA9ICIiOwoK
ICBpZiAoJCgnb2JqZWN0X2lkX2xpc3QnKSAhPSB1bmRlZmluZWQpIHsKICAgIG9i
amVjdF9zdHIgPSAkKCdvYmplY3RfaWRfbGlzdCcpLnZhbHVlOwogIH0KCiAgaWYg
KG9iamVjdF9zdHIgPT0gIiIpIAogICAgcmV0dXJuIDE7CgogIHZhciBvYmplY3Rf
aWRfbGlzdD1vYmplY3Rfc3RyLnNwbGl0KCIsIik7CiAgdmFyIGNoZWNrX2NudD0w
OwoKICBmb3IgKHg9MDsgeDxvYmplY3RfaWRfbGlzdC5sZW5ndGg7IHgrKykgewog
ICAgdmFyIGNoa2JveF9vYmplY3QgPSAkKCdyZW1vdmVfZmlsZV8nK29iamVjdF9p
ZF9saXN0W3hdKTsKCiAgICAvLyBpZiBubyBjaGVja2JveCwgb3Igbm90IGNoZWNr
ZWQsIHNraXAgdGhpcyBvYmplY3RfaWQKICAgIGlmIChjaGtib3hfb2JqZWN0ICE9
IG51bGwKICAgICAgICAmJiBjaGtib3hfb2JqZWN0LmNoZWNrZWQpIHsgIAogICAg
ICBjaGVja19jbnQ9Y2hlY2tfY250KzE7CiAgICB9CiAgfQoKICBpZiAoY2hlY2tf
Y250PT0wKSB7CiAgIC8vIG5vdGhpbmcgY2hlY2tlZCwgcHJvY2VlZAogICByZXR1
cm4gMTsKCiAgfSBlbHNlIGlmIChjaGVja19jbnQ9PTEpIHsKICAgICBpZiAoY29u
ZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSAxIGZpbGU/Iikp
IHsKICAgICAgIC8vIHByb2NlZWQKICAgICAgIHJldHVybiAxOwogICAgIH0gZWxz
ZSB7CiAgICAgICAvLyBzdGF5IG9uIGN1cnJlbnQgcGFnZQogICAgICAgcmV0dXJu
IDA7CiAgICAgfQoKICB9IGVsc2UgaWYgKGNoZWNrX2NudD4xKSB7CiAgICAgaWYg
KGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgIitjaGVj
a19jbnQrIiBmaWxlcz8iKSkgewogICAgICAgLy8gcHJvY2VlZAogICAgICAgcmV0
dXJuIDE7CiAgICAgfSBlbHNlIHsKICAgICAgIC8vIHN0YXkgb24gY3VycmVudCBw
YWdlCiAgICAgICByZXR1cm4gMDsKICAgICB9CiAgfQp9CgoKdmFyIHNzQ3VycmVu
dFRhcmdldCA9ICIiOwoKZnVuY3Rpb24gc3ltYm9sX3Nob3dQYWxldHRlKGxpbmss
IGlkKSB7CiAgc3NDdXJyZW50VGFyZ2V0ID0gaWQ7CiAgZWxlbWVudCA9ICQobGlu
ayk7CiAgRWxlbWVudC5jbG9uZVBvc2l0aW9uKCdzeW1ib2xfcGFsZXR0ZScsIGxp
bmssIHsgc2V0SGVpZ2h0OmZhbHNlLCBzZXRXaWR0aDpmYWxzZSwgb2Zmc2V0VG9w
OmVsZW1lbnQub2Zmc2V0SGVpZ2h0KzQsIG9mZnNldExlZnQ6LTM1MCB9KTsKICAk
KCdzeW1ib2xfcGFsZXR0ZScpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsKCiAgLy8g
VGhpcyBpcyBkZXByZWNhdGVkCiAgLy9Qb3NpdGlvbi5jbG9uZShsaW5rLCAnc3lt
Ym9sX3BhbGV0dGUnLCB7IHNldEhlaWdodDpmYWxzZSwgc2V0V2lkdGg6ZmFsc2Us
IG9mZnNldFRvcDplbGVtZW50Lm9mZnNldEhlaWdodCs0LCBvZmZzZXRMZWZ0Oi0z
NTAgfSk7CgogIEV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsICdrZXlwcmVzcycsIGNo
ZWNrQ2xvc2VTU1BhbGV0dGUpOwogIAp9CgpmdW5jdGlvbiBjaGVja0Nsb3NlU1NQ
YWxldHRlKGUpIHsKICAvLyBFU0MgPT0gMjcKICBpZiAoZS5rZXlDb2RlID09IDI3
KSB7CiAgICBzeW1ib2xfY2xvc2VQYWxldHRlKCk7CiAgfQp9CgpmdW5jdGlvbiBz
eW1ib2xfY2xvc2VQYWxldHRlKCkgewogIGlmICgkKCdzeW1ib2xfcGFsZXR0ZScp
IT1udWxsKSB7CiAgICAkKCdzeW1ib2xfcGFsZXR0ZScpLnN0eWxlLmRpc3BsYXk9
J25vbmUnOwogICAgc3NDdXJyZW50VGFyZ2V0ID0gIiI7CiAgICBFdmVudC5zdG9w
T2JzZXJ2aW5nKGRvY3VtZW50LCAna2V5cHJlc3MnLCBjaGVja0Nsb3NlU1NQYWxl
dHRlKTsKICB9Cn0KCmZ1bmN0aW9uIHN5bWJvbF9DbGlja2VkKHN5bWJvbCkgewog
IGlmIChzc0N1cnJlbnRUYXJnZXQgPT0gIiIpIHJldHVybjsKICBpbnNlcnRBdEN1
cnNvcigkKHNzQ3VycmVudFRhcmdldCksIHN5bWJvbCk7Cn0KCi8vIEluc2VydCB0
ZXh0IGF0IGN1cnNvciBwb3NpdGlvbgpmdW5jdGlvbiBpbnNlcnRBdEN1cnNvciht
eUZpZWxkLCBteVZhbHVlKSB7CiAgLy9JRSBzdXBwb3J0CiAgaWYgKGRvY3VtZW50
LnNlbGVjdGlvbikgewogICAgbXlGaWVsZC5mb2N1cygpOwogICAgc2VsID0gZG9j
dW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7CiAgICBzZWwudGV4dCA9IG15
VmFsdWU7CiAgfQogIC8vTU9aSUxMQS9ORVRTQ0FQRSBzdXBwb3J0CiAgZWxzZSBp
ZiAobXlGaWVsZC5zZWxlY3Rpb25TdGFydCB8fCBteUZpZWxkLnNlbGVjdGlvblN0
YXJ0ID09ICcwJykgewogICAgdmFyIHN0YXJ0UG9zID0gbXlGaWVsZC5zZWxlY3Rp
b25TdGFydDsKICAgIHZhciBlbmRQb3MgPSBteUZpZWxkLnNlbGVjdGlvbkVuZDsK
ICAgIG15RmllbGQudmFsdWUgPSBteUZpZWxkLnZhbHVlLnN1YnN0cmluZygwLCBz
dGFydFBvcykKICAgICAgKyBteVZhbHVlCiAgICAgICsgbXlGaWVsZC52YWx1ZS5z
dWJzdHJpbmcoZW5kUG9zLCBteUZpZWxkLnZhbHVlLmxlbmd0aCk7CiAgICBzZXRT
ZWxSYW5nZShteUZpZWxkLCBzdGFydFBvcysxLCBzdGFydFBvcysxKTsKICB9IGVs
c2UgewogICAgbXlGaWVsZC52YWx1ZSArPSBteVZhbHVlOwogICAgbXlmaWVsZC5z
ZWxlY3Rpb25TdGFydCA9IHN0YXJ0UG9zOwogIH0KICAKfQoKLy8gTW92ZSBhIGN1
cnNvci9jcmVhdGUgc2VsZWN0aW9uIGluIGEgdGV4dGFyZWEKZnVuY3Rpb24gc2V0
U2VsUmFuZ2UoaW5wdXRFbCwgc2VsU3RhcnQsIHNlbEVuZCkgeyAKICBpZiAoaW5w
dXRFbC5zZXRTZWxlY3Rpb25SYW5nZSkgeyAKICAgIGlucHV0RWwuZm9jdXMoKTsg
CiAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKHNlbFN0YXJ0LCBzZWxFbmQp
OyAKICB9IGVsc2UgaWYgKGlucHV0RWwuY3JlYXRlVGV4dFJhbmdlKSB7IAogICAg
dmFyIHJhbmdlID0gaW5wdXRFbC5jcmVhdGVUZXh0UmFuZ2UoKTsgCiAgICByYW5n
ZS5jb2xsYXBzZSh0cnVlKTsgCiAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXIn
LCBzZWxFbmQpOyAKICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2Vs
U3RhcnQpOyAKICAgIHJhbmdlLnNlbGVjdCgpOyAKICB9IAp9CgoKLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLwovLyBGaW5hbmNpYWxzCgovLyBUaGlzIHNlY3Rpb24gaXMgZ29p
bmcgdG8gcmVxdWlyZSBhIGxvdCBvZiBjbGVhbnVwCgpmdW5jdGlvbiBzZXREaXNj
b3VudEluc3RMaXN0KGRhdGFMaXN0LCBkYXRhU2l6ZSkgewogIHZhciBkYXRhQXJy
YXksIGNvdW50LCBpbnN0TGlzdExlbmd0aCwgb3B0aW9uQXJyYXk7CiAgaW5zdExp
c3RMZW5ndGggPSAkKCdkaXNjX2luc3RfaWQnKS5vcHRpb25zLmxlbmd0aDsKCiAg
Ly9ldmFsKFwiZGF0YUFycmF5ID0gXCIrZGF0YUxpc3QrXCIudmFsdWUuc3BsaXQo
XFxcIlx8XHxcXFwiKTtcIik7CgogIGRhdGFBcnJheSA9ICQoZGF0YUxpc3QpLnZh
bHVlLnNwbGl0KCd8fCcpOwogIAogIGZvciAoY291bnQgPSAwOyBjb3VudCA8PSBp
bnN0TGlzdExlbmd0aDsgY291bnQrKyl7CiAgICAkKCdkaXNjX2luc3RfaWQnKS5v
cHRpb25zWzBdID0gbnVsbDsKICB9CiAgCiAgZm9yIChjb3VudCA9IDA7IGNvdW50
IDwgZGF0YVNpemU7IGNvdW50KyspewogICAgb3B0aW9uQXJyYXkgPSBkYXRhQXJy
YXlbY291bnRdLnNwbGl0KCd8Jyk7CiAgICAgICQoJ2Rpc2NfaW5zdF9pZCcpLm9w
dGlvbnNbY291bnRdID0gbmV3IE9wdGlvbihvcHRpb25BcnJheVsxXSsnICgkJytv
cHRpb25BcnJheVsyXSsnKScsIG9wdGlvbkFycmF5WzBdKyd8JytvcHRpb25BcnJh
eVsxXSsnfCcrb3B0aW9uQXJyYXlbMl0sIGZhbHNlLCBmYWxzZSk7CiAgfQogICQo
J2Rpc2NfaW5zdF9jaGFyZ2VfYW10JykudmFsdWUgPSAiIjsKfQoKZnVuY3Rpb24g
c2V0RGlzY291bnRJbnN0Q2hhcmdlKCkgewogIHZhciBzZWxlY3RlZElkLCBpbnN0
QXJyYXksIGluc3RWYWw7CiAgc2VsZWN0ZWRJZCA9ICQoJ2Rpc2NfaW5zdF9pZCcp
LnNlbGVjdGVkSW5kZXg7CiAgaWYoc2VsZWN0ZWRJZCA8IDApIHsKICAgIHJldHVy
bjsKICB9CiAgCiAgaW5zdFZhbCA9ICQoJ2Rpc2NfaW5zdF9pZCcpLm9wdGlvbnNb
c2VsZWN0ZWRJZF0udmFsdWU7CiAgaWYoaW5zdFZhbCA9PSAnJykgewogICAgcmV0
dXJuOwogIH0KICAKICBpbnN0QXJyYXkgPSBpbnN0VmFsLnNwbGl0KCd8Jyk7CiAg
JCgnZGlzY19pbnN0X2NoYXJnZV9hbXQnKS52YWx1ZSA9IGluc3RBcnJheVsyXTsK
fQoKCmZ1bmN0aW9uIHZhbGlkYXRlRGlzY291bnRJbnN0aXR1dGlvbigpIHsKICB2
YXIgaW5zdEFjY2VwdEFtdDsKICB2YXIgcmVnRXhwID0gL14oXGQrXC5cZCp8XGQq
XC5cZCt8XGQrKSQvOwoKICBpZigkKCdkaXNjX2luc3RfaW5kJylbMV0uY2hlY2tl
ZCl7CiAgICBpZigkKCdkaXNjX2luc3RfaWQnKS5zZWxlY3RlZEluZGV4IDwgMCB8
fCAkKCdkaXNjX2luc3RfaWQnKS5vcHRpb25zWyQoJ2Rpc2NfaW5zdF9pZCcpLnNl
bGVjdGVkSW5kZXhdLnZhbHVlID09ICcnKXsKICAgICAgYWxlcnQoJ1BsZWFzZSBz
ZWxlY3QgYSAnICsgZGlzY291bnRfaW5zdF9sYWJlbCArICcuJyk7CiAgICAgIHJl
dHVybjsKICAgIH0KCiAgICBpZighJCgnZGlzY19pbnN0X2FjY2VwdF9pbmQnKVsw
XS5jaGVja2VkICYmCiAgICAgICAhJCgnZGlzY19pbnN0X2FjY2VwdF9pbmQnKVsx
XS5jaGVja2VkICYmCiAgICAgICAhJCgnZGlzY19pbnN0X2FjY2VwdF9pbmQnKVsy
XS5jaGVja2VkKXsKICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYW4gYW1vdW50
LicpOwogICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIGluc3RBY2NlcHRBbXQg
PSAkKCdkaXNjX2luc3RfYWNjZXB0X2FtdCcpLnZhbHVlOwogICAgaWYoJCgnZGlz
Y19pbnN0X2FjY2VwdF9pbmQnKVsxXS5jaGVja2VkKXsKICAgICAgaW5zdEFjY2Vw
dEFtdCA9IGluc3RBY2NlcHRBbXQucmVwbGFjZSgvXCwvZywgJycpOwogICAgICBp
ZihpbnN0QWNjZXB0QW10ID09ICcnIHx8ICFyZWdFeHAudGVzdChpbnN0QWNjZXB0
QW10KSl7ICAgICAgICAKICAgICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgY29y
cmVjdCBhbW91bnQgaW4gJyArIGRpc2NfaW5zdF9sYWJlbCArICcuJyk7CiAgICAg
ICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgfQoKICAvL2RvY3VtZW50LnNtLmFj
dGlvbi52YWx1ZSA9ICdNb2RpZnknOwogIC8vZG9jdW1lbnQuc20uc3VibWl0KCk7
Cn0KCi8vIEVuZCBGaW5hbmNpYWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLwoKLy8KLy8gIENPTkZMSUNUCi8vCmZ1bmN0aW9u
IG11bHRpcGxlX2NvbmZsaWN0X3VuY2hlY2tfbm8gKCkgewogIC8vZXZhbCggImRv
Y3VtZW50LnNtLmNvbmZsaWN0X2luZHNbMF0uY2hlY2tlZCA9IGZhbHNlOyIgKTsK
ICBldmFsKCAiJCgnY29uZmxpY3RfaW5kc18wJykuY2hlY2tlZCA9IGZhbHNlIiAp
Owp9CgpmdW5jdGlvbiBtdWx0aXBsZV9jb25mbGljdF91bmNoZWNrX3llcyAoY291
bnQpIHsKICB2YXIgaTsKICBmb3IoIGk9MTsgaSA8IGNvdW50OyBpKyspIHsKICAg
IC8vZXZhbCggImRvY3VtZW50LnNtLmNvbmZsaWN0X2luZHNbaV0uY2hlY2tlZCA9
IGZhbHNlOyIgKTsKICAgIGV2YWwoICIkKCdjb25mbGljdF9pbmRzXycraSkuY2hl
Y2tlZCA9IGZhbHNlIiApOwogIH0KfQovLwovLyAgIEVORCBDT05GTElDVAovLwoK
Ly8KLy8gQ0xJTklDQUwgVFJJQUwKLy8KICAgIGZ1bmN0aW9uIGNsaW5pY2FsVHJp
YWxQb3B1cFRleHQodGV4dCkgewogICAgICB2YXIgbmV3V2luZG93OwogICAgICBu
ZXdXaW4gPSB3aW5kb3cub3BlbignJywnY2xpbmljYWxUcmlhbCcsJ3Rvb2xiYXI9
bm8sbG9jYXRpb249bm8sZGlyZWN0b3JpZXM9bm8sc3RhdHVzPW5vLHNjcm9sbGJh
cnM9eWVzLHJlc2l6YWJsZT1ubyxjb3B5aGlzdG9yeT1ubyx3aWR0aD01MDAsaGVp
Z2h0PTQwMCcpOwogICAgICBuZXdXaW4uZG9jdW1lbnQud3JpdGVsbih0ZXh0KTsK
ICAgICAgbmV3V2luLmRvY3VtZW50LndyaXRlbG4oJzxicj48YnI+Jyk7CiAgICAg
IG5ld1dpbi5kb2N1bWVudC53cml0ZWxuKCc8ZGl2IGFsaWduPSJjZW50ZXIiPjxp
bnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJDbG9zZSBXaW5kb3ciIG9uY2xpY2s9
InNlbGYuY2xvc2UoKTsiIC8+PC9kaXY+Jyk7CiAgICAgIG5ld1dpbi5kb2N1bWVu
dC5jbG9zZSgpOwogICAgICBuZXdXaW4uZm9jdXMoKTsKICAgIH0KLy8KLy8gRU5E
IENMSU5JQ0FMIFRSSUFMCi8vCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLwovLyBXb3JkIENvdW50IENhbGN1bGF0b3IgU1RBUlQKLy8KCi8v
b3BlbnMgcG9wdXAgZm9yIHRoZSBjYWxjdWxhdG9yCmZ1bmN0aW9uIE9wZW5DYWxj
dWxhdG9yICh1cmwpIHsKICAvL3dpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJ
ZCgnY2hhcmFjdGVyX2NvdW50X3N0cmluZycpLnZhbHVlID0gJCgnY2hhcmFjdGVy
X2NvdW50X3N0cmluZycpLnZhbHVlOwogIC8vdGFjayB0aGlzIG9uCiAgdmFyIHN0
ciA9ICcmY2hhcmFjdGVyX2NvdW50X3N0cmluZz0nKyQoJ2NoYXJhY3Rlcl9jb3Vu
dF9zdHJpbmcnKS52YWx1ZTsKCiAgd2luZG93Lm9wZW4odXJsK3N0ciwgJ2NhbGN1
bGF0b3InLCd0b29sYmFyPW5vLGxvY2F0aW9uPW5vLGRpcmVjdG9yaWVzPW5vLHN0
YXR1cz1ubyxzY3JvbGxiYXJzPXllcyxyZXNpemFibGU9eWVzLGNvcHloaXN0b3J5
PW5vLHdpZHRoPTkyMCxoZWlnaHQ9NjAwJyk7Cn0KCi8vCi8vIFdvcmQgQ291bnQg
Q2FsY3VsYXRvciBFTkQKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vLy8vLwoKLy9vcGVucyBwb3B1cCBmb3IgdGhlIHJlcG9zaXRvcnkgZnVuZGVy
cwpmdW5jdGlvbiBPcGVuUmVwb3NpdG9yeUZ1bmRpbmcgKHVybCkgewogIHZhciBz
dHIgPSAnJnJlcG9zaXRvcnlfZnVuZGluZ19zdHJpbmc9JyskKCdzbV9yZXBvc2l0
b3J5X2Z1bmRpbmdfc3RyaW5nJykudmFsdWU7CgogIHdpbmRvdy5vcGVuKHVybCtz
dHIsICdyZXBvc2l0b3J5X2Z1bmRpbmcnLCd0b29sYmFyPW5vLGxvY2F0aW9uPW5v
LGRpcmVjdG9yaWVzPW5vLHN0YXR1cz1ubyxzY3JvbGxiYXJzPXllcyxyZXNpemFi
bGU9eWVzLGNvcHloaXN0b3J5PW5vLHdpZHRoPTExMDAsaGVpZ2h0PTgwMCcpOwp9
CgoKLy9BVVRIT1IKZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXJPZkF1dGhvckNudChs
YWJlbCkgewogIHZhciByZWdFeHAgPSAvW15cZF0vOwogIHZhciBjbnQsIGRhdGFM
b3N0ID0gJyc7CiAgdmFyIG51bV9hdXRob3JzID0gJCgnbnVtX2F1dGhvcnMnKS52
YWx1ZTsKICAvL3ZhciBvcmlnX2F1dGhfY250ID0gJCgnb3JpZ19hdXRoX2NudCcp
LnZhbHVlOwogIHZhciBvcmlnX2F1dGhfY250ID0gJCgnY29udHJpYl9zbG90cycp
LnZhbHVlOwoKICAvLyBhZGQgb25lIGZvciB0aGUgY29yciBhdXRoCiAgb3JpZ19h
dXRoX2NudCsrOwoKICB2YXIgZXJyb3JlZCA9IDA7CiAgdmFyIGxhc3RuYW1lOwoK
ICAvL1RUUyAxMjQ5NQogIHZhciByZXQgPSAxOwoKICBpZiggbnVtX2F1dGhvcnMg
PT0gMCApIHsKICAgIGFsZXJ0KCdZb3UgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBh
dXRob3IuJyk7CiAgICBlcnJvcmVkID0gMTsKICB9IGVsc2UgaWYoIG51bV9hdXRo
b3JzID09ICcnICkgewogICAgYWxlcnQoJ1BsZWFzZSBlbnRlciB0aGUgbnVtYmVy
IG9mIGF1dGhvcnMuJyk7CiAgICBlcnJvcmVkID0gMTsKICB9IGVsc2UgaWYoIHJl
Z0V4cC50ZXN0KG51bV9hdXRob3JzKSApIHsKICAgIGFsZXJ0KG51bV9hdXRob3Jz
KycgaXMgbm90IGEgbnVtYmVyLicpOwogICAgZXJyb3JlZCA9IDE7CiAgfQoKICBp
ZihlcnJvcmVkID09IDEpIHsKICAgIHJldCA9IDA7CiAgICByZXR1cm4gZmFsc2U7
CiAgfQoKICBmb3IoIGNudCA9IG51bV9hdXRob3JzOyBjbnQgPCBvcmlnX2F1dGhf
Y250OyBjbnQrKyApIHsKICAgIGxhc3RuYW1lID0gJCgnY29udHJpYl9hdXRoXycr
Y250KydfbGFzdF9ubScpLnZhbHVlOwoKICAgIGlmKGxhc3RuYW1lICE9ICcnKSB7
CiAgICAgIGlmKCBkYXRhTG9zdCA9PSAnJyApIHsKICAgICAgICBkYXRhTG9zdCA9
ICdDb250aW51aW5nIHdpbGwgcmVzdWx0IGluIGxvc3Mgb2YgZGF0YSBmb3IgJyts
YWJlbCsnICMnK2NudDsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhTG9zdCA9
IGRhdGFMb3N0ICsgJywgJyArIGNudDsKICAgICAgfSAKICAgIH0gLy8gaWYgbGFz
dG5hbWUgbmUgJycKICB9IC8vIGVuZHMgZm9yIGxvb3AKCiAgLy9pZiBkYXRhIGNv
dWxkIGJlIGxvc3QKICBpZihkYXRhTG9zdCAhPSAnJykgewogICAgLy9UVFMgMTE4
ODg6IGFkZGluZyBhIG1vcmUgcm9idXN0IHdhcm5pbmcgbWVzc2FnZQogICAgZGF0
YUxvc3QgPSAiWW91IGhhdmUgZW50ZXJlZCBtb3JlIGF1dGhvcnMgb24gdGhlIGZv
cm0gdGhhbiB5b3UgaW5kaWNhdGVkIGluIHRoZSBOdW1iZXIgb2YgQXV0aG9ycyBm
aWVsZCBhdCB0aGUgdG9wIG9mIHRoaXMgZm9ybS5cblxuIgogICAgICArIGRhdGFM
b3N0ICsgIiBpZiB5b3UgcHJvY2VlZCFcblxuUHJlc3MgJ09LJyB0byBjb250aW51
ZSBvciAnQ2FuY2VsJyB0byByZXR1cm4gdG8gdGhlIGZvcm0gYW5kIHVwZGF0ZSB0
aGUgTnVtYmVyIG9mIEF1dGhvcnMgdmFsdWUuIjsKCiAgICAvL3BvcHVwIGEgY29u
ZmlybWF0aW9uCiAgICBpZiggIWNvbmZpcm0oIGRhdGFMb3N0ICkgKSB7CiAgICAg
IC8vZGlkbid0IGNvbmZpcm0sIHNvIGRvbnQgZG8gdGhlIGFjdGlvbgogICAgICBy
ZXQgPSAwOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICAvL1RUUyAx
MjQ5NQogIGlmIChyZXQgPT0gMSkgewogICAgLy9jcmVhdGUgaGlkZGVuIGlucHV0
IHdpdGggYnV0dG9uIG5hbWUgYW5kIHZhbHVlIC0gbmVlZCB0byBwYXNzIGFsb25n
IGxpa2UgYSAic3VibWl0IiBidXR0b24gd291bGQKICAgIC8vIG5lZWRlZCBiZWNh
dXNlIGNvZGUgZXhwZWN0cyB0byBoYXZlIGFuIGlucHV0IHdpdGggdGhlIGJ1dHRv
biBuYW1lIGlmIGl0IHdhcyBjbGlja2VkCiAgICB2YXIgbmV3RWxlbSA9IGRvY3Vt
ZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICBuZXdFbGVtLnNldEF0dHJp
YnV0ZSgidHlwZSIsICJoaWRkZW4iKTsKICAgIG5ld0VsZW0uc2V0QXR0cmlidXRl
KCJuYW1lIiwgIm51bV9hdXRob3JzX2J1dHRvbiIpOwogICAgbmV3RWxlbS5zZXRB
dHRyaWJ1dGUoImlkIiwgIm51bV9hdXRob3JzX2J1dHRvbiIpOwogICAgbmV3RWxl
bS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIlVwZGF0ZSBmb3JtIHdpdGggbnVtYmVy
IG9mIGF1dGhvcnMiKTsKICAgICQoJ3R2c19zdWJtaXQnKS5hcHBlbmRDaGlsZChu
ZXdFbGVtKTsKICAgIC8vc3VibWl0IHRoZSBmb3JtCiAgICAkKCd0dnNfc3VibWl0
Jykuc3VibWl0KCk7CiAgfQogIAogIC8vYWxsIGlzIHdlbGwsIHNvIGp1c3QgZG8g
aXQKICByZXR1cm4gdHJ1ZTsKfQoKCmZ1bmN0aW9uIHRvZ2dsZV9hdXRob3JfcGFu
ZShwYW5lKSB7CiAgLy8gQ2xvc2UgdGhlIHBhbmUKICBpZiAoJCgnY2xvc2VkXycg
KyBwYW5lKS5zdHlsZS5kaXNwbGF5PT0nbm9uZScpIHsKICAgIC8vIEZpbGwgaW4g
aW5mbyBmcm9tIHRoZSBmb3JtCiAgICBpZigkRihwYW5lICsgJ2xhc3Rfbm0nKSB8
fCAkRihwYW5lICsgJ2VtYWlsJykgfHwgJEYocGFuZSArICdvcmcnKSkgewogICAg
ICAkKCduYW1lXycgKyBwYW5lKS5pbm5lckhUTUwgPSAnPHN0cm9uZz4nICsgJEYo
cGFuZSArICdmaXJzdF9ubScpICsgJyAnICsgJEYocGFuZSArICdtaWRkbGVfbm0n
KSArICcgJyAgKyAkRihwYW5lICsgJ2xhc3Rfbm0nKSArICc8L3N0cm9uZz4nOyAK
ICAgICAgJCgnZW1haWxfJyArIHBhbmUpLmlubmVySFRNTCA9ICRGKHBhbmUgKyAn
ZW1haWwnKTsKICAgICAgJCgnb3JnXycgKyBwYW5lKS5pbm5lckhUTUwgPSAkRihw
YW5lICsgJ29yZycpOwogICAgfSBlbHNlIHsKICAgICAgJCgnbmFtZV8nICsgcGFu
ZSkuaW5uZXJIVE1MID0gJzxzdHJvbmc+Tm8gQXV0aG9yIFNlbGVjdGVkPC9zdHJv
bmc+JzsKICAgICAgJCgnZW1haWxfJyArIHBhbmUpLmlubmVySFRNTCA9ICcnOwog
ICAgICAkKCdvcmdfJyArIHBhbmUpLmlubmVySFRNTCA9ICcnOwogICAgfQogICAg
aWYoJChwYW5lICsgJ2F1dGhvcl9zZXEnKS5zZWxlY3RlZEluZGV4ICE9bnVsbCkg
ewogICAgICB2YXIgaW5kZXggPSAkKHBhbmUgKyAnYXV0aG9yX3NlcScpLnNlbGVj
dGVkSW5kZXg7CiAgICAgICQoJ3NlcV8nICsgcGFuZSkuaW5uZXJIVE1MID0gJChw
YW5lICsgJ2F1dGhvcl9zZXEnKS5vcHRpb25zW2luZGV4XS50ZXh0ICsgJyBBdXRo
b3InOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGluZGV4X3N1ZmZpeCA9ICd0aCc7
CiAgICAgIHZhciBzdWZmaXhfYXJyYXkgPSBbJ3RoJywgJ3N0JywgJ25kJywgJ3Jk
J107CiAgICAgIGlmKCQocGFuZSArICdhdXRob3Jfc2VxJykudmFsdWUgPiAwICYm
ICQocGFuZSArICdhdXRob3Jfc2VxJykudmFsdWUgPCA0KSB7CiAgICAgICAgaW5k
ZXhfc3VmZml4ID0gc3VmZml4X2FycmF5WyQocGFuZSArICdhdXRob3Jfc2VxJyku
dmFsdWVdOwogICAgICB9IAogICAgICAkKCdzZXFfJyArIHBhbmUpLmlubmVySFRN
TCA9ICQocGFuZSArICdhdXRob3Jfc2VxJykudmFsdWUgKyBpbmRleF9zdWZmaXgg
KyAgJyBBdXRob3InOwogICAgfQogICAgJCgnY2xvc2VkXycgKyBwYW5lKS5zdHls
ZS5kaXNwbGF5ID0gJ2lubGluZSc7CiAgICAkKCdvcGVuXycgKyBwYW5lKS5zdHls
ZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0KICAvLyBPcGVuIHRoZSBwYW5lCiAgZWxz
ZSB7CiAgICAkKCdjbG9zZWRfJyArIHBhbmUpLnN0eWxlLmRpc3BsYXkgPSAnbm9u
ZSc7CiAgICAkKCdvcGVuXycgKyBwYW5lKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGlu
ZSc7CiAgfQp9CgovL0VORCBBVVRIT1IKCgovLwovLyBEdWFsIHNlbGVjdCBKUyBj
b2RlIFNUQVJUCi8vCmZ1bmN0aW9uIERTU2V0U2VsZWN0aW9uTGlzdChwb29sTGlz
dCwgZGF0YU9iamVjdCwgZGF0YVNpemUsIGxldmVsMVRlcm0pIHsKICB2YXIgZGF0
YUFycmF5LCBjb3VudCwgcG9vbExpc3RMZW5ndGgsIG9wdGlvbkFycmF5LCBkaXNw
bGF5VGVybTsKICBldmFsKCJwb29sTGlzdExlbmd0aCA9ICIrcG9vbExpc3QrIi5v
cHRpb25zLmxlbmd0aDsiKQogIGV2YWwoImRhdGFBcnJheSA9ICIrZGF0YU9iamVj
dCsiLnZhbHVlLnNwbGl0KFwiLFwiKTsiKTsKCiAgZm9yIChjb3VudCA9IDA7IGNv
dW50IDw9IHBvb2xMaXN0TGVuZ3RoOyBjb3VudCsrKXsKICAgIGV2YWwocG9vbExp
c3QrIi5vcHRpb25zWzBdID0gbnVsbCIpOwogIH0KCiAgaWYgKCBsZXZlbDFUZXJt
ICE9ICcnICkgewogICAgYWxlcnQoJ1snK2xldmVsMVRlcm0rJ10nKTsKICB9Cgog
IGZvciAoY291bnQgPSAwOyBjb3VudCA8IGRhdGFTaXplOyBjb3VudCsrKXsKICAg
IG9wdGlvbkFycmF5ID0gZGF0YUFycmF5W2NvdW50XS5zcGxpdCgifCIpCgogICAg
b3B0aW9uQXJyYXlbMF0gPSBvcHRpb25BcnJheVswXS5yZXBsYWNlKC9DT01NQS9n
LCAiLCIpOwogICAgZGlzcGxheVRlcm0gPSBvcHRpb25BcnJheVswXTsKICAgIGlm
ICggbGV2ZWwxVGVybSAhPSAnJyApIHsKICAgICAgZXZhbCgiZGlzcGxheVRlcm0g
PSBkaXNwbGF5VGVybS5yZXBsYWNlKC8iK2xldmVsMVRlcm0rIi8sIFwiXCIpOyIp
OwogICAgfQoKICAgIC8vRklYIEFQT1NUUk9QSEVTCiAgICB2YXIgUkUgPSAvXCcv
OwogICAgb3B0aW9uQXJyYXlbMF0gPSBvcHRpb25BcnJheVswXS5yZXBsYWNlKFJF
LCAnXFxcJycpOwoKICAgIGV2YWwocG9vbExpc3QrIi5vcHRpb25zWyIrY291bnQr
Il0gPSBuZXcgT3B0aW9uKGRpc3BsYXlUZXJtLCAnIitvcHRpb25BcnJheVsxXSsi
fCIrb3B0aW9uQXJyYXlbMF0rIicsIGZhbHNlLCBmYWxzZSk7Iik7CiAgfQp9Cgpm
dW5jdGlvbiBEU1NldFNlbGVjdGlvbkxpc3RQdWxsZG93bihwb29sTGlzdCwgaHJl
ZkluLCBmb3JtTmFtZSkgewogIHZhciB0ZW1wQXJyYXksIGNvdW50LCBkYXRhU2l6
ZSwgZGF0YU9iamVjdCwgaHJlZkRhdGEsIG9wdGlvbkFycmF5LCBsZXZlbDFUZXJt
LCBkaXNwbGF5VGVybTsKICB0ZW1wQXJyYXkgPSBocmVmSW4uc3BsaXQoInx8fCIp
OwogIGhyZWZEYXRhID0gdGVtcEFycmF5WzBdCiAgZGF0YVNpemUgPSB0ZW1wQXJy
YXlbMV0KICBsZXZlbDFUZXJtID0gdGVtcEFycmF5WzJdCiAgZGF0YU9iamVjdCA9
IGZvcm1OYW1lKyIuIitocmVmRGF0YTsKICBldmFsKCJkYXRhQXJyYXkgPSAiK2Rh
dGFPYmplY3QrIi52YWx1ZS5zcGxpdChcIixcIik7Iik7CiAgZXZhbCgicG9vbExp
c3RMZW5ndGggPSAiK3Bvb2xMaXN0KyIub3B0aW9ucy5sZW5ndGg7IikKCiAgZm9y
IChjb3VudCA9IDA7IGNvdW50IDw9IHBvb2xMaXN0TGVuZ3RoOyBjb3VudCsrKXsK
ICAgIGV2YWwocG9vbExpc3QrIi5vcHRpb25zWzBdID0gbnVsbCIpOwogIH0KCiAg
Zm9yIChjb3VudCA9IDA7IGNvdW50IDwgZGF0YVNpemU7IGNvdW50KyspewogICAg
b3B0aW9uQXJyYXkgPSBkYXRhQXJyYXlbY291bnRdLnNwbGl0KCJ8IikKCiAgICBv
cHRpb25BcnJheVswXSA9IG9wdGlvbkFycmF5WzBdLnJlcGxhY2UoL0NPTU1BL2cs
ICIsIik7CiAgICBkaXNwbGF5VGVybSA9IG9wdGlvbkFycmF5WzBdOwogICAgaWYg
KCBsZXZlbDFUZXJtICE9ICcnICkgewogICAgICBldmFsKCJkaXNwbGF5VGVybSA9
IGRpc3BsYXlUZXJtLnJlcGxhY2UoLyIrbGV2ZWwxVGVybSsiLywgXCJcIik7Iik7
CiAgICB9CgogICAgLy9GSVggQVBPU1RST1BIRVMKICAgIHZhciBSRSA9IC9cJy87
CiAgICBvcHRpb25BcnJheVswXSA9IG9wdGlvbkFycmF5WzBdLnJlcGxhY2UoUkUs
ICdcXFwnJyk7CgogICAgZXZhbChwb29sTGlzdCsiLm9wdGlvbnNbIitjb3VudCsi
XSA9IG5ldyBPcHRpb24oZGlzcGxheVRlcm0sICciK29wdGlvbkFycmF5WzFdKyJ8
IitvcHRpb25BcnJheVswXSsiJywgZmFsc2UsIGZhbHNlKTsiKTsKICB9Cn0KCmZ1
bmN0aW9uIERTQWRkVG9MaXN0KHBvb2xMaXN0LCBsaXN0LCBsaXN0TWF4LCBoaWRk
ZW5WYXIpIHsKICB2YXIgcG9vbFNlbGVjdGVkSW5kZXgsIHZhbHVlQXJyYXksIHZh
bHVlLCB0ZXh0LCBsaXN0TGVuZ3RoLCBjb3VudGVyOwogIGV2YWwoInBvb2xTZWxl
Y3RlZEluZGV4ID0gIitwb29sTGlzdCsiLnNlbGVjdGVkSW5kZXg7Iik7CiAgaWYo
cG9vbFNlbGVjdGVkSW5kZXggPCAwKXsKICAgIHJldHVybjsKICB9CgogIGV2YWwo
InBvb2xMaXN0TGVuZ3RoID0gIitwb29sTGlzdCsiLm9wdGlvbnMubGVuZ3RoOyIp
OwoKICBmb3IgKCBjb3VudGVyID0gMDsgY291bnRlciA8IHBvb2xMaXN0TGVuZ3Ro
OyBjb3VudGVyKysgKSB7CiAgICBpZiAoIGV2YWwocG9vbExpc3QrIi5vcHRpb25z
WyIrY291bnRlcisiXS5zZWxlY3RlZCIpICkgewogICAgICBldmFsKCJ2YWx1ZSA9
ICIrcG9vbExpc3QrIi5vcHRpb25zWyIrY291bnRlcisiXS52YWx1ZSIpOwogICAg
ICB2YWx1ZUFycmF5ID0gdmFsdWUuc3BsaXQoInwiKQogICAgICB0ZXh0ID0gdmFs
dWVBcnJheVsxXTsKICAgICAgdmFsdWUgPSB2YWx1ZUFycmF5WzBdOwoKICAgICAg
aWYgKCB2YWx1ZSAhPSAwICYmIHZhbHVlICE9ICcnICkgewogCiAgICAgICAgZXZh
bCgibGlzdExlbmd0aCA9ICIrbGlzdCsiLm9wdGlvbnMubGVuZ3RoOyIpCiAgICAg
ICAgaWYgKCBsaXN0TWF4ID4gMSAmJiBsaXN0TGVuZ3RoID49IGxpc3RNYXggKSB7
CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoICFEU0lm
RHVwbGljYXRlRm91bmQodmFsdWUsIGxpc3QpICkgewogICAgICAgICAgLy9ldmFs
KCJ0ZXh0ID0gIitwb29sTGlzdCsiLm9wdGlvbnNbIitjb3VudGVyKyJdLnRleHQi
KTsKICAgICAgICAgIGlmICggbGlzdExlbmd0aCA+IDAgJiYgCiAgICAgICAgICAg
ICAgIChldmFsKGxpc3QrIi5vcHRpb25zWyIrKGxpc3RMZW5ndGggLSAxKSsiXS52
YWx1ZSA9PSAwIikgfHwKICAgICAgICAgICAgICAgbGlzdE1heCA9PSAxKSApIHsK
ICAgICAgICAgICAgbGlzdExlbmd0aC0tOwogICAgICAgICAgICBldmFsKGxpc3Qr
Ii5vcHRpb25zWyIrbGlzdExlbmd0aCsiXSA9IG51bGw7Iik7CiAgICAgICAgICB9
CgogICAgICAgICAgZXZhbChsaXN0KyIub3B0aW9uc1siK2xpc3RMZW5ndGgrIl0g
PSBuZXcgT3B0aW9uKHRleHQsIHZhbHVlLCBmYWxzZSwgZmFsc2UpOyIpOwogICAg
ICAgIH0KICAgICAgICBEU1NldFNlbGVjdExpc3QobGlzdCwgJ3wnLCBoaWRkZW5W
YXIpOwogICAgICB9CiAgICB9IAoKICB9Cgp9CgpmdW5jdGlvbiBEU0lmRHVwbGlj
YXRlRm91bmQoY2hlY2tWYWx1ZSwgbGlzdE5hbWUpIHsKICB2YXIgbGlzdExlbmd0
aCwgdmFsdWUsIGNvdW50ZXIsIHJldHVyblZhbHVlOwogIHJldHVyblZhbHVlID0g
MDsKICAgIAogIGV2YWwoImxpc3RMZW5ndGggPSAiK2xpc3ROYW1lKyIub3B0aW9u
cy5sZW5ndGg7Iik7CiAgICAKICBmb3IgKCBjb3VudGVyID0gMDsgY291bnRlciA8
IGxpc3RMZW5ndGg7IGNvdW50ZXIrKyApIHsKICAgIGV2YWwoInZhbHVlID0gIits
aXN0TmFtZSsiLm9wdGlvbnNbY291bnRlcl0udmFsdWU7Iik7CiAgICAKICAgIGlm
ICggY2hlY2tWYWx1ZSA9PSB2YWx1ZSApIHsKICAgICAgcmV0dXJuVmFsdWUgPSAx
OwogICAgfQogIH0gCgogIHJldHVybihyZXR1cm5WYWx1ZSk7Cn0KCmZ1bmN0aW9u
IERTUmVtb3ZlRnJvbUxpc3QobGlzdCwgaGlkZGVuVmFyKSB7CiAgdmFyIGxpc3RT
ZWxlY3RlZEluZGV4LCB2YWx1ZSwgbGlzdExlbmd0aCwgaW5kZXhUb1NlbGVjdDsK
ICBldmFsKCJsaXN0U2VsZWN0ZWRJbmRleCA9ICIrbGlzdCsiLnNlbGVjdGVkSW5k
ZXg7Iik7CiAgaWYobGlzdFNlbGVjdGVkSW5kZXggPCAwKXsKICAgIHJldHVybjsK
ICB9CgogIGV2YWwoInZhbHVlID0gIitsaXN0KyIub3B0aW9uc1siK2xpc3RTZWxl
Y3RlZEluZGV4KyJdLnZhbHVlIik7CgogIGlmKHZhbHVlID09IDApewogICAgcmV0
dXJuOwogIH0KCiAgZXZhbChsaXN0KyIub3B0aW9uc1siK2xpc3RTZWxlY3RlZElu
ZGV4KyJdID0gbnVsbCIpOwogIGV2YWwoImxpc3RMZW5ndGggPSAiK2xpc3QrIi5v
cHRpb25zLmxlbmd0aDsiKQoKICBpZihsaXN0TGVuZ3RoID4gMCl7CiAgICBpbmRl
eFRvU2VsZWN0ID0gLTEKCiAgICBpZihsaXN0U2VsZWN0ZWRJbmRleCA9PSAwKXsK
ICAgICAgaW5kZXhUb1NlbGVjdCA9IDA7CiAgICB9ZWxzZSBpZihsaXN0U2VsZWN0
ZWRJbmRleCA9PSBsaXN0TGVuZ3RoKXsKICAgICAgaW5kZXhUb1NlbGVjdCA9IGxp
c3RTZWxlY3RlZEluZGV4LTE7CiAgICB9ZWxzZXsKICAgICAgaW5kZXhUb1NlbGVj
dCA9IGxpc3RTZWxlY3RlZEluZGV4OwogICAgfQoKICAgIGlmKGluZGV4VG9TZWxl
Y3QgPj0gMCl7CiAgICAgIGV2YWwobGlzdCsiLm9wdGlvbnNbIitpbmRleFRvU2Vs
ZWN0KyJdLnNlbGVjdGVkID0gdHJ1ZTsiKTsKICAgIH0KICB9CgogIERTU2V0U2Vs
ZWN0TGlzdChsaXN0LCAnfCcsIGhpZGRlblZhcik7Cn0KCmZ1bmN0aW9uIERTTW92
ZVVwKGxpc3QsIGhpZGRlblZhcikgewogIHZhciBsaXN0U2VsZWN0ZWRJbmRleCwg
c2VsZWN0ZWRWYWx1ZSwgc2VsZWN0ZWRUZXh0LCB1cEluZGV4LCB1cFZhbHVlLCB1
cFRleHQ7CiAgZXZhbCgibGlzdFNlbGVjdGVkSW5kZXggPSAiK2xpc3QrIi5zZWxl
Y3RlZEluZGV4OyIpOwogIHVwSW5kZXggPSBsaXN0U2VsZWN0ZWRJbmRleCAtIDE7
CiAgaWYobGlzdFNlbGVjdGVkSW5kZXggPD0gMCl7CiAgICByZXR1cm47CiAgfQoK
ICBldmFsKCJzZWxlY3RlZFZhbHVlID0gIitsaXN0KyIub3B0aW9uc1siK2xpc3RT
ZWxlY3RlZEluZGV4KyJdLnZhbHVlIik7CgogIGlmKHNlbGVjdGVkVmFsdWUgPT0g
MCl7CiAgICByZXR1cm47CiAgfQoKICBldmFsKCJzZWxlY3RlZFRleHQgPSAiK2xp
c3QrIi5vcHRpb25zWyIrbGlzdFNlbGVjdGVkSW5kZXgrIl0udGV4dCIpOwogIGV2
YWwoInVwVGV4dCA9ICIrbGlzdCsiLm9wdGlvbnNbIit1cEluZGV4KyJdLnRleHQi
KTsKICBldmFsKCJ1cFZhbHVlID0gIitsaXN0KyIub3B0aW9uc1siK3VwSW5kZXgr
Il0udmFsdWUiKTsKCiAgZXZhbChsaXN0KyIub3B0aW9uc1siK2xpc3RTZWxlY3Rl
ZEluZGV4KyJdLnRleHQgPSB1cFRleHQiKTsKICBldmFsKGxpc3QrIi5vcHRpb25z
WyIrbGlzdFNlbGVjdGVkSW5kZXgrIl0udmFsdWUgPSB1cFZhbHVlIik7CgogIGV2
YWwobGlzdCsiLm9wdGlvbnNbIit1cEluZGV4KyJdLnRleHQgPSBzZWxlY3RlZFRl
eHQiKTsKICBldmFsKGxpc3QrIi5vcHRpb25zWyIrdXBJbmRleCsiXS52YWx1ZSA9
IHNlbGVjdGVkVmFsdWUiKTsKCiAgZXZhbChsaXN0KyIub3B0aW9uc1siK3VwSW5k
ZXgrIl0uc2VsZWN0ZWQgPSB0cnVlOyIpOwogIGV2YWwobGlzdCsiLm9wdGlvbnNb
IitsaXN0U2VsZWN0ZWRJbmRleCsiXS5zZWxlY3RlZCA9IGZhbHNlOyIpOwoKICBE
U1NldFNlbGVjdExpc3QobGlzdCwgJ3wnLCBoaWRkZW5WYXIpOwp9CgpmdW5jdGlv
biBEU01vdmVEb3duKGxpc3QsIGhpZGRlblZhcikgewogIHZhciBsaXN0U2VsZWN0
ZWRJbmRleCwgbGlzdExlbmd0aCwgc2VsZWN0ZWRWYWx1ZSwgCiAgICAgIHNlbGVj
dGVkVGV4dCwgZG93blZhbHVlLCBkb3duVGV4dCwgZG93bkluZGV4OwogIGV2YWwo
Imxpc3RTZWxlY3RlZEluZGV4ID0gIitsaXN0KyIuc2VsZWN0ZWRJbmRleDsiKTsK
ICBldmFsKCJsaXN0TGVuZ3RoID0gIitsaXN0KyIub3B0aW9ucy5sZW5ndGg7IikK
ICBkb3duSW5kZXggPSBsaXN0U2VsZWN0ZWRJbmRleCArIDE7CiAgaWYobGlzdFNl
bGVjdGVkSW5kZXggPCAwIHx8IGRvd25JbmRleCA9PSBsaXN0TGVuZ3RoKXsKICAg
IHJldHVybjsKICB9CgogIGV2YWwoInNlbGVjdGVkVmFsdWUgPSAiK2xpc3QrIi5v
cHRpb25zWyIrbGlzdFNlbGVjdGVkSW5kZXgrIl0udmFsdWUiKTsKCiAgaWYoc2Vs
ZWN0ZWRWYWx1ZSA9PSAwKXsKICAgIHJldHVybjsKICB9CgogIGV2YWwoInNlbGVj
dGVkVGV4dCA9ICIrbGlzdCsiLm9wdGlvbnNbIitsaXN0U2VsZWN0ZWRJbmRleCsi
XS50ZXh0Iik7CiAgZXZhbCgiZG93blRleHQgPSAiK2xpc3QrIi5vcHRpb25zWyIr
ZG93bkluZGV4KyJdLnRleHQiKTsKICBldmFsKCJkb3duVmFsdWUgPSAiK2xpc3Qr
Ii5vcHRpb25zWyIrZG93bkluZGV4KyJdLnZhbHVlIik7CgogIGV2YWwobGlzdCsi
Lm9wdGlvbnNbIitsaXN0U2VsZWN0ZWRJbmRleCsiXS50ZXh0ID0gZG93blRleHQi
KTsKICBldmFsKGxpc3QrIi5vcHRpb25zWyIrbGlzdFNlbGVjdGVkSW5kZXgrIl0u
dmFsdWUgPSBkb3duVmFsdWUiKTsKCiAgZXZhbChsaXN0KyIub3B0aW9uc1siK2Rv
d25JbmRleCsiXS50ZXh0ID0gc2VsZWN0ZWRUZXh0Iik7CiAgZXZhbChsaXN0KyIu
b3B0aW9uc1siK2Rvd25JbmRleCsiXS52YWx1ZSA9IHNlbGVjdGVkVmFsdWUiKTsK
CiAgZXZhbChsaXN0KyIub3B0aW9uc1siK2Rvd25JbmRleCsiXS5zZWxlY3RlZCA9
IHRydWU7Iik7CiAgZXZhbChsaXN0KyIub3B0aW9uc1siK2xpc3RTZWxlY3RlZElu
ZGV4KyJdLnNlbGVjdGVkID0gZmFsc2U7Iik7CgogIERTU2V0U2VsZWN0TGlzdChs
aXN0LCAnfCcsIGhpZGRlblZhcik7Cn0KCmZ1bmN0aW9uIERTU2V0U2VsZWN0TGlz
dChsaXN0LCBkZWxpbWl0ZXIsIGhpZGRlblZhcikgewogIHZhciBjb3VudCwgbGlz
dExlbmd0aCwgb3B0aW9uVmFsdWUsIHZhclZhbHVlOwogIHZhclZhbHVlID0gJyc7
CiAgZXZhbCgibGlzdExlbmd0aCA9ICIrbGlzdCsiLm9wdGlvbnMubGVuZ3RoOyIp
CgogIGZvciAoY291bnQgPSAwOyBjb3VudCA8IGxpc3RMZW5ndGg7IGNvdW50Kysp
ewogICAgZXZhbCgib3B0aW9uVmFsdWUgPSAiK2xpc3QrIi5vcHRpb25zWyIrY291
bnQrIl0udmFsdWUiKTsKICAgIGlmKG9wdGlvblZhbHVlICE9IDApewogICAgICBp
Zih2YXJWYWx1ZSAhPSAnJyl7CiAgICAgICAgdmFyVmFsdWUgPSB2YXJWYWx1ZSAr
IGRlbGltaXRlcjsKICAgICAgfQogICAgICB2YXJWYWx1ZSA9IHZhclZhbHVlICsg
b3B0aW9uVmFsdWU7CiAgICB9CiAgfQoKICB2YXJWYWx1ZSA9IHZhclZhbHVlLnJl
cGxhY2UoL1wnL2csICJRVU9URSIpOwogIGV2YWwoaGlkZGVuVmFyKyIudmFsdWUg
PSAnIit2YXJWYWx1ZSsiJzsiKTsKfQoKLy8gIGFsZXJ0KCdzZXRzZWxlY3RsaXN0
IFsnK2V2YWwoaGlkZGVuVmFyKycudmFsdWUnKSsnXScpOwkKCi8vIHN0cmlwIG91
dCBldmVyeXRoaW5nIGZyb20gdGhlIGZ1bGwgaHRtbCBwb29sIG5hbWUgZXhjZXB0
IHRoZSBkaXNwbGF5ZWQgbGluayB0ZXh0ICd0aXRsZScKZnVuY3Rpb24gRFNHZXRQ
b29sVGl0bGVGcm9tSWQoZHVhbF9zZWxlY3RfaWQsIHBvb2xfaWQpIHsKICB2YXIg
cmVnZXhfdGl0bGUgPSBuZXcgUmVnRXhwKGR1YWxfc2VsZWN0X2lkKydfZGF0YV8n
KTsKICBwb29sX2lkID0gcG9vbF9pZC5yZXBsYWNlKHJlZ2V4X3RpdGxlLCAnJyk7
CiAgcmV0dXJuIHBvb2xfaWQ7Cn0KCi8vIHNldCBnbG9iYWwgJ2N1cnJlbnQnKGl0
ZW1zIGluIHJpZ2h0IHNpZGUgYXJlIGluIHBvb2wpIGFuZCAnbWF4JyhpdGVtcyBh
bGxvd2VkIGZyb20gcG9vbCkgdmFyaWFibGVzIGZvciB0aGUgZHVhbCBzZWxlY3Qg
cG9vbApmdW5jdGlvbiBEU1NldE1heEFuZFNlbGVjdGVkQ291bnRzKGZvcm1fb2Jq
LCBkdWFsX3NlbGVjdF9pZCwgcG9vbF9pZCkgewogIHZhciBwb29sX29iaiA9IGV2
YWwoJ2Zvcm1fb2JqLicrZHVhbF9zZWxlY3RfaWQrJ19wb29sJyk7CiAgdmFyIGNv
dW50ID0gMDsKICB2YXIgbWF4ID0gMDsKICB2YXIgcG9vbF90aXRsZSA9IERTR2V0
UG9vbFRpdGxlRnJvbUlkKGR1YWxfc2VsZWN0X2lkLCBwb29sX2lkKTsKICB2YXIg
Y291bnRfYXJyYXkgPSBbXTsKCiAgLy8gZ2V0IG1heCBmaXJzdC4gCiAgbWF4ID0g
K2V2YWwoJ2Zvcm1fb2JqLicrZHVhbF9zZWxlY3RfaWQrJ19tYXhfcGVyXycrcG9v
bF90aXRsZSsnLnZhbHVlJyk7CgogIC8vIGdldCAjIG9mIGl0ZW1zIHNlbGVjdGVk
IGZyb20gdGhlIHBvb2xfaWQgbGlzdAogIC8vIHN0YXJ0IGJ5IGdldHRpbmcgZnVs
bCBsaXN0IG9mIHBvc3NpYmxlIG9wdGlvbnMgaW4gcG9vbF9pZCAoZnJvbSBoaWRk
ZW4gZWxlbWVudCkKICB2YXIgYXJyID0gZXZhbCgnZm9ybV9vYmouJytkdWFsX3Nl
bGVjdF9pZCsnXycrcG9vbF9pZC50b1VwcGVyQ2FzZSgpKycudmFsdWUnKS5zcGxp
dCgvXHMqLFxzKi8pOwogIHZhciBpZDsKICAvL2J1aWxkIGxpc3Qgb2YgYWxsIG9w
dGlvbiBpZHMgKHNlY29uZCBpdGVtIGluICd8JyBzZXBhcmF0ZWQgbGlzdCkgaW4g
dGhlIHBvb2wgaW4gcXVlc3Rpb24KICBmb3IodmFyIGk9MDsgaSA8IGFyci5sZW5n
dGg7IGkrKykgewogICAgaWQgPSAoYXJyW2ldLnNwbGl0KC9cfC8pKVsxXTsKICAg
IC8vbm93IGhhdmUgJ2hhc2gnIG9mIGFsbCBpZHMgaW4gb3B0aW9ucyBwb29sCiAg
ICBjb3VudF9hcnJheVtpZF0gPSAxOwogIH0KCiAgLy9jaGVjayB0byBzZWUgaG93
IG1hbnkgb2YgdGhlIHNlbGVjdGVkIGl0ZW1zIGluIHRoZSByaWdodCBzZWxlY3Qg
YXJlIGluIHRoZSBwb29sIGluIHF1ZXN0aW9uCiAgYXJyID0gZXZhbCgnZm9ybV9v
YmouJytkdWFsX3NlbGVjdF9pZCsnX2xpc3Qub3B0aW9ucycpOyAvLyByaWdodCBz
aWRlID0gX2xpc3QKICBmb3IgKHZhciBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykg
ewogICAgaWYgKGNvdW50X2FycmF5W2FycltpXS52YWx1ZV0gPT0gMSkgewogICAg
ICAvLyB0YWxseSBhbnkgc2VsZWN0ZWQgaXRlbXMgdGhhdCBhcmUgaW4gdGhlIHBv
b2wKICAgICAgY291bnQrKzsKICAgIH0KICB9CgogIC8vIHNldCBnbG9iYWwgdmFy
aWFibGVzIGZvciB0aGUgZHVhbCBzZWxlY3QgdXNpbmcgdmFsdWVzIGZvciB0aGUg
cG9vbCBpbiBxdWVzdGlvbgogIGV2YWwoJ2Zvcm1fb2JqLicrZHVhbF9zZWxlY3Rf
aWQrJ19jdXJyX3NlbCcpLnZhbHVlID0gY291bnQ7CiAgZXZhbCgnZm9ybV9vYmou
JytkdWFsX3NlbGVjdF9pZCsnX2N1cnJfbWF4JykudmFsdWUgPSBtYXg7Cn0KCi8v
IHJldHVybiB0aGUgJ3RpdGxlJyBvZiB0aGUgcG9vbCBjb250YWluaW5nIHRoZSBz
ZWxlY3RlZCBpdGVtCmZ1bmN0aW9uIERTR2V0UG9vbFRpdGxlQ29udGFpbmluZ0l0
ZW0oZm9ybV9vYmosIGR1YWxfc2VsZWN0X2lkLCBpdGVtX2lkKSB7CiAgcmVnZXhf
aXRlbSA9IG5ldyBSZWdFeHAoJ1xcfCcraXRlbV9pZCsnXFxzKigsfCQpJyk7CiAg
dmFyIGk7CiAgdmFyIHRpdGxlX2xpc3QgPSBldmFsKCdmb3JtX29iai4nK2R1YWxf
c2VsZWN0X2lkKydfdGl0bGVfbGlzdC52YWx1ZScpLnNwbGl0KC8sLyk7CiAgZm9y
ICh2YXIgaSA9IDA7IGkgPCB0aXRsZV9saXN0Lmxlbmd0aDsgaSsrKSB7CiAgICB2
YXIgdGl0bGUgPSB0aXRsZV9saXN0W2ldOwogICAgdmFyIHVjYXNlX3RpdGxlID0g
dGl0bGU7CiAgICB1Y2FzZV90aXRsZSA9IHVjYXNlX3RpdGxlLnRvVXBwZXJDYXNl
KCk7CiAgICB2YXIgdmFsdWVfZm91bmRfYXQgPSBldmFsKCdmb3JtX29iai4nK2R1
YWxfc2VsZWN0X2lkKydfJyt1Y2FzZV90aXRsZSsnLnZhbHVlJykuc2VhcmNoKHJl
Z2V4X2l0ZW0pOwogICAgaWYgKHZhbHVlX2ZvdW5kX2F0ID49IDApIHsKICAgICAg
cmV0dXJuIHRpdGxlOwogICAgfQogIH0KICByZXR1cm4gbnVsbDsKfQoKLy8gcmV0
dXJuIDAgaWYgdGhlIG1heCBjb3VudCBmb3IgcG9vbCBvZiBjdXJyZW50bHkgc2Vs
ZWN0ZWQgcG9vbCB3aWxsIGJlCi8vIGV4Y2VlZGVkIGJ5IGFkZGluZyB0aGUgY3Vy
cmVudCBwb29sIHNlbGVjdGlvbiB0byB0aGUgbGlzdApmdW5jdGlvbiBEU01heFBv
b2xWYWxpZGF0aW9uKGJ1dHRvbl9vYmosIGZvcm1fb2JqLCBkdWFsX3NlbGVjdF9p
ZCkgewogIC8vIGZpbmQgZHVhbCBzZWxlY3QgcG9vbCBzZWxlY3Qgb2JqZWN0IGJh
c2VkIG9uIHBhc3NlZCBpZAogIHZhciBwb29sX29iaiA9IGV2YWwoJ2Zvcm1fb2Jq
LicrZHVhbF9zZWxlY3RfaWQrJ19wb29sJyk7CiAgdmFyIGl0ZW1faWQ7CiAgdmFy
IGNvbnRhaW5pbmdfcG9vbF90aXRsZTsKCiAgLy9nZXQgdGhlIHNlbGVjdGVkIGl0
ZW0gdG8gYmUgYWRkZWQKICBpdGVtX2lkID0gKHBvb2xfb2JqW3Bvb2xfb2JqLnNl
bGVjdGVkSW5kZXhdLnZhbHVlKS5zcGxpdCgvXHwvKVswXTsKCiAgaWYgKGl0ZW1f
aWQgPT0gJycpewogICAgLy8gbm8gZGF0YSB0byBjaGVjayBhZ2FpbnN0LiB1bmxt
aXRlZCAjIGFsbG93ZWQKICAgIHJldHVybiAxOwogIH0KCiAgY29udGFpbmluZ19w
b29sX3RpdGxlID0gRFNHZXRQb29sVGl0bGVDb250YWluaW5nSXRlbShmb3JtX29i
aiwgZHVhbF9zZWxlY3RfaWQsIGl0ZW1faWQpOwoKICBpZiAoY29udGFpbmluZ19w
b29sX3RpdGxlID09IG51bGwpIHsKICAgIC8vIG5vIGRhdGEgdG8gY2hlY2sgYWdh
aW5zdC4gdW5saW1pdGVkICMgYWxsb3dlZAogICAgcmV0dXJuIDE7CiAgfQoKICAv
LyBzZXQgY3VycmVudGx5IHNlbGVjdGVkIGFuZCBtYXggYWxsb3dlZCBnbG9iYWxz
IGZvciBjdXJyZW50IHBvb2wKICBEU1NldE1heEFuZFNlbGVjdGVkQ291bnRzKGZv
cm1fb2JqLCBkdWFsX3NlbGVjdF9pZCwgY29udGFpbmluZ19wb29sX3RpdGxlKTsK
CiAgdmFyIG1heCA9ICtldmFsKCdmb3JtX29iai4nK2R1YWxfc2VsZWN0X2lkKydf
Y3Vycl9tYXgudmFsdWUnKTsKICB2YXIgc2VsID0gK2V2YWwoJ2Zvcm1fb2JqLicr
ZHVhbF9zZWxlY3RfaWQrJ19jdXJyX3NlbC52YWx1ZScpOwogIHZhciB3YW50X3Rv
X2NvcHlfY291bnQgPSAkQShldmFsKCdmb3JtX29iai4nK2R1YWxfc2VsZWN0X2lk
KydfcG9vbCcpLm9wdGlvbnMpLmZpbmRBbGwoZnVuY3Rpb24oZSl7cmV0dXJuIGUu
c2VsZWN0ZWR9KS5sZW5ndGg7CiAgaWYgKG1heCA+IDApIHsKICAgIGlmICggc2Vs
ICsgd2FudF90b19jb3B5X2NvdW50ID4gbWF4KSB7CiAgICAgIGFsZXJ0IChldmFs
KCdmb3JtX29iai4nK2R1YWxfc2VsZWN0X2lkKydfbWF4X2V4Y2VlZGVkX2Vycm9y
LnZhbHVlJykpOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9CiAgLy8gc2FmZSB0
byBhZGQKICByZXR1cm4gMTsKfQoKLy8KLy8gRHVhbCBzZWxlY3QgSlMgY29kZSBF
TkQKLy8KCi8vaW5kZXggdGVybSBwb3B1cCBkaXNwbGF5IGZvciB0dnMKZnVuY3Rp
b24gdHZzX2luZGV4X3Rlcm1fZGlzcGxheShpbmRleFRlcm1zQ291bnQsIHByb2dC
YXNlLCBqSWQpIHsKICB2YXIgYWN0aW9uLCB3aW47CiAgZXZhbCgiYWN0aW9uPSci
K2JyZWYrIi8iK3Byb2dCYXNlKyI/Zm9ybV90eXBlPWRpc3BsYXlfaW5kZXhfdGVy
bXNfZGlzcGxheSZ0dnM9MSZqX2lkPSIraklkKyImaW5kZXh0ZXJtc2NvdW50PSIr
aW5kZXhUZXJtc0NvdW50KyInOyIpOwogIHdpbj13aW5kb3cub3BlbihhY3Rpb24s
ICdJVEVSTScpOwogIHdpbi5mb2N1cygpOwp9CgpmdW5jdGlvbiBodXBfb25fdGhl
X2ZseSAodHh0KSB7CgogIHZhciBmdHh0ICAgID0gYnJlZisiL2NnaS1iaW4vbWFp
bi5wbGV4P2Zvcm1fdHlwZT1kb19oZWxwJmZsYWdfb25fdGhlX2ZseT0xJmZpbGVf
bm09Iit0eHQ7CiAgdmFyIHByb3BzICAgPSAndG9vbGJhcj1ubyxsb2NhdGlvbj1u
byxkaXJlY3Rvcmllcz1ubyxzdGF0dXM9bm8sc2Nyb2xsYmFycz15ZXMscmVzaXph
YmxlPXllcyxjb3B5aGlzdG9yeT1ubyx3aWR0aD02MDAsaGVpZ2h0PTIwMCc7CiAg
dmFyIHcgICAgICAgPSB3aW5kb3cub3BlbihmdHh0LCdub2RvY25tJywgcHJvcHMp
OwoKICB3LmZvY3VzKCk7Cn0KCgpmdW5jdGlvbiB0dnNfY2hlY2tfbGVuZ3RoX2Fq
YXhfanModGV4dGFyZWFfaWQsIG1heF9zdHIpCnsKIHZhciBkID0gbmV3IERhdGUo
KTsKIHZhciB0aW1lID0gZC5nZXRUaW1lKCk7CgogdmFyIHRhcmVhPWRvY3VtZW50
LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhX2lkKTsJCiB2YXIgdHh0PXRhcmVhLnZh
bHVlOwoKIHZhciBwYXJhbXM9J2Zvcm1fdHlwZT10dnNfY2hlY2tfbGVuZ3RoJnR4
dD0nK2VuY29kZVVSSUNvbXBvbmVudCh0eHQpKycmbWF4PScrbWF4X3N0cisnJnRp
bWU9Jyt0aW1lOwoKIHZhciBjbG9zZV9idXR0b249JzxBIEhSRUY9IiMiIG9uY2xp
Y2s9InR2c19jaGVja19sZW5ndGhfY2xvc2VfanMoKTtyZXR1cm4gZmFsc2U7Ij48
aW1nIHNyYz0iaW1hZ2VzL3RiX2Nsb3NlLmpwZyIgYm9yZGVyPTA+PC9BPjxCUj4n
OwoKIGVsZW1lbnQgPSAkKCdjbF9saW5rXycrdGV4dGFyZWFfaWQpOwogRWxlbWVu
dC5jbG9uZVBvc2l0aW9uKCdjaGVja19sZW5ndGgnLCBlbGVtZW50LCB7IHNldEhl
aWdodDpmYWxzZSwgc2V0V2lkdGg6ZmFsc2UsIG9mZnNldExlZnQ6KzEwMCwgb2Zm
c2V0VG9wOi0xMCB9KTsKIC8vIERlcHJlY2F0ZWQKIC8vUG9zaXRpb24uY2xvbmUo
ZWxlbWVudCwgJ2NoZWNrX2xlbmd0aCcsIHsgc2V0SGVpZ2h0OmZhbHNlLCBzZXRX
aWR0aDpmYWxzZSwgb2Zmc2V0TGVmdDorMTAwLCBvZmZzZXRUb3A6LTEwIH0pOwoK
ICQoJ2NoZWNrX2xlbmd0aCcpLmNsYXNzTmFtZSA9ICJjaGVja19sZW5ndGgiOwog
JCgnY2hlY2tfbGVuZ3RoJykuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUiOwogJCgn
Y2hlY2tfbGVuZ3RoJykuaW5uZXJIVE1MID0gY2xvc2VfYnV0dG9uKyJDaGVja2lu
Zy4uLiI7CgogIG5ldyBBamF4LlJlcXVlc3QoImNnaS1iaW4vbWFpbi5wbGV4IiwK
ICAge21ldGhvZDoncG9zdCcsIHBvc3RCb2R5OnBhcmFtcywKICAgIG9uU3VjY2Vz
czp0dnNfY2hlY2tfbGVuZ3RoX3N1Y2Nlc3NfanMsIG9uRmFpbHVyZTp0dnNfY2hl
Y2tfbGVuZ3RoX2ZhaWxfanN9KTsKfQpmdW5jdGlvbiB0dnNfY2hlY2tfbGVuZ3Ro
X3N1Y2Nlc3NfanModCkKewoKIHZhciBjbG9zZV9idXR0b249JzxBIEhSRUY9IiMi
IG9uY2xpY2s9InR2c19jaGVja19sZW5ndGhfY2xvc2VfanMoKTtyZXR1cm4gZmFs
c2U7Ij48aW1nIHNyYz0iaW1hZ2VzL3RiX2Nsb3NlLmpwZyIgYm9yZGVyPTA+PC9B
PjxCUj4nOwoKICQoJ2NoZWNrX2xlbmd0aCcpLmNsYXNzTmFtZSA9ICJjaGVja19s
ZW5ndGgiOwogJCgnY2hlY2tfbGVuZ3RoJykuc3R5bGUuZGlzcGxheSA9ICJpbmxp
bmUiOwogJCgnY2hlY2tfbGVuZ3RoJykuaW5uZXJIVE1MID0gY2xvc2VfYnV0dG9u
K3QucmVzcG9uc2VUZXh0OwoKfQpmdW5jdGlvbiB0dnNfY2hlY2tfbGVuZ3RoX2Zh
aWxfanModCkKewogYWxlcnQoJ0Vycm9yICcgKyB0LnN0YXR1cyArICcgLS0gJyAr
IHQuc3RhdHVzVGV4dCk7Cn0KZnVuY3Rpb24gdHZzX2NoZWNrX2xlbmd0aF9jbG9z
ZV9qcygpCnsKICQoJ2NoZWNrX2xlbmd0aCcpLnN0eWxlLmRpc3BsYXkgPSAibm9u
ZSI7Cn0KCmZ1bmN0aW9uIHR2c19hcHByb3ZlX2ZpbGUoYXBwcm92ZV9maWxlX29i
amVjdF9pZCwgb2JqZWN0X2lkKSAKewogIHZhciBjYm94PWRvY3VtZW50LmdldEVs
ZW1lbnRCeUlkKGFwcHJvdmVfZmlsZV9vYmplY3RfaWQpOwogIHZhciBhcHByb3Zl
X2Fycm93PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHBfYXJyb3dfJytvYmpl
Y3RfaWQpOwogIGlmIChjYm94LmNoZWNrZWQpIHsJCiAgIGFwcHJvdmVfYXJyb3cu
aW5uZXJIVE1MPSImbmJzcDsiOwogfSBlbHNlIHsKICAgYXBwcm92ZV9hcnJvdy5p
bm5lckhUTUw9IjxpbWcgYm9yZGVyPVwiMFwiIHNyYz1cIi9pbWFnZXMvYnJlZF9h
cnJvdy5naWZcIj4iOwogfQp9CmZ1bmN0aW9uIHR2c192aWV3X3BkZl9mb3JfYXBw
cm92YWxfanMob2JqZWN0X2lkKSAKewogdmFyIGNib3g9ZG9jdW1lbnQuZ2V0RWxl
bWVudEJ5SWQoJ2FwcHJvdmVfZmlsZV8nK29iamVjdF9pZCk7CiBpZiAoIWNib3gp
IHJldHVybjsKIGlmIChjYm94LmRpc2FibGVkKSB7CiAgIGNib3guZGlzYWJsZWQ9
MDsKICAgdmFyIGFwcHJvdmVfYXJyb3c9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo
J2FwcF9hcnJvd18nK29iamVjdF9pZCk7CiAgIHZhciBwZGZfYXJyb3c9ZG9jdW1l
bnQuZ2V0RWxlbWVudEJ5SWQoJ3BkZl9hcnJvd18nK29iamVjdF9pZCk7CiAgIHBk
Zl9hcnJvdy5pbm5lckhUTUw9IiZuYnNwOyI7CiAgIGFwcHJvdmVfYXJyb3cuaW5u
ZXJIVE1MPSI8aW1nIGJvcmRlcj1cIjBcIiBzcmM9XCIvaW1hZ2VzL2JyZWRfYXJy
b3cuZ2lmXCI+IjsKIH0KfQoKZnVuY3Rpb24gdHZzX3JlcGxhY2Vfc291cmNlX2Zp
bGVfY2xvc2VfanMoKQp7CiAkKCdyZXBsYWNlX3NvdXJjZV9maWxlJykuc3R5bGUu
ZGlzcGxheSA9ICJub25lIjsKCiB2YXIgb2lkPWRvY3VtZW50LmdldEVsZW1lbnRC
eUlkKCdyZXBsYWNlX3NvdXJjZV9maWxlX29iamVjdF9pZCcpOwogb2lkLnZhbHVl
PTA7Cgp9CgpmdW5jdGlvbiB0dnNfcmVwbGFjZV9zb3VyY2VfZmlsZV9qcyhvYmpl
Y3RfaWQpIAp7CiB2YXIgZCA9IG5ldyBEYXRlKCk7CiB2YXIgdGltZSA9IGQuZ2V0
VGltZSgpOwoKIHZhciBjbG9zZV9idXR0b249JzxBIEhSRUY9IiMiIG9uY2xpY2s9
InR2c19yZXBsYWNlX3NvdXJjZV9maWxlX2Nsb3NlX2pzKCk7cmV0dXJuIGZhbHNl
OyI+PGltZyBzcmM9ImltYWdlcy90Yl9jbG9zZS5qcGciIGJvcmRlcj0wPjwvQT48
QlI+JzsKCiBlbGVtZW50ID0gJCgncmVwbGFjZV9zb3VyY2VfZmlsZV9saW5rXycr
b2JqZWN0X2lkKTsKCiBFbGVtZW50LmNsb25lUG9zaXRpb24oJ3JlcGxhY2Vfc291
cmNlX2ZpbGUnLCAncmVwbGFjZV9zb3VyY2VfZmlsZV9saW5rXycrb2JqZWN0X2lk
LCB7IHNldEhlaWdodDpmYWxzZSwgc2V0V2lkdGg6ZmFsc2UsIG9mZnNldExlZnQ6
LTQwIH0pOwogLy9Qb3NpdGlvbi5jbG9uZSgncmVwbGFjZV9zb3VyY2VfZmlsZV9s
aW5rXycrb2JqZWN0X2lkLCAncmVwbGFjZV9zb3VyY2VfZmlsZScsIHsgc2V0SGVp
Z2h0OmZhbHNlLCBzZXRXaWR0aDpmYWxzZSwgb2Zmc2V0TGVmdDotNDAgfSk7Cgog
dmFyIG9pZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwbGFjZV9zb3VyY2Vf
ZmlsZV9vYmplY3RfaWQnKTsKCiBvaWQudmFsdWU9b2JqZWN0X2lkOwoKICQoJ3Jl
cGxhY2Vfc291cmNlX2ZpbGUnKS5jbGFzc05hbWUgPSAicmVwbGFjZV9zb3VyY2Vf
ZmlsZSI7CiAkKCdyZXBsYWNlX3NvdXJjZV9maWxlJykuc3R5bGUuZGlzcGxheSA9
ICJpbmxpbmUiOwp9CmZ1bmN0aW9uIHR2c19yZXBsYWNlX3NvdXJjZV9maWxlX3N1
Ym1pdCgpCnsKICAgdXBsb2FkQWpheCgpOwogICByZXR1cm47Cn0KCmZ1bmN0aW9u
IHR2c191cGxvYWRfcGRmX2Nsb3NlX2pzKCkKewogJCgndXBsb2FkX3BkZicpLnN0
eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogdmFyIG9pZD1kb2N1bWVudC5nZXRFbGVt
ZW50QnlJZCgndXBsb2FkX3BkZl9vYmplY3RfaWQnKTsKIG9pZC52YWx1ZT0wOwoK
fQoKZnVuY3Rpb24gdHZzX3VwbG9hZF9wZGZfanMob2JqZWN0X2lkLG9iamVjdF90
aXRsZSkgCnsKIAogdmFyIGQgPSBuZXcgRGF0ZSgpOwogdmFyIHRpbWUgPSBkLmdl
dFRpbWUoKTsKCiB2YXIgY2xvc2VfYnV0dG9uPSc8QSBIUkVGPSIjIiBvbmNsaWNr
PSJ0dnNfdXBsb2FkX3BkZl9jbG9zZV9qcygpO3JldHVybiBmYWxzZTsiPjxpbWcg
c3JjPSJpbWFnZXMvdGJfY2xvc2UuanBnIiBib3JkZXI9MD48L0E+PEJSPic7Cgog
dmFyIHRpdGxlRWxlbWVudCA9ICQoJ3VwbG9hZF9wZGZfb2JqZWN0X3RpdGxlJyk7
CiB0aXRsZUVsZW1lbnQuaW5uZXJIVE1MID0gIlVwbG9hZCBQREY6ICIgKyB1bmVz
Y2FwZShvYmplY3RfdGl0bGUpOwoKIGVsZW1lbnQgPSAkKCd1cGxvYWRfcGRmX2xp
bmtfJytvYmplY3RfaWQpOwogRWxlbWVudC5jbG9uZVBvc2l0aW9uKCd1cGxvYWRf
cGRmJywgJ3VwbG9hZF9wZGZfbGlua18nK29iamVjdF9pZCwgeyBzZXRIZWlnaHQ6
ZmFsc2UsIHNldFdpZHRoOmZhbHNlLCBvZmZzZXRMZWZ0Oi00MCB9KTsKIC8vUG9z
aXRpb24uY2xvbmUoJ3VwbG9hZF9wZGZfbGlua18nK29iamVjdF9pZCwgJ3VwbG9h
ZF9wZGYnLCB7IHNldEhlaWdodDpmYWxzZSwgc2V0V2lkdGg6ZmFsc2UsIG9mZnNl
dExlZnQ6LTQwIH0pOwoKIHZhciBvaWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo
J3VwbG9hZF9wZGZfb2JqZWN0X2lkJyk7CiBvaWQudmFsdWU9b2JqZWN0X2lkOwoK
ICQoJ3VwbG9hZF9wZGYnKS5jbGFzc05hbWUgPSAidXBsb2FkX3BkZiI7CiAkKCd1
cGxvYWRfcGRmJykuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUiOwp9CmZ1bmN0aW9u
IHR2c191cGxvYWRfcGRmX3N1Ym1pdCgpCnsKICAgdXBsb2FkQWpheCgpOwogICBy
ZXR1cm47Cn0KCmZ1bmN0aW9uIHR2c19maW5kX3VzZXIgKG5hbWUsIHR5cGUsIHBf
aWQsIHByb2diYXNlKSB7CiAgdmFyIHNxLCBhY3Rpb24sIHBuLCBhdCwgbXNpZCwg
bXNyZXYsIG1zdHlwZTsKICBwbiA9ICQobmFtZSkudmFsdWU7CiAgbXNpZCA9ICQo
J21zX2lkJykudmFsdWU7CiAgbXNyZXYgPSAkKCdtc19yZXZfbm8nKS52YWx1ZTsK
ICBtc3R5cGUgPSAkKCdtc190eXBlX2NkZScpLnZhbHVlOwogIAogIGV2YWwoImFj
dGlvbj0nIiticmVmKyIvIitwcm9nYmFzZSsiP2Zvcm1fdHlwZT1maW5kX3BlcnNv
bl9rdyZ0dnM9MSZtc19pZD0iK21zaWQrIiZtc19yZXZfbm89Iittc3JldisiJm1z
X3R5cGVfY2RlPSIrbXN0eXBlKyImYXV0aF90eXBlPSIrdHlwZSsiJm5hbWVfa2V5
d29yZD0iK3BuKyImcF9pZD0iK3BfaWQrIic7Iik7CgogIHN3PXdpbmRvdy5vcGVu
KGFjdGlvbiwnTkFNRScsJ3dpZHRoPTYwMCxoZWlnaHQ9MjAwLHRvb2xiYXI9bm8s
bG9jYXRpb249bm8sZGlyZWN0b3JpZXM9bm8sc3RhdHVzPW5vLHNjcm9sbGJhcnM9
eWVzLHJlc2l6YWJsZT15ZXMsY29weWhpc3Rvcnk9bm8nKTsKICBzdy5mb2N1cygp
Owp9CgpmdW5jdGlvbiB0dnNfdXNlcl9zZWFyY2ggKHR5cGUsIHBpZCwgcHJvZ2Jh
c2UsIG9wdGlvbnMpIHsKICBpZiAob3B0aW9ucyA9PSBudWxsKSB7CiAgICBvcHRp
b25zID0ge307CiAgfQogIHZhciB3aW4sIGZpZWxkLCBhY3Rpb24sIG1zaWQsIG1z
cmV2LCBtc3R5cGU7CiAgdmFyIHF1ZXJ5OwoKICBpZiAoIC9leHRlcm5hbF9yZXYv
LnRlc3QoIHR5cGUgKSApIHsKICAgIHF1ZXJ5ID0gJEgoeyAgIGZvcm1fdHlwZTog
J3R2c19maW5kX3BlcnNvbicsCiAgICAgICAgICAgICAgICAgICB0dnM6IDEsCiAg
ICAgICAgICAgICAgICAgICBwX2lkOiBwaWQsCiAgICAgICAgICAgICAgICAgICBh
dXRoOiB0eXBlLAogICAgICAgICAgICAgICAgICAgbXNfaWQ6ICQoJ21zX2lkJyku
dmFsdWUsCiAgICAgICAgICAgICAgICAgICBtc19yZXZfbm86ICQoJ21zX3Jldl9u
bycpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgbXNfdHlwZV9jZGU6ICQoJ21z
X3R5cGVfY2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgICBmaXJzdF9ubTog
JCh0eXBlICsgJ19maXJzdF9ubScpLnZhbHVlLAogICAgICAgICAgICAgICAgICAg
bGFzdF9ubTogJCh0eXBlICsgJ19sYXN0X25tJykudmFsdWUsCiAgICAgICAgICAg
ICAgICAgICBlbWFpbDogJCh0eXBlICsgJ19lbWFpbCcpLnZhbHVlLAogICAgICAg
ICAgICAgICAgICAgb3JnOiAkKHR5cGUgKyAnX29yZycpLnZhbHVlLAogICAgICAg
ICAgICAgICAgICAgcGhvbmU6ICQodHlwZSArICdfcGhvbmUnKS52YWx1ZQogICAg
ICAgICAgICAgICAgICAgICB9KTsKICB9ZWxzZSB7CiAgICBxdWVyeSA9ICRIKHsg
ICBmb3JtX3R5cGU6ICd0dnNfZmluZF9wZXJzb24nLAogICAgICAgICAgICAgICAg
ICAgICB0dnM6IDEsCiAgICAgICAgICAgICAgICAgICAgIHBfaWQ6IHBpZCwKICAg
ICAgICAgICAgICAgICAgICAgYXV0aDogdHlwZSwKICAgICAgICAgICAgICAgICAg
ICAgbXNfaWQ6ICQoJ21zX2lkJykudmFsdWUsCiAgICAgICAgICAgICAgICAgICAg
IG1zX3Jldl9ubzogJCgnbXNfcmV2X25vJykudmFsdWUsCiAgICAgICAgICAgICAg
ICAgICAgIG1zX3R5cGVfY2RlOiAkKCdtc190eXBlX2NkZScpLnZhbHVlLAogICAg
ICAgICAgICAgICAgICAgICBmaXJzdF9ubTogJCh0eXBlICsgJ19maXJzdF9ubScp
LnZhbHVlLAogICAgICAgICAgICAgICAgICAgICBsYXN0X25tOiAkKHR5cGUgKyAn
X2xhc3Rfbm0nKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgZW1haWw6ICQo
dHlwZSArICdfZW1haWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgb3Jn
OiAkKHR5cGUgKyAnX29yZycpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICBk
ZXBhcnRtZW50OiAkKHR5cGUgKyAnX2RlcHQnKS52YWx1ZSwKICAgICAgICAgICAg
ICAgICAgICAgYWRkcjE6ICQodHlwZSArICdfYWRkcjEnKS52YWx1ZSwKICAgICAg
ICAgICAgICAgICAgICAgYWRkcjI6ICQodHlwZSArICdfYWRkcjInKS52YWx1ZSwK
ICAgICAgICAgICAgICAgICAgICAgY2l0eTogJCh0eXBlICsgJ19jaXR5JykudmFs
dWUsCiAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAkKHR5cGUgKyAnX3N0YXRl
JykudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6ICQodHlwZSAr
ICdfY291bnRyeScpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICB6aXA6ICQo
dHlwZSArICdfemlwJykudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgIHBob25l
OiAkKHR5cGUgKyAnX3Bob25lJykudmFsdWUKICAgICAgICAgICAgICAgICAgICAg
fSk7CiAgfQogIAogIHF1ZXJ5LmVhY2goZnVuY3Rpb24ocGFpcil7CiAgICAgICAg
ICAgICAgIGlmICggJCh0eXBlICsgJ18nICsgcGFpci5rZXkpICE9IG51bGwKICAg
ICAgICAgICAgICAgICAgICAmJiAkKHR5cGUgKyAnXycgKyBwYWlyLmtleSkudHlw
ZSA9PSAnaGlkZGVuJykgewogICAgICAgICAgICAgICAgIHF1ZXJ5LnVuc2V0KHBh
aXIua2V5KTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfSk7CgogIHZh
ciBhY3Rpb24gPSBicmVmICsgIi8iICsgcHJvZ2Jhc2UgKyAnPycgKyBxdWVyeS50
b1F1ZXJ5U3RyaW5nKCk7CgogIGlmIChvcHRpb25zWydhdXRob3JmaW5kcGVyc29u
YnlsYXN0bmFtZWVtYWlsJ10gPT0gMSkgewogICAgLy8gYXR0ZW1wdCB0byBtYXJr
IHRoZSBzZWFyY2ggYnkgbGFzdCBuYW1lIGFuZCBlbWFpbCBmaWVsZHMKICAgIGlm
ICggKCQodHlwZSArICdfbGFzdF9ubScpICE9IG51bGwKICAgICAgICAgICYmIGlz
QmxhbmsoJCh0eXBlICsgJ19sYXN0X25tJykudmFsdWUpKQogICAgICAgICB8fCAo
JCh0eXBlICsgJ19lbWFpbCcpICE9IG51bGwKICAgICAgICAgICAgICYmIGlzQmxh
bmsoJCh0eXBlICsgJ19lbWFpbCcpLnZhbHVlKSkpIHsKICAgICAgLy8gbm90IGFs
bCByZXF1aXJlZCBmaWVsZHMgaGF2ZSBiZWVuIGZpbGxlZCBvdXQKICAgICAgYWxl
cnQoIkxhc3QgTmFtZSBhbmQgRW1haWwgYXJlIHJlcXVpcmVkIik7CiAgICAgIHJl
dHVybiBmYWxzZTsKCiAgICB9IGVsc2UgewogICAgICAvLyBpbmRpY2F0ZSB0aGUg
c2VhcmNoIHVzZXMgbGFzdCBuYW1lIGFuZCBlbWFpbAogICAgICBxdWVyeS5zZXQo
J2Zvcm1fdHlwZScsICd0dnNfZmluZF9wZXJzb25fbGFzdG5hbWVfZW1haWwnKTsK
ICAgIH0KCiAgfSBlbHNlIHsKICAgIC8vIGRlZmF1bHQgYmVmb3JlIGF1dGhvcmZp
bmRwZXJzb25ieWxhc3RuYW1lZW1haWwKICAgIGlmICggJCh0eXBlICsgJ19sYXN0
X25tJykgIT0gbnVsbAogICAgICAgICAmJiBpc0JsYW5rKCQodHlwZSArICdfbGFz
dF9ubScpLnZhbHVlKSkgewogICAgICAvLyBub3QgYWxsIHJlcXVpcmVkIGZpZWxk
cyBoYXZlIGJlZW4gZmlsbGVkIG91dAogICAgICBhbGVydCgiTGFzdCBOYW1lIGlz
IHJlcXVpcmVkIik7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIGlm
ICggJCh0eXBlICsgJ19hdXRob3JfZnBfaW5zdHJ1Y3Rpb25zJykgIT0gbnVsbCAp
IHsKICAgICQodHlwZSArICdfYXV0aG9yX2ZwX2luc3RydWN0aW9ucycpLnN0eWxl
LmRpc3BsYXkgPSAnbm9uZSc7CiAgfQogICQodHlwZSArICdfYXV0aG9yX3Jlc3Vs
dHMnKS5pbm5lckhUTUwgPSAiTG9hZGluZy4uLiI7CiAgJCh0eXBlICsgJ19hdXRo
b3JfcmVzdWx0cycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIAogIC8vbWFr
ZSBhbiBhamF4IHJlcXVlc3QgdG8gZmluZCB0aGUgcGVyc29uCiAgbmV3IEFqYXgu
UmVxdWVzdChicmVmICsgIi8iICsgcHJvZ2Jhc2UsCiAgICAgICAgICAgICAgICAg
ICB7IG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgICAgICAgIHBhcmFt
ZXRlcnM6IHF1ZXJ5LAogICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2Vzczpm
dW5jdGlvbih0cmFuc3BvcnQpIHt0dnNfZGlzcGxheV9mcF9yZXN1bHRzKHRyYW5z
cG9ydCwgdHlwZSk7fSwgCiAgICAgICAgICAgICAgICAgICAgICAgb25GYWlsOiBm
dW5jdGlvbih0cmFuc3BvcnQpIHthbGVydCgiZmFpbGVkIil9fSk7Cn0KCi8vIHNl
dHMgYW4gZWxlbWVudCB0byB0aGUgYWpheCByZXNwb25zZSBmb3IgYSBwZXJzb24g
c2VhcmNoCmZ1bmN0aW9uIHR2c19kaXNwbGF5X2ZwX3Jlc3VsdHModCwgYmFzZSkg
ewoJJChiYXNlICsgJ19hdXRob3JfcmVzdWx0cycpLmlubmVySFRNTCA9IHQucmVz
cG9uc2VUZXh0Owp9CgpmdW5jdGlvbiBhdXRob3JfY2xvc2VQYW5lbCAoYmFzZSkg
ewoJaWYgKCQoYmFzZSArICdfYXV0aG9yX2ZwX2luc3RydWN0aW9ucycpIT1udWxs
KSB7CgkJJChiYXNlICsgJ19hdXRob3JfZnBfaW5zdHJ1Y3Rpb25zJykuc3R5bGUu
ZGlzcGxheT0nYmxvY2snOwoJfQoJaWYgKCQoYmFzZSArICdfYXV0aG9yX3Jlc3Vs
dHMnKSE9bnVsbCkgewoJCSQoYmFzZSArICdfYXV0aG9yX3Jlc3VsdHMnKS5zdHls
ZS5kaXNwbGF5PSdub25lJzsKCX0KfQoKZnVuY3Rpb24gdHZzX3VzZXJfc2VhcmNo
X3ZpYV9lbWFpbCAodHlwZSwgcGlkLCBwcm9nYmFzZSkgewogICAgdmFyIHdpbiwg
ZmllbGQsIGFjdGlvbiwgbXNpZCwgbXNyZXYsIG1zdHlwZTsKCiAgICB2YXIgcXVl
cnkgPSAkSCh7IGZvcm1fdHlwZTogJ3R2c19maW5kX3BlcnNvbl92aWFfZW1haWwn
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR2czogMSwKICAgICAg
ICAgICAgICAgICAgICAgICAgICBwX2lkOiBwaWQsCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgYXV0aDogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgIG1z
X2lkOiAkKCdtc19pZCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICBtc19y
ZXZfbm86ICQoJ21zX3Jldl9ubycpLnZhbHVlLAogICAgICAgICAgICAgICAgICAg
bXNfdHlwZV9jZGU6ICQoJ21zX3R5cGVfY2RlJykudmFsdWUsCiAgICAgICAgICAg
ICAgICAgICAgICAgICBlbWFpbDogJCh0eXBlICsgJ18nICsgJ2VtYWlsJykudmFs
dWUKICAgIH0pOwogIAogICAgcXVlcnkuZWFjaChmdW5jdGlvbihwYWlyKXsKICAg
ICAgICBpZiAoJCh0eXBlICsgJ18nICsgcGFpci5rZXkpIT1udWxsKSB7ICAgICAg
ICAgICAgICAgCiAgICAgICAgICAgIGlmKCQodHlwZSArICdfJyArIHBhaXIua2V5
KS50eXBlID09ICdoaWRkZW4nKSB7CiAgICAgICAgICAgICAgICBxdWVyeS51bnNl
dChwYWlyLmtleSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKCiAg
ICB2YXIgYWN0aW9uID0gIGJyZWYgKyAiLyIgKyBwcm9nYmFzZSArICc/JyArIHF1
ZXJ5LnRvUXVlcnlTdHJpbmcoKTsKCiAgICBpZigkKHR5cGUgKyAnXycgKyAnZW1h
aWwnKSE9bnVsbCAmJiBpc0JsYW5rKCQodHlwZSArICdfJyArICdlbWFpbCcpLnZh
bHVlKSkgewogICAgICAgIGFsZXJ0KCJFbWFpbCBpcyByZXF1aXJlZCIpOwogICAg
ICAgIHJldHVybiBmYWxzZTsgCiAgICB9CgogICAgaWYgKCQodHlwZSArICdfYXV0
aG9yX2ZwX2luc3RydWN0aW9uc192aWFfZW1haWwnKSE9bnVsbCkgewogICAgICAg
ICQodHlwZSArICdfYXV0aG9yX2ZwX2luc3RydWN0aW9uc192aWFfZW1haWwnKS5z
dHlsZS5kaXNwbGF5PSdub25lJzsKICAgIH0KCQogICAgJCh0eXBlICsgJ19hdXRo
b3JfcmVzdWx0c192aWFfZW1haWwnKS5pbm5lckhUTUwgPSAiTG9hZGluZy4uLiI7
ICAKICAgICQodHlwZSArICdfYXV0aG9yX3Jlc3VsdHNfdmlhX2VtYWlsJykuc3R5
bGUuZGlzcGxheT0nYmxvY2snOwoKICAgIG5ldyBBamF4LlJlcXVlc3QoYnJlZiAr
ICIvIiArIHByb2diYXNlLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywgCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJz
OiBxdWVyeSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBvblN1Y2Nlc3M6ZnVuY3Rpb24odHJhbnNwb3J0KSB7CiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dHZzX2Rpc3BsYXlfZnBfcmVzdWx0c192aWFfZW1haWwodHJhbnNwb3J0LCB0eXBl
KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgb25GYWlsOiBmdW5jdGlvbih0cmFuc3BvcnQpIHsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVy
dCgiZmFpbGVkIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7Cn0KCmZ1bmN0aW9u
IHR2c19kaXNwbGF5X2ZwX3Jlc3VsdHNfdmlhX2VtYWlsKHQsIGJhc2UpIHsKCSQo
YmFzZSArICdfYXV0aG9yX3Jlc3VsdHNfdmlhX2VtYWlsJykuaW5uZXJIVE1MID0g
dC5yZXNwb25zZVRleHQ7Cn0KCmZ1bmN0aW9uIGF1dGhvcl9jbG9zZVBhbmVsX3Zp
YV9lbWFpbCAoYmFzZSkgewoJaWYgKCQoYmFzZSArICdfYXV0aG9yX2ZwX2luc3Ry
dWN0aW9uc192aWFfZW1haWwnKSE9bnVsbCkgewoJCSQoYmFzZSArICdfYXV0aG9y
X2ZwX2luc3RydWN0aW9uc192aWFfZW1haWwnKS5zdHlsZS5kaXNwbGF5PSdibG9j
ayc7Cgl9CglpZiAoJChiYXNlICsgJ19hdXRob3JfcmVzdWx0c192aWFfZW1haWwn
KSE9bnVsbCkgewoJCSQoYmFzZSArICdfYXV0aG9yX3Jlc3VsdHNfdmlhX2VtYWls
Jykuc3R5bGUuZGlzcGxheT0nbm9uZSc7Cgl9Cn0KCmZ1bmN0aW9uIHR2c19kb19h
dXRoX2NvcHkgKGJhc2UsIGNscl9hdXRoLCB2aWFfZW1haWwpIHsKICBpZiAodmlh
X2VtYWlsID09IDEpIHsKICAgIHZhciB2YWx1ZSA9ICQoYmFzZSsiX25tX2xpc3Rf
dmlhX2VtYWlsIikudmFsdWU7CiAgfSBlbHNlIHsKICAgIHZhciB2YWx1ZSA9ICQo
YmFzZSsiX25tX2xpc3QiKS52YWx1ZTsKICB9CgogIHZhbHVlID0gdmFsdWUucmVw
bGFjZSgvXCMvZ2ksIiUyMyIpOwogIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXD8v
Z2ksIiUzRiIpOwogIHZhciB2YWx1ZXMgPSAkSCh2YWx1ZS50b1F1ZXJ5UGFyYW1z
KFtzZXBhcmF0b3I9JzsnXSkpOwoKICBpZihiYXNlLm1hdGNoKCdhdXRoJykgJiYg
Y2xyX2F1dGggIT0gbnVsbCkgewogICAgY2xlYXJfYXV0aG9yX2luZm8oYmFzZSk7
CiAgfQoKICAvLyBmb3IgZWFjaCBoYXNoIGtleS92YWx1ZSBwYWlyIGFzIHBhc3Nl
ZCB2aWEgdGhlICc7JyBkZWxpbWl0ZWQgc3RyaW5nCiAgdmFsdWVzLmVhY2goZnVu
Y3Rpb24ocGFpcikgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBp
ZihwYWlyLmtleSA9PSAndHJhY2tfcGVybWlzc2lvbl9pbmQnIHx8IHBhaXIua2V5
ID09ICdtZW1iZXJfcm9sZV9pbmQnKSB7ICAgICAgICAgICAgICAgICAKICAgICAg
ICAgICAgICAgICAgRm9ybS5nZXRJbnB1dHMoJ3R2c19zdWJtaXQnLCAncmFkaW8n
LCBiYXNlICsgJ18nICsgcGFpci5rZXkpLmZpbmQoZnVuY3Rpb24ocmFkaW8pIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpby5jaGVj
a2VkPWZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmKHJhZGlvLnZhbHVlID09IHBhaXIudmFsdWUpIHsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvLmNoZWNrZWQ9dHJ1ZTsKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSk7CiAgICAgICAg
ICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gcmVzZXQgYWxsIGV4aXN0aW5n
IGh0bWwgZm9ybSBkYXRhCiAgICAgICAgICAgICAgICBpZiAoJChiYXNlICsgJ18n
ICsgcGFpci5rZXkpICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgaWYoKHBh
aXIua2V5ID09ICdkb2JfZGF5JyB8fCBwYWlyLmtleSA9PSAnZG9iX21vbnRoJykg
JiYgJChiYXNlICsgJ18nICsgcGFpci5rZXkpLnR5cGUgPT0gJ3NlbGVjdC1vbmUn
KSB7CiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGRvYiBmaWVsZHMgb24gaHRt
bCBmb3JtIHRvIGRlZmF1bHQgdGV4dAogICAgICAgICAgICAgICAgICAgICQoYmFz
ZSArICdfJyArIHBhaXIua2V5KS52YWx1ZSA9ICdOb25lJzsKICAgICAgICAgICAg
ICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBjbGVhciBhbGwg
cmVtYWluaW5nIGZpZWxkcyBvbiB0aGUgaHRtbCBmb3JtCiAgICAgICAgICAgICAg
ICAgICAgJChiYXNlICsgJ18nICsgcGFpci5rZXkpLmNsZWFyKCk7CiAgICAgICAg
ICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIC8vIHNldCBodG1sIGZvcm0g
ZmllbGRzIHVzaW5nIGhhc2ggdmFsdWVzCiAgICAgICAgICAgICAgICAgIGlmKHBh
aXIudmFsdWUgIT0gbnVsbCAmJiAhaXNCbGFuayhwYWlyLnZhbHVlKSAmJiBwYWly
LnZhbHVlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgJChi
YXNlICsgJ18nICsgcGFpci5rZXkpLnZhbHVlID0gcGFpci52YWx1ZTsKCiAgICAg
ICAgICAgICAgICAgICAgLy9UVFMgMTMyODkgLSBkb2JfeWVhciwgZG9iX21vbnRo
LCBkb2JfZGF5IGRvIG5vdCBleGlzdCBhcyAnY3VycmVudF8nIGh0bWwgZWxlbWVu
dHMKICAgICAgICAgICAgICAgICAgICAvLyBjYXVzZWQgZXJyb3Igd2hlbiB0aGV5
IGhhZCBwYWlyLmtleSB2YWx1ZXMgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMKICAg
ICAgICAgICAgICAgICAgICBpZiAoICQoJ2N1cnJlbnRfJyArIGJhc2UgKyAnXycg
KyBwYWlyLmtleSkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgJCgn
Y3VycmVudF8nICsgYmFzZSArICdfJyArIHBhaXIua2V5KS52YWx1ZSA9IHBhaXIu
dmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg
IAogICAgICAgICAgICAgICAgICAgIC8vVFRTIDEyNzMzOiBwb3B1bGF0ZSBuZXcg
bm90X3N1Yl8qIGhpZGRlbiB2YXJzIHdpdGggdGhpcyBpbmZvCiAgICAgICAgICAg
ICAgICAgICAgLy9UVFMgMTMyODkgLSBjaGVjayBmb3IgbnVsbCB0byBhdm9pZCBq
cyBydW50aW1lIGVycm9yCiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2UgPT0g
J2NvcnJfYXV0aCcgJiYgJCgnbm90X3N1Yl8nICsgcGFpci5rZXkpICE9IG51bGwp
IHsKICAgICAgICAgICAgICAgICAgICAgICQoJ25vdF9zdWJfJyArIHBhaXIua2V5
KS52YWx1ZSA9IHBhaXIudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAg
ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
IH0pOwoKICAvLyBzZXQgdGhlIGN1cnJlbnQgY29ycmVzcG9uZGluZyBhdXRob3Ig
dG8gdGhlIGFwcHJvcHJpYXRlIHBfaWQKICBpZihiYXNlID09ICdjb3JyX2F1dGgn
ICYmICQoJ2N1cnJlbnRfY29ycl9hdXRoX2F1dGhvcl9waWQnKSAhPSBudWxsKXsK
ICAgICQoJ2N1cnJlbnRfY29ycl9hdXRoX2F1dGhvcl9waWQnKS52YWx1ZSA9IHZh
bHVlcy5nZXQoJ3BfaWQnKTsKICB9CgogIC8vVFRTIDEyNzMzOiBzZXQgdGhlIG5v
dF9zdWJfcF9pZCB0byB0aGUgYXBwcm9wcmlhdGUgcF9pZAogIGlmKGJhc2UgPT0g
J2NvcnJfYXV0aCcpewogICAgJCgnbm90X3N1Yl9wX2lkJykudmFsdWUgPSB2YWx1
ZXMuZ2V0KCdwX2lkJyk7CiAgfQoKICBpZihiYXNlID09ICdjb3JyX2F1dGgnICYm
ICQoJ3N1Ym1pdHRlcl9pbmRfbm8nKSAhPSBudWxsICYmICQoJ3N1Ym1pdHRlcl9p
bmRfbm8nKS5jaGVja2VkID09IGZhbHNlKSB7CiAgICAkKCdzdWJtaXR0ZXJfaW5k
X25vJykuY2hlY2tlZCA9IHRydWU7CiAgfQoKICAvLyBUVFMgMTE5NjksIGV4aXN0
aW5nIGJ1ZyBmb3VuZCB3aGlsZSB0ZXN0aW5nIC0gc2V0IHRoZSBjb250cmlidXRp
bmcgYXV0aG9yIHNvIHRoYXQgY2hhbmdlcyB0byB0aGUgbmV3bHkgZm91bmQgYXV0
aG9yIGFyZSBzYXZlZAogIHZhciBjb250cmliX2F1dGhfcmVnZXggPSAvXmNvbnRy
aWJfYXV0aF8oXGQrKSQvOwogIHZhciByZWdleF9yZXN1bHRzOwogIHJlZ2V4X3Jl
c3VsdHMgPSBjb250cmliX2F1dGhfcmVnZXguZXhlYyhiYXNlKTsKICBpZiAocmVn
ZXhfcmVzdWx0cyAhPSBudWxsKSB7CiAgICBpZiAocmVnZXhfcmVzdWx0c1swXSAh
PSBudWxsICYmIHJlZ2V4X3Jlc3VsdHNbMF0gIT0gJycpIHsKICAgICAgLy8gc3Ry
aW5nIHdhcyBtYXRjaGVkCiAgICAgIGlmIChyZWdleF9yZXN1bHRzWzFdID4gMCkg
ewogICAgICAgIC8vIGF1dGhvciBpZCB3YXMgZm91bmQsIHNvIHVwZGF0ZSB0aGUg
Y3VycmVudCBhdXRob3Igd2l0aCB0aGUgZm91bmQgYXV0aG9yIHBfaWQKICAgICAg
ICAkKCdjdXJyZW50XycrYmFzZSsnX2F1dGhvcl9waWQnKS52YWx1ZSA9IHZhbHVl
cy5nZXQoJ2F1dGhvcl9waWQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBh
dXRob3JfaWQgd2FzIG5vdCBmb3VuZCwgc28gc2V0IHRoZSBjdXJyZW50IGF1dGhv
ciB0byBibGFuawogICAgICAgICQoJ2N1cnJlbnRfJytiYXNlKydfYXV0aG9yX3Bp
ZCcpLnZhbHVlID0gJyc7CiAgICAgIH0KICAgIH0KICB9CgogIC8vZXh0ZXJuYWwg
cmV2IC1zZXQgcGlkCiAgaWYgKCAvZXh0ZXJuYWxfcmV2Ly50ZXN0KCBiYXNlICkg
KSB7CiAgICAvLyBwaWQgd2FzIGZvdW5kLCBzbyB1cGRhdGUgdGhlIGN1cnJlbnQg
YXV0aG9yIHdpdGggdGhlIGZvdW5kIGF1dGhvciBwX2lkCiAgICAkKCdjdXJyZW50
XycrYmFzZSsnX3BfaWQnKS52YWx1ZSA9IHZhbHVlcy5nZXQoJ3BfaWQnKTsKICB9
CgogIGlmICh2aWFfZW1haWwgPT0gMSkgewogICAgYXV0aG9yX2Nsb3NlUGFuZWxf
dmlhX2VtYWlsKGJhc2UpOwogIH0gZWxzZSB7IAogICAgYXV0aG9yX2Nsb3NlUGFu
ZWwoYmFzZSk7CiAgfQoKICByZXR1cm47Cn0KCmZ1bmN0aW9uIHR2c19kb19hdXRo
X2JpbyAoYmFzZSwgc2hvd0RldGFpbHMsIHZpYV9lbWFpbCkgewogIGlmICh2aWFf
ZW1haWwgPT0gMSkgewogICAgdmFyIHZhbHVlID0gJChiYXNlKyJfbm1fbGlzdF92
aWFfZW1haWwiKS52YWx1ZTsKICB9IGVsc2UgewogICAgdmFyIHZhbHVlID0gJChi
YXNlKyJfbm1fbGlzdCIpLnZhbHVlOwogIH0KICB2YWx1ZSA9IHZhbHVlLnJlcGxh
Y2UoL1wjL2dpLCIlMjMiKTsKICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1w/L2dp
LCIlM0YiKTsKICB2YXIgdmFsdWVzID0gJEgodmFsdWUudG9RdWVyeVBhcmFtcyhb
c2VwYXJhdG9yPSc7J10pKTsKICB2YXIgcmVzdWx0ID0gdmFsdWVzLmdldCgnZmly
c3Rfbm0nKSArICIgIiArIHZhbHVlcy5nZXQoJ2xhc3Rfbm0nKTsKICBpZih2YWx1
ZXMuZ2V0KCdvcmcnKSAhPSB1bmRlZmluZWQpIHsKICAgIHJlc3VsdCA9IHJlc3Vs
dCArICI8YnIgLz4iICsgdmFsdWVzLmdldCgnb3JnJyk7CiAgfQogIGlmKHZhbHVl
cy5nZXQoJ2NvdW50cnknKSAhPSB1bmRlZmluZWQpIHsKICAgIHJlc3VsdCA9IHJl
c3VsdCAgKyAiPGJyIC8+IiArIHZhbHVlcy5nZXQoJ2NvdW50cnknKTsKICB9Cgog
IHZhciBsaW5rX2RldGFpbHMgPSAiIjsKICBpZiAoIHNob3dEZXRhaWxzID09IDEg
KSB7CiAgICBsaW5rX2RldGFpbHMgPSAiPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9p
ZCgwKVwiIG9uY2xpY2s9XCJzaG93QmlvcygnIiArIHZhbHVlcy5nZXQoJ3BfaWQn
KSsiJylcIj5Nb3JlIERldGFpbHMuLi48L2E+IjsKICB9CgogIGlmICh2aWFfZW1h
aWwgPT0gMSkgewkKICAgIHZhciBidXR0b25fY29weSA9ICI8aW5wdXQgdHlwZT0n
YnV0dG9uJyBvbmNsaWNrPVwidHZzX2RvX2F1dGhfY29weSgnIitiYXNlKyInLCAn
JywgIit2aWFfZW1haWwrIilcIiB2YWx1ZT0nU2VsZWN0IFBlcnNvbic+IjsKICAg
ICQoYmFzZSArICdfYXV0aG9yX2Jpb192aWFfZW1haWwnKS5pbm5lckhUTUwgPSBy
ZXN1bHQgKyAiPGJyLz4iKyBsaW5rX2RldGFpbHMgKyAiPGJyIC8+IiArIGJ1dHRv
bl9jb3B5ICsgIjxiciAvPiI7CiAgICAkKGJhc2UgKyAnX2F1dGhvcl9iaW9fdmlh
X2VtYWlsJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwoKICB9IGVsc2UgewogICAg
dmFyIGJ1dHRvbl9jb3B5ID0gIjxpbnB1dCB0eXBlPSdidXR0b24nIG9uY2xpY2s9
XCJ0dnNfZG9fYXV0aF9jb3B5KCciK2Jhc2UrIicsICcnLCAiK3ZpYV9lbWFpbCsi
KVwiIHZhbHVlPSdTZWxlY3QgUGVyc29uJz4iOwogICAgJChiYXNlICsgJ19hdXRo
b3JfYmlvJykuaW5uZXJIVE1MID0gcmVzdWx0ICsgIjxici8+IisgbGlua19kZXRh
aWxzICsgIjxiciAvPiIgKyBidXR0b25fY29weSArICI8YnIgLz4iOwogICAgJChi
YXNlICsgJ19hdXRob3JfYmlvJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogIH0K
fQoKZnVuY3Rpb24gc2hvd0Jpb3MocGlkKSB7Cgl2YXIgYWN0aW9uLCBzdywgamlk
OwogIGppZCA9ICQoJ2pfaWQnKS52YWx1ZTsKICBhY3Rpb249IGJyZWYgKyAiL2Nn
aS1iaW4vbWFpbi5wbGV4P2Zvcm1fdHlwZT1wZXJzb25fYmlvJmpfaWQ9IiArIGpp
ZCArICImYXV0aF9pZD0iICsgcGlkOwogIHN3PXdpbmRvdy5vcGVuKGFjdGlvbiwn
QklPUycpOwogIHN3LmZvY3VzKCk7Cn0KCmZ1bmN0aW9uIGlzQmxhbmsgKHMpIHsK
Cglmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHsKCQl2YXIgYyA9
IHMuY2hhckF0KGkpOwoJCWlmICgoYyAhPSAnICcpICYmIChjICE9ICdcbicpICYm
IChjICE9ICdcdCcpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCX0KCgly
ZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gY2xlYXJfYXV0aG9yX2luZm8gKGJhc2Up
IHsKICB2YXIgYWxsX2VsZW1zID0gJCgnb3Blbl8nICsgYmFzZSArICdfJykuZGVz
Y2VuZGFudHMoKTsKICBhbGxfZWxlbXMuZWFjaCggZnVuY3Rpb24oZWxlbWVudCkg
ewogICAgICAgICAgICAgICAgICAgIHZhciByZSA9IFJlZ0V4cCgiXiIgKyBiYXNl
ICsgInxedGFrZXNfcXVvdGFfaGl0JCIpOwogICAgICAgICAgICAgICAgICAgIGlm
ICggcmUudGVzdChlbGVtZW50Lm5hbWUpICkgewogICAgICAgICAgICAgICAgICAg
ICAgaWYgKCBlbGVtZW50ICE9IG51bGwgKSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgIGlmICggZWxlbWVudC50eXBlID09ICdidXR0b24nCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgfHwgZWxlbWVudC50eXBlID09ICdzdWJtaXQnCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfHwgZWxlbWVudC5uYW1lID09IGJhc2Ug
KyAnX2NvbnRyaWJfbm90ZScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8
fCBlbGVtZW50Lm5hbWUgPT0gYmFzZSArICdfYXV0aG9yX3NlcScgKSB7CiAgICAg
ICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZyAvLwogICAgICAgICAg
ICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBlbGVtZW50LnR5cGUgPT0gJ3JhZGlv
JyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNoZWNrZWQg
PSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggZWxl
bWVudC50eXBlID09ICdjaGVja2JveCcgKSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgICAgZWxlbWVudC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAg
ICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBl
bGVtZW50Lm5hbWUgID09IChiYXNlICsgJ19kb2JfZGF5JykKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHx8IGVsZW1lbnQubmFtZSA9PSAoYmFzZSArICdf
ZG9iX21vbnRoJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGVs
ZW1lbnQudHlwZSA9PSAnc2VsZWN0LW9uZScgKSB7CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJ05vbmUnOwogICAgICAgICAgICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50
LmV4dGVuZChlbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVt
ZW50LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
ICAgICAgIH0pOwogIHJldHVybjsKfQoKZnVuY3Rpb24gdXBkYXRlX3N1Yl9jb3Jy
ICh2YWwpIHsKCiAgaWYgKCB2YWwgPT0gMSkgeyAvLyBZRVMgc2VsZWN0ZWQKICAg
IGNsZWFyX2F1dGhvcl9pbmZvKCdjb3JyX2F1dGgnKTsKICAgIHZhciBhbGxfZWxl
bXMgPSAkKCdzdWJfaGlkZGVuJykuZGVzY2VuZGFudHMoKTsKICAgIHZhciBlcnJv
cl9tc2dfdHh0ID0gJyc7CiAgICBhbGxfZWxlbXMuZWFjaCggZnVuY3Rpb24oZWxl
bWVudCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IGVsZW1lbnQu
bmFtZS5yZXBsYWNlKC9ec3ViL2ksICcnKTsKICAgICAgICAgICAgICAgICAgICAg
IHZhciBjb3JyX2tleSA9IGVsZW1lbnQubmFtZS5yZXBsYWNlKC9ec3ViL2ksICdj
b3JyX2F1dGgnKTsKICAgICAgICAgICAgICAgICAgICAgIGlmICggdGFnID09ICd0
cmFja19wZXJtaXNzaW9uX2luZCcKICAgICAgICAgICAgICAgICAgICAgICAgICAg
fHwgdGFnID09ICdtZW1iZXJfcm9sZV9pbmQnKSB7CiAgICAgICAgICAgICAgICAg
ICAgICAgIEZvcm0uZ2V0SW5wdXRzKCd0dnNfc3VibWl0JywgJ3JhZGlvJywgY29y
cl9rZXkpLmZpbmQoIGZ1bmN0aW9uKHJhZGlvKSB7CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgcmFkaW8uY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGlmICggcmFkaW8udmFsdWUgPT0gZWxlbWVu
dC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFk
aW8uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfX0pOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50
Lm5hbWUgPT0gJ3N1Yl90YWtlc19xdW90YV9oaXQnKSB7IC8vIFRUUyAxMzE2Ngog
ICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgYW55IGRpc3Bs
YXllZCByYWRpbyBidXR0b25zIGFyZSBzZWxlY3RlZAogICAgICAgICAgICAgICAg
ICAgICAgICB2YXIgY3VycmVudGx5X3NlbGVjdGVkX3Rha2VzX3F1b3RhX2hpdDsK
ICAgICAgICAgICAgICAgICAgICAgICAgdGFnID0gZWxlbWVudC5uYW1lLnJlcGxh
Y2UoL15zdWJfL2ksICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgRm9ybS5n
ZXRJbnB1dHMoJ3R2c19zdWJtaXQnLCAncmFkaW8nLCB0YWcpLmZpbmQoIGZ1bmN0
aW9uKHJhZGlvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYWRp
by5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjdXJyZW50bHlfc2VsZWN0ZWRfdGFrZXNfcXVvdGFfaGl0ID0gcmFkaW87CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50bHlf
c2VsZWN0ZWRfdGFrZXNfcXVvdGFfaGl0ID09IG51bGwKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmJiBlbGVtZW50LnZhbHVlID09IDEpIHsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAvL25vIHJhZGlvIGJ1dHRvbnMgYXJlIHNlbGVjdGVk
LCBhbmQgdGhlIHN1Ym1pdHRlciB3YXMgaW5pdGlhbGx5IHNlbGVjdGVkCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgJCgnb3Blbl9jb3JyX2F1dGhfJykuZGVzY2Vu
ZGFudHMoKS5lYWNoKCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGlmIChlbGVtZW50Lm5hbWUgPT0gJ3Rha2VzX3F1b3RhX2hpdCcpIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSB0cnVlOwog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAg
ICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIH0g
ZWxzZSBpZiAoICQoY29ycl9rZXkpICE9IG51bGwgKSB7CiAgICAgICAgICAgICAg
ICAgICAgICAgICQoY29ycl9rZXkpLmNsZWFyKCk7IC8vIFRUUyAxMzcyMCAtIG1v
dmVkIHRoaXMgdXAgb3V0IG9mIGlmLiB3YXMgbm90IGNsZWFyaW5nIGFsbCBmaWVs
ZHMuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbWVudC52YWx1ZSAh
PSBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIWlzQmxhbmso
ZWxlbWVudC52YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBl
bGVtZW50LnZhbHVlICE9IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAkKGNvcnJfa2V5KS52YWx1ZSA9IGVsZW1lbnQudmFsdWU7CiAgICAg
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxz
ZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX21zZ190eHQgKz0gY29y
cl9rZXkgKyAiIHwgIjsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgICAgICAgICB9KTsKCgogICAgLy9UVFMgMTI3MzM6IHVwZGF0ZSBjdXJyZW50
IHBfaWQgYW5kIG5hbWVzIGFuZCBlbWFpbCBzbyB0aGF0IGNvZGUgd29uJ3QgdHJ5
IHRvIGZpbmQgcGVyc29uIGFsbCBvdmVyIGFnYWluCiAgICAvL2FscmVhZHkga25v
d24gc2luY2UgaXQncyB0aGUgbG9jYWwgdXNlcgogICAgJCgnY3VycmVudF9jb3Jy
X2F1dGhfYXV0aG9yX3BpZCcpLnZhbHVlID0gJCgnc3ViX3BfaWQnKS52YWx1ZTsK
ICAgICQoJ2N1cnJlbnRfY29ycl9hdXRoX2ZpcnN0X25tJykudmFsdWUgPSAkKCdz
dWJfZmlyc3Rfbm0nKS52YWx1ZTsKICAgICQoJ2N1cnJlbnRfY29ycl9hdXRoX2xh
c3Rfbm0nKS52YWx1ZSA9ICQoJ3N1Yl9sYXN0X25tJykudmFsdWU7CiAgICAkKCdj
dXJyZW50X2NvcnJfYXV0aF9lbWFpbCcpLnZhbHVlID0gJCgnc3ViX2VtYWlsJyku
dmFsdWU7CgogIH0gZWxzZSBpZiAoIHZhbCA9PSAwICkgeyAvL05PIHNlbGVjdGVk
CiAgICAvL1RUUyAxMjczMzogbmV3IHdheSB0byBjb3B5IGRhdGEgLSB0aGUgcHJl
dmlvdXNseSBmb3VuZCBwZXJzb24gdGhhdCdzIG5vdCB0aGUgbG9jYWwgdXNlciBp
cyBub3Qgc3RvcmVkIGluIGN1cnJlbnRfY29ycl9hdXRoXyoKICAgIC8vIG5vdyBz
dG9yZWQgaW4gbmV3IGhpZGRlbiBpbnB1dHMgbm90X3N1Yl8qCiAgICBpZiAoICQo
J2N1cnJlbnRfY29ycl9hdXRoX2F1dGhvcl9waWQnKS52YWx1ZSA+IDAKICAgICAg
ICAgJiYgJCgnbm90X3N1Yl9wX2lkJykudmFsdWUgPiAwCiAgICAgICAgICYmICQo
J2N1cnJlbnRfY29ycl9hdXRoX2F1dGhvcl9waWQnKS52YWx1ZSAhPSAkKCdub3Rf
c3ViX3BfaWQnKS52YWx1ZSApIHsKICAgICAgLy8gVFRTIDEzNzIwIC0gZ2V0IHNl
bGVjdHMgYXMgd2VsbCBhcyBpbnB1dHMgKG5lZWRlZCB0byB1cGRhdGUgY291bnRy
eSBzZWxlY3QgdmFsdWUpCiAgICAgIC8vdmFyIGFsbF9pbnB1dHMgPSAkKCd0dnNf
c3VibWl0JykuZ2V0SW5wdXRzKCk7CiAgICAgIHZhciBhbGxfaW5wdXRzID0gJCgn
dHZzX3N1Ym1pdCcpLmdldEVsZW1lbnRzQnlTZWxlY3RvcignaW5wdXQnLCAnc2Vs
ZWN0Jyk7CiAgICAgIHZhciByZTEgPSBSZWdFeHAoIl5jb3JyX2F1dGhfIik7CiAg
ICAgIGFsbF9pbnB1dHMuZWFjaCggZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAg
ICAgICAgICAgICAgICAgICAgaWYgKCByZTEudGVzdChlbGVtZW50Lm5hbWUpKSB7
CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSBlbGVtZW50Lm5h
bWUucmVwbGFjZSgvXmNvcnJfYXV0aF8vaSwgJycpOwogICAgICAgICAgICAgICAg
ICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCdu
b3Rfc3ViXycrdGFnKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKCB0YWcgPT0gJ3RyYWNrX3Blcm1pc3Npb25faW5kJyB8fCB0YWcg
PT0gJ21lbWJlcl9yb2xlX2luZCcpIHsgICAgICAgICAgICAgICAKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIEZvcm0uZ2V0SW5wdXRzKCd0dnNfc3VibWl0
JywgJ3JhZGlvJywgZWxlbWVudC5uYW1lKS5maW5kKCBmdW5jdGlvbihyYWRpbykg
eyAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBy
YWRpby5jaGVja2VkPWZhbHNlOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGlmICggcmFkaW8udmFsdWUgPT0gJCgnbm90X3N1Yl8n
K3RhZykudmFsdWUpIHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHJhZGlvLmNoZWNrZWQ9dHJ1ZTsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19KTsKCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgfSBlbHNlIGlmICggdGFnID09ICdjb3VudHJ5JykgeyAv
LyBUVFMgMTM3MjAgLSBhZGRlZCBjb2RlIHRvIHVwZGF0ZSBjb3VudHJ5IHNlbGVj
dCBsaXN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBp
PWVsZW1lbnQub3B0aW9ucy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm9wdGlvbnNbaV0u
dGV4dCA9PSAkKCdub3Rfc3ViXycrdGFnKS52YWx1ZSkgewogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub3B0aW9uc1tpXS5zZWxlY3Rl
ZCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGVsZW1lbnQuY2xlYXIoKTsgLy8gVFRTIDEzNzIwIC0gbW92ZWQgdGhpcyB1cCBv
dXQgb2YgaWYuIHdhcyBub3QgY2xlYXJpbmcgYWxsIGZpZWxkcy4KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGlmICggJCgnbm90X3N1Yl8nK3RhZykudmFs
dWUgIT0gbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICYmICFpc0JsYW5rKCQoJ25vdF9zdWJfJyt0YWcpLnZhbHVlKQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICQoJ25vdF9zdWJf
Jyt0YWcpLnZhbHVlICE9IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSAkKCdub3Rfc3ViXycrdGFnKS52
YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgfQog
ICAgICAgICAgICAgICAgICAgICAgICk7CiAgICB9IGVsc2UgewogICAgICBjbGVh
cl9hdXRob3JfaW5mbygnY29ycl9hdXRoJyk7CiAgICB9CiAgICAvLyBUVFMgMTI3
MzM6IG9sZCBmdW5jdGlvbmFsaXR5CiAgICAvLyAgICBpZigkKCdjdXJyZW50X2Nv
cnJfYXV0aF9hdXRob3JfcGlkJykudmFsdWUgPiAwICYmICQoJ2N1cnJlbnRfY29y
cl9hdXRoX2F1dGhvcl9waWQnKS52YWx1ZSAhPSAkKCdzdWJfcF9pZCcpLnZhbHVl
KSB7CiAgICAvLyAgICAgIHZhciBhbGxfZWxlbXMgPSAkKCdvcGVuX2NvcnJfYXV0
aF8nKS5kZXNjZW5kYW50cygpOyAgICAgIAogICAgLy8gICAgICB2YXIgcmUgPSBS
ZWdFeHAoIl5jdXJyZW50X2NvcnJfYXV0aF8iKTsKICAgIC8vICAgICAgYWxsX2Vs
ZW1zLmVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyAgICAgICAgICAgICAgICAgICAg
ICAgCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgaWYocmUudGVzdChlbGVt
ZW50Lm5hbWUpKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIg
Y29ycl9rZXkgPSBlbGVtZW50Lm5hbWUucmVwbGFjZSgvXmN1cnJlbnRfY29ycl9h
dXRoL2ksICdjb3JyX2F1dGgnKTsKICAgIC8vICAgICAgICAgICAgICAgICAgICAg
ICAgIGlmICgkKGNvcnJfa2V5KSE9bnVsbCkgewogICAgLy8gICAgICAgICAgICAg
ICAgICAgICAgICAgICAkKGNvcnJfa2V5KS5jbGVhcigpOwogICAgLy8gICAgICAg
ICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnZhbHVlICE9IG51bGwgJiYg
IWlzQmxhbmsoZWxlbWVudC52YWx1ZSkgJiYgZWxlbWVudC52YWx1ZSAhPSB1bmRl
ZmluZWQpIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGNv
cnJfa2V5KS52YWx1ZSA9IGVsZW1lbnQudmFsdWU7CiAgICAvLyAgICAgICAgICAg
ICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAg
IH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAg
ICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgKTsKICAg
IC8vICAgIH0gZWxzZSB7CiAgICAvLyAgICAgIGNsZWFyX2F1dGhvcl9pbmZvKCdj
b3JyX2F1dGgnKTsKICAgIC8vICAgIH0KICB9CgogIC8vIHVwZGF0ZSBjbG9zZSB0
YWdzCiAgdmFyIGluZGV4ID0gLTE7CiAgdmFyIHBhbmUgPSAnY29ycl9hdXRoXyc7
CiAgaWYgKCQoJ2Nsb3NlZF8nICsgcGFuZSkuc3R5bGUuZGlzcGxheT09J2lubGlu
ZScpIHsKICAgIC8vIEZpbGwgaW4gaW5mbyBmcm9tIHRoZSBmb3JtCiAgICAkKCdu
YW1lXycgKyBwYW5lKS5pbm5lckhUTUwgPSAnPHN0cm9uZz4nICsgJEYocGFuZSAr
ICdmaXJzdF9ubScpICsgJyAnICsgJEYocGFuZSArICdtaWRkbGVfbm0nKSArICcg
JyAgKyAkRihwYW5lICsgJ2xhc3Rfbm0nKSArICc8L3N0cm9uZz4nOyAKICAgICQo
J2VtYWlsXycgKyBwYW5lKS5pbm5lckhUTUwgPSAkRihwYW5lICsgJ2VtYWlsJyk7
CiAgICAkKCdvcmdfJyArIHBhbmUpLmlubmVySFRNTCA9ICRGKHBhbmUgKyAnb3Jn
Jyk7CiAgICBpZigkKHBhbmUgKyAnYXV0aG9yX3NlcScpLnR5cGUgPT0gJ3NlbGVj
dC1vbmUnKSB7CiAgICAgIGluZGV4ID0gJChwYW5lICsgJ2F1dGhvcl9zZXEnKS5z
ZWxlY3RlZEluZGV4OwogICAgfSBlbHNlIHsKICAgICAgaW5kZXggPSAkKHBhbmUg
KyAnYXV0aG9yX3NlcScpLnZhbHVlOwogICAgfQogICAgaWYoaW5kZXggIT0gbnVs
bCAmJiBpbmRleCA+PSAwKSB7CiAgICAgICQoJ3NlcV8nICsgcGFuZSkuaW5uZXJI
VE1MID0gJChwYW5lICsgJ2F1dGhvcl9zZXEnKS5vcHRpb25zW2luZGV4XS50ZXh0
ICsgJyBBdXRob3InOwogICAgfSBlbHNlIHsKICAgICAgJCgnc2VxXycgKyBwYW5l
KS5pbm5lckhUTUwgPSAiVW5udW1iZXJlZCBBdXRob3IiOwogICAgfQogIH0KICBy
ZXR1cm47Cn0KCmZ1bmN0aW9uIHR2c19kaXNwbGF5X2NvbnZlcnNpb25fbG9nX2pz
KGxpbmssIG9iamVjdGlkKSB7CiAgbmV3IEFqYXguUmVxdWVzdChicmVmICsgIi8i
ICsgcHJvZ19iYXNlLCB7IG1ldGhvZDogJ3Bvc3QnLCBwYXJhbWV0ZXJzOiAnZm9y
bV90eXBlPXR2c19jb252ZXJzaW9uX2xvZyZvYmplY3RfaWQ9JyArIG9iamVjdGlk
LCBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcSkgeyB0dnNfZGlzcGxheV9jb252ZXJz
aW9uX2xvZ19kb25lKHJlcSk7IH0sIG9uRmFpbDpmdW5jdGlvbihyZXEpIHsgdHZz
X2Rpc3BsYXlfY29udmVyc2lvbl9sb2dfZG9uZShyZXEsIHRydWUpIH0gfSk7Cgog
IHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTsKCiAgZGl2
LmlkID0gJ2VqcF9jb252X2xvZyc7CiAgZGl2LmlubmVySFRNTCA9ICc8ZGl2IHN0
eWxlPSJmbG9hdDpyaWdodDsiPjxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIg
b25jbGljaz0idHZzX2Nsb3NlX2NvbnZlcnNpb25fbG9nKCkiPjxpbWcgYm9yZGVy
PSIwIiBzcmM9ImltYWdlcy90Yl9jbG9zZS5qcGciLz48L2E+PC9kaXY+PGRpdiBp
ZD0iZWpwX2NvbnZfbG9nX3RleHQiIGNsYXNzPSJjb252X2xvZyI+TG9hZGluZyBD
b252ZXJzaW9uIExvZzwvZGl2Pic7CgogIEVsZW1lbnQuY2xvbmVQb3NpdGlvbihk
aXYsIGxpbmssIHsgc2V0SGVpZ2h0OmZhbHNlLCBzZXRXaWR0aDpmYWxzZSwgb2Zm
c2V0VG9wOmxpbmsub2Zmc2V0SGVpZ2h0KzQsIG9mZnNldExlZnQ6MCB9KTsKICAv
L1Bvc2l0aW9uLmNsb25lKGxpbmssIGRpdiwgeyBzZXRIZWlnaHQ6ZmFsc2UsIHNl
dFdpZHRoOmZhbHNlLCBvZmZzZXRUb3A6bGluay5vZmZzZXRIZWlnaHQrNCwgb2Zm
c2V0TGVmdDowIH0pOwoKICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShkaXYs
IGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7CiAgZGl2LnN0eWxlLmRpc3Bs
YXkgPSAnYmxvY2snOwoKfQoKZnVuY3Rpb24gdHZzX2Rpc3BsYXlfY29udmVyc2lv
bl9sb2dfZG9uZShyZXEsIGZhaWxlZCkgewogIGlmIChmYWlsZWQgPT0gbnVsbCkg
ZmFpbGVkID0gZmFsc2U7CgogIGlmICgkKCdlanBfY29udl9sb2cnKSkgewogICAg
aWYgKCFmYWlsZWQpICQoJ2VqcF9jb252X2xvZ190ZXh0JykuaW5uZXJIVE1MID0g
cmVxLnJlc3BvbnNlVGV4dDsKICAgIGVsc2UgJCgnZWpwX2NvbnZfbG9nX3RleHQn
KS5pbm5lckhUTUwgPSAnRmFpbGVkIHRvIGdldCBjb252ZXJzaW9uIGxvZyc7CiAg
fQp9CgpmdW5jdGlvbiB0dnNfY2xvc2VfY29udmVyc2lvbl9sb2coKSB7CiAgaWYg
KCQoJ2VqcF9jb252X2xvZycpKSB7CiAgICAkKCdlanBfY29udl9sb2cnKS5yZW1v
dmUoKTsKICB9Cn0KCi8vCi8vIFRUUyAxMDI3NQovLwpmdW5jdGlvbiBhZGRQcmVh
cnJhbmdlZChwb29sTGlzdCwgbGlzdCwgbGlzdE1heCwgaHRtbEZvcm0sIHByZWFy
cmFuZ2VkX21zZywgbGlzdF9mdWxsX21zZykgewoKICAvL3Bvb2xMaXN0ID0gYmln
IGxpc3QKICAvL2xpc3QgPSBzZWxlY3RlZCBvbmVzCgogIHZhciBpLCBsaXN0TGVu
Z3RoLCBwcmVhcnJhbmdlZF9waWQ7CiAgdmFyIHBvb2xTZWxlY3RlZEluZGV4LCBu
YW1lLCBwaWQ7CiAgdmFyIGxpc3RMZW5ndGg7CgogIGV2YWwoInByZWFycmFuZ2Vk
X3BpZCA9IGRvY3VtZW50LiIraHRtbEZvcm0rIi5wcmVhcnJhbmdlZF9wX2lkLnZh
bHVlOyIpOwogIGV2YWwoInBvb2xTZWxlY3RlZEluZGV4ID0gIitwb29sTGlzdCsi
LnNlbGVjdGVkSW5kZXg7Iik7CiAgZXZhbCgibGlzdFNlbGVjdGVkSW5kZXggPSAi
K2xpc3QrIi5zZWxlY3RlZEluZGV4OyIpOwoKICBpZihwb29sU2VsZWN0ZWRJbmRl
eCA8IDApIHsKICAgIC8vIzM5IC0gaWYgdGhlIG90aGVyIGluZGV4IGlzIHNlbGVj
dGVkLCB1c2UgdGhlbQogICAgaWYobGlzdFNlbGVjdGVkSW5kZXggPj0gMCkgewog
ICAgICBldmFsKCJuYW1lID0gIitsaXN0KyIub3B0aW9uc1siK2xpc3RTZWxlY3Rl
ZEluZGV4KyJdLnRleHQ7Iik7CiAgICAgIGV2YWwoInBpZCA9ICIrbGlzdCsiLm9w
dGlvbnNbIitsaXN0U2VsZWN0ZWRJbmRleCsiXS52YWx1ZTsiKTsKICAgICAgCiAg
ICAgIGlmKHByZWFycmFuZ2VkX3BpZCAhPSAnJyAmJiBwcmVhcnJhbmdlZF9waWQg
IT0gMCAmJiBwaWQgPT0gcHJlYXJyYW5nZWRfcGlkKSB7CiAgICAgICAgZXZhbCgi
ZG9jdW1lbnQuIitodG1sRm9ybSsiLnByZWFycmFuZ2VkX25hbWUudmFsdWUgPSAn
JzsiKTsKICAgICAgICBldmFsKCJkb2N1bWVudC4iK2h0bWxGb3JtKyIucHJlYXJy
YW5nZWRfcF9pZC52YWx1ZSA9IDA7Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg
ZXZhbCgiZG9jdW1lbnQuIitodG1sRm9ybSsiLnByZWFycmFuZ2VkX25hbWUudmFs
dWUgPSAnIituYW1lKyInOyIpOwogICAgICAgIGV2YWwoImRvY3VtZW50LiIraHRt
bEZvcm0rIi5wcmVhcnJhbmdlZF9wX2lkLnZhbHVlID0gIitwaWQrIjsiKTsKICAg
ICAgfSAgCiAgICAgIHJldHVybjsKICAgIH0KCiAgICBhbGVydChwcmVhcnJhbmdl
ZF9tc2cpOwogICAgcmV0dXJuOwogIH0KICAKICBldmFsKCJsaXN0TGVuZ3RoID0g
IitsaXN0KyIub3B0aW9ucy5sZW5ndGg7Iik7CiAgCiAgaWYoIGxpc3RMZW5ndGgg
Pj0gbGlzdE1heCAmJiBsaXN0TGVuZ3RoID4gMSkgewogICAgYWxlcnQobGlzdF9m
dWxsX21zZyk7CiAgICByZXR1cm47CiAgfQoKICBldmFsKCJwaWQgPSAiK3Bvb2xM
aXN0KyIub3B0aW9uc1siK3Bvb2xTZWxlY3RlZEluZGV4KyJdLnZhbHVlOyIpOwog
IAogIHZhciBSRSA9IC9cfC4qLzsKICBwaWQgPSBwaWQucmVwbGFjZShSRSwgJycp
OwoKICBpZiggcHJlYXJyYW5nZWRfcGlkICE9ICcnICYmIHByZWFycmFuZ2VkX3Bp
ZCAhPSAwICYmIHBpZCA9PSBwcmVhcnJhbmdlZF9waWQgKSB7CiAgICAvL2J1bXAg
Y3VycmVudAogICAgZXZhbCgibGlzdExlbmd0aCA9ICIrbGlzdCsiLmxlbmd0aDsi
KTsKICAgIGZvcihpPTA7IGkgPCBsaXN0TGVuZ3RoOyBpKyspIHsKICAgICAgZXZh
bCgicGlkID0gIitsaXN0KyIub3B0aW9uc1siK2krIl0udmFsdWU7Iik7CiAgICAg
IGlmKHBpZCA9PSBwcmVhcnJhbmdlZF9waWQpIHsKICAgICAgICBldmFsKGxpc3Qr
Ii5vcHRpb25zWyIraSsiXSA9IG51bGw7Iik7CiAgICAgICAgICAgICAgICAgICAg
aSA9IGxpc3RMZW5ndGgrMTsKICAgICAgfQogICAgfQogICAgCiAgICAvL2NsZWFy
IG91dCBwcmVhcnJhbmdlZAogICAgZXZhbCgiZG9jdW1lbnQuIitodG1sRm9ybSsi
LnByZWFycmFuZ2VkX25hbWUudmFsdWUgPSAnJzsiKTsKICAgIGV2YWwoImRvY3Vt
ZW50LiIraHRtbEZvcm0rIi5wcmVhcnJhbmdlZF9wX2lkLnZhbHVlID0gMDsiKTsK
ICAgIAogIH0gZWxzZSBpZiAoIHByZWFycmFuZ2VkX3BpZCAhPSAnJyAmJiBwcmVh
cnJhbmdlZF9waWQgIT0gMCAmJiBwcmVhcnJhbmdlZF9waWQgIT0gcGlkICkgewog
ICAgZXZhbCgibGlzdExlbmd0aCA9ICIrbGlzdCsiLmxlbmd0aDsiKTsKICAgIGZv
cihpPTA7IGkgPCBsaXN0TGVuZ3RoOyBpKyspIHsKICAgICAgZXZhbCgicGlkID0g
IitsaXN0KyIub3B0aW9uc1siK2krIl0udmFsdWU7Iik7CiAgICAgIGlmKHBpZCA9
PSBwcmVhcnJhbmdlZF9waWQpIHsKICAgICAgICBldmFsKGxpc3QrIi5vcHRpb25z
WyIraSsiXSA9IG51bGw7Iik7CiAgICAgICAgaSA9IGxpc3RMZW5ndGgrMTsKICAg
ICAgfQogICAgfQogICAgCiAgICAvL2NsZWFyIG91dCBwcmVhcnJhbmdlZAogICAg
ZXZhbCgiZG9jdW1lbnQuIitodG1sRm9ybSsiLnByZWFycmFuZ2VkX25hbWUudmFs
dWUgPSAnJzsiKTsKICAgIGV2YWwoImRvY3VtZW50LiIraHRtbEZvcm0rIi5wcmVh
cnJhbmdlZF9wX2lkLnZhbHVlID0gMDsiKTsKICAgIAogICAgRFNBZGRUb0xpc3Qo
cG9vbExpc3QsIGxpc3QsIGxpc3RNYXgsICdkb2N1bWVudC50dnNfc3VibWl0LmFl
X2luY2x1ZGUnKTsKCiAgICAvL2dldCB0aGUgbmFtZSAmIHBfaWQgICAgICAgIAog
ICAgZXZhbCgibmFtZSA9ICIrcG9vbExpc3QrIi5vcHRpb25zWyIrcG9vbFNlbGVj
dGVkSW5kZXgrIl0udGV4dDsiKTsKICAgIGV2YWwoInBpZCA9ICIrcG9vbExpc3Qr
Ii5vcHRpb25zWyIrcG9vbFNlbGVjdGVkSW5kZXgrIl0udmFsdWU7Iik7CiAgICAK
ICAgIG5hbWUgPSBmaXhfbmFtZShuYW1lKTsKICAgIHZhciBSRSA9IC9cfC4qLzsK
ICAgIHBpZCA9IHBpZC5yZXBsYWNlKFJFLCAnJyk7CgogICAgLy9ub3cgcHVzaCB0
aGVtIG92ZXIKICAgIGV2YWwoImRvY3VtZW50LiIraHRtbEZvcm0rIi5wcmVhcnJh
bmdlZF9uYW1lLnZhbHVlID0gJyIrbmFtZSsiJzsiKTsKICAgIGV2YWwoImRvY3Vt
ZW50LiIraHRtbEZvcm0rIi5wcmVhcnJhbmdlZF9wX2lkLnZhbHVlID0gIitwaWQr
IjsiKTsKICAgICAgICAgICAgCiAgfSBlbHNlIHsKICAgIERTQWRkVG9MaXN0KHBv
b2xMaXN0LCBsaXN0LCBsaXN0TWF4LCAnZG9jdW1lbnQudHZzX3N1Ym1pdC5hZV9p
bmNsdWRlJyk7CiAgICAKICAgIC8vZ2V0IHRoZSBuYW1lICYgcF9pZCAgICAgICAg
CiAgICBldmFsKCJuYW1lID0gIitwb29sTGlzdCsiLm9wdGlvbnNbIitwb29sU2Vs
ZWN0ZWRJbmRleCsiXS50ZXh0OyIpOwogICAgZXZhbCgicGlkID0gIitwb29sTGlz
dCsiLm9wdGlvbnNbIitwb29sU2VsZWN0ZWRJbmRleCsiXS52YWx1ZTsiKTsKCiAg
ICBuYW1lID0gZml4X25hbWUobmFtZSk7CgogICAgdmFyIFJFID0gL1x8LiovOwog
ICAgcGlkID0gcGlkLnJlcGxhY2UoUkUsICcnKTsKCiAgICAvL25vdyBwdXNoIHRo
ZW0gb3ZlcgogICAgZXZhbCgiZG9jdW1lbnQuIitodG1sRm9ybSsiLnByZWFycmFu
Z2VkX25hbWUudmFsdWUgPSAnIituYW1lKyInOyIpOwogICAgZXZhbCgiZG9jdW1l
bnQuIitodG1sRm9ybSsiLnByZWFycmFuZ2VkX3BfaWQudmFsdWUgPSAiK3BpZCsi
OyIpOwogIH0KICByZXR1cm47Cn0KCmZ1bmN0aW9uIGZpeF9uYW1lKG5hbWUpIHsK
ICB2YXIgY2hhclRvUmVtb3ZlID0gJ1wnJzsKICB2YXIgcmVnRXhwID0gbmV3IFJl
Z0V4cCgiWyIrY2hhclRvUmVtb3ZlKyJdIiwiZyIpOwogIHJldHVybiBuYW1lLnJl
cGxhY2UocmVnRXhwLCJcXFwnIik7Cn0KCgpmdW5jdGlvbiBwcmVhcnJhbmdlZFJl
bW92ZUZyb21MaXN0KGxpc3QsIGh0bWxGb3JtLCBoaWRkZW5WYXIsIGxlYXZlUHJl
YXJyYW5nZWQsIGxlYXZlX3BlX21zZykgewogIHZhciBsaXN0U2VsZWN0ZWRJbmRl
eCwgdmFsdWUsIGxpc3RMZW5ndGgsIGluZGV4VG9TZWxlY3Q7CiAgdmFyIHByZWFy
cmFuZ2VkX3BpZDsKICB2YXIgcHJlYXJyYW5nZWRGaWVsZEV4aXN0czsKCiAgZXZh
bCgibGlzdFNlbGVjdGVkSW5kZXggPSAiK2xpc3QrIi5zZWxlY3RlZEluZGV4OyIp
OwogIGlmKGxpc3RTZWxlY3RlZEluZGV4IDwgMCkgewogICAgcmV0dXJuOwogIH0K
ICBldmFsKCJ2YWx1ZSA9ICIrbGlzdCsiLm9wdGlvbnNbIitsaXN0U2VsZWN0ZWRJ
bmRleCsiXS52YWx1ZTsiKTsKICBpZih2YWx1ZSA9PSAwKSB7CiAgICByZXR1cm47
CiAgfQoKICAvL1RUUyAxMjc5NCAtICdzZWxlY3QgcHJlYXJyYW5nZWQgbWUnIG5l
ZWRzIHRoaXMsIGJ1dCBjYXVzZXMgYW4gZXJyb3IgZm9yICdhZSBpbmNsdWRlIGR1
YWwgc2VsZWN0IGJveGVzJwogIGV2YWwoInZhciBwcmVhcnJhbmdlZEZpZWxkRXhp
c3RzID0gKGRvY3VtZW50LiIraHRtbEZvcm0rIi5wcmVhcnJhbmdlZF9wX2lkICE9
IG51bGwpIik7CgogIGlmIChwcmVhcnJhbmdlZEZpZWxkRXhpc3RzKSB7CiAgICBl
dmFsKCJwcmVhcnJhbmdlZF9waWQgPSBkb2N1bWVudC4iK2h0bWxGb3JtKyIucHJl
YXJyYW5nZWRfcF9pZC52YWx1ZTsiKTsKICB9CiAgICAgIAogIC8vaWYgY2FuJ3Qg
cmVtb3ZlIHRoZSBwcmVhcnJhbmdlZCBhbmQgaXQgaXMgdGhlIG9uZSwgdGhlbiBz
a2lwIQogIGlmKGxlYXZlUHJlYXJyYW5nZWQgPT0gMSAmJgogICAgIHByZWFycmFu
Z2VkX3BpZCA9PSB2YWx1ZSkgewogICAgYWxlcnQobGVhdmVfcGVfbXNnKTsKICAg
IHJldHVybjsKICB9CgogIC8vcmVtb3ZlIHByZWFycmFuZ2VkIGlmIHRoZXkgYXJl
IHN1Y2gKICBpZihwcmVhcnJhbmdlZF9waWQgPT0gdmFsdWUKICAgICAmJiBwcmVh
cnJhbmdlZEZpZWxkRXhpc3RzKSB7CiAgICAvL2NsZWFyIG91dCBwcmVhcnJhbmdl
ZAogICAgZXZhbCgiZG9jdW1lbnQuIitodG1sRm9ybSsiLnByZWFycmFuZ2VkX25h
bWUudmFsdWUgPSAnJzsiKTsKICAgIGV2YWwoImRvY3VtZW50LiIraHRtbEZvcm0r
Ii5wcmVhcnJhbmdlZF9wX2lkLnZhbHVlID0gMDsiKTsKICB9CiAgICAgIAogIC8v
ZG8gdGhlIHJlbW92ZQogIGV2YWwobGlzdCsiLm9wdGlvbnNbIitsaXN0U2VsZWN0
ZWRJbmRleCsiXSA9IG51bGw7Iik7CiAgZXZhbCgibGlzdExlbmd0aCA9ICIrbGlz
dCsiLm9wdGlvbnMubGVuZ3RoOyIpOwoKICAvL1RUIDEzNDcxCiAgRFNTZXRTZWxl
Y3RMaXN0KGxpc3QsICd8JywgaGlkZGVuVmFyKTsKCiAgaWYobGlzdExlbmd0aCA9
PSAwKSB7CiAgICByZXR1cm47CiAgfQogICAgICAKICBpZihsaXN0U2VsZWN0ZWRJ
bmRleCA9PSAwKSB7CiAgICBpbmRleFRvU2VsZWN0ID0gMDsKICB9IGVsc2UgaWYo
bGlzdFNlbGVjdGVkSW5kZXggPT0gbGlzdExlbmd0aCkgewogICAgaW5kZXhUb1Nl
bGVjdCA9IGxpc3RTZWxlY3RlZEluZGV4LTE7CiAgfSBlbHNlIHsKICAgIGluZGV4
VG9TZWxlY3QgPSBsaXN0U2VsZWN0ZWRJbmRleDsKICB9CiAgaWYoaW5kZXhUb1Nl
bGVjdCA+PSAwKSB7CiAgICBldmFsKGxpc3QrIi5vcHRpb25zWyIraW5kZXhUb1Nl
bGVjdCsiXS5zZWxlY3RlZCA9IHRydWU7Iik7CiAgfQogICAgICAKICByZXR1cm47
Cn0KCi8vZGlzcGxheSB3YXJuaW5nIGJlZm9yZSBhY3R1YWxseSBzdWJtaXR0aW5n
IE1TIHdoZW4gY2xpY2tpbmcgb24gdGhlICJBcHByb3ZlIFN1Ym1pc3Npb24iIGxp
bmsgb24gVFYgU3VibWl0IGZvcm0KZnVuY3Rpb24gYXBwcm92ZVdhcm5pbmcodGV4
dCwgbGluaykgewogIGlmIChjb25maXJtKHRleHQpKSB7CiAgICB3aW5kb3cubG9j
YXRpb24uaHJlZiA9IGxpbms7IAogIH0KICBlbHNlIHsKICAgIHJldHVybjsKICB9
CgogIHJldHVybjsKfQoKLy9UVFMgMTEyNTEgLSB1bml2ZXJzYWwgc2VsZWN0IGJv
eCBmb3IgZmlsZSB0eXBlcwpmdW5jdGlvbiB1bml2ZXJzYWxfZnRfc2VsZWN0KCkg
ewogIHZhciBzZWxlY3RlZFZhbDsKCiAgLy9nZXQgdGhlIHZhbHVlIHNlbGVjdGVk
IGluIHVuaXZlcnNhbCBzZWxlY3QgYm94CiAgZm9yICh2YXIgaT0wOyBpPGRvY3Vt
ZW50LnR2c19zdWJtaXQudW5pdmVyc2FsX2ZpbGVfdHlwZV9zZWxlY3QubGVuZ3Ro
OyBpKyspIHsKICAgIGlmIChkb2N1bWVudC50dnNfc3VibWl0LnVuaXZlcnNhbF9m
aWxlX3R5cGVfc2VsZWN0Lm9wdGlvbnNbaV0uc2VsZWN0ZWQgPT0gdHJ1ZSkgewog
ICAgICBzZWxlY3RlZFZhbCA9IGRvY3VtZW50LnR2c19zdWJtaXQudW5pdmVyc2Fs
X2ZpbGVfdHlwZV9zZWxlY3Qub3B0aW9uc1tpXS52YWx1ZTsKICAgIH0KICB9Cgog
IGZvcih2YXIgaT0wOyBpPGRvY3VtZW50LnR2c19zdWJtaXQuZWxlbWVudHMubGVu
Z3RoOyBpKyspIHsKICAgIGlmKGRvY3VtZW50LnR2c19zdWJtaXQuZWxlbWVudHNb
aV0udHlwZT09InNlbGVjdC1vbmUiKSB7CiAgICAgIC8vaWYgdGhlIHVuaXZlcnNh
bCBzZWxlY3QgYm94LCBkbyBub3RoaW5nLiBJZiBmaWxlIHR5cGUgaGFzIGFscmVh
ZHkgYmVlbiBzZWxlY3RlZCwgZG8gbm90aGluZy4KICAgICAgaWYgKGRvY3VtZW50
LnR2c19zdWJtaXQuZWxlbWVudHNbaV0ubmFtZSA9PSAidW5pdmVyc2FsX2ZpbGVf
dHlwZV9zZWxlY3QiIHx8CiAgICAgICAgICBkb2N1bWVudC50dnNfc3VibWl0LmVs
ZW1lbnRzW2ldLm9wdGlvbnNbMF0udmFsdWUgIT0gMTAwMCkgewogICAgICAgIC8v
IGRvIG5vdGhpbmcKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICAvL3NlbGVj
dCB0aGUgb3B0aW9uIHRvIG1hdGNoIHVuaXZlcnNhbCBzZWxlY3QgYm94CiAgICAg
ICAgZm9yICh2YXIgaj0wOyBqPGRvY3VtZW50LnR2c19zdWJtaXQuZWxlbWVudHNb
aV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChkb2N1bWVudC50dnNfc3Vi
bWl0LmVsZW1lbnRzW2ldLm9wdGlvbnNbal0udmFsdWUgPT0gc2VsZWN0ZWRWYWwp
IHsKICAgICAgICAgICAgZG9jdW1lbnQudHZzX3N1Ym1pdC5lbGVtZW50c1tpXS5v
cHRpb25zW2pdLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9
CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuOwp9CgpmdW5jdGlvbiBzd2FwQ2Vs
bHNEbkQodGFibGUsIHJvd19pZCwgbmV3X3Bvc2l0aW9uKQp7CgogIHZhciBtaW4g
PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJsZSArICJfbWluIikudmFsdWU7
CiAgdmFyIG1heCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmxlICsgIl9t
YXgiKS52YWx1ZTsKICB2YXIgb2JqZWN0X2lkX2xpc3Q9ZG9jdW1lbnQuZ2V0RWxl
bWVudEJ5SWQoJ29iamVjdF9pZF9saXN0JykudmFsdWU7CiAgdmFyIG9iamVjdHMg
PSBvYmplY3RfaWRfbGlzdC5zcGxpdCgiLCIpOwoKICB2YXIgb2xkX3Bvc2l0aW9u
OwoKICBmb3IgKHZhciBpID0gMCA7IGkgPCBvYmplY3RzLmxlbmd0aCA7IGkrKykg
ewogICAgaWYgKCgicm93XyIgKyBvYmplY3RzW2ldKSA9PSByb3dfaWQpIHsKICAg
ICAgb2xkX3Bvc2l0aW9uID0gKGkrMSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0K
IAogIGlmIChuZXdfcG9zaXRpb24gPT0gb2xkX3Bvc2l0aW9uKSB7IAogICAgLy9u
b3RoaW5nIHRvIGRvCiAgICByZXR1cm47CiAgfQoKICBpZiAobmV3X3Bvc2l0aW9u
ID4gb2xkX3Bvc2l0aW9uKSB7CiAgICAgc3dhcENlbGxzRG5ETW92ZURvd24odGFi
bGUsIHJvd19pZCwgb2xkX3Bvc2l0aW9uLCBuZXdfcG9zaXRpb24sIG9iamVjdHMp
OwogIH0gIAogIGVsc2UgewogICAgIHN3YXBDZWxsc0RuRE1vdmVVcCh0YWJsZSwg
cm93X2lkLCBvbGRfcG9zaXRpb24sIG5ld19wb3NpdGlvbiwgb2JqZWN0cyk7CiAg
fQoKc2F2ZU9iamVjdGlkc0RuRCgpOwogCn0KCmZ1bmN0aW9uIHN3YXBDZWxsc0Ru
RE1vdmVEb3duICh0YWJsZSwgcm93X2lkLCBvbGRfcG9zaXRpb24sIG5ld19wb3Np
dGlvbiwgb2JqZWN0cykgCnsKICBmb3IgKHZhciBpID0gb2xkX3Bvc2l0aW9uIDsg
aSA8IG5ld19wb3NpdGlvbiA7IGkrKykgewogICAgdmFyIHJvdzFfaWQgPSAicm93
XyIgKyBvYmplY3RzW2ktMV07CiAgICB2YXIgcm93Ml9pZCA9ICJyb3dfIiArIG9i
amVjdHNbaV07CgogICAgdmFyIHJvdzFfb2JqPWRvY3VtZW50LmdldEVsZW1lbnRC
eUlkKHJvdzFfaWQpOwkKICAgIHZhciByb3cyX29iaj1kb2N1bWVudC5nZXRFbGVt
ZW50QnlJZChyb3cyX2lkKTsKCiAgICBmb3IgKHZhciBqID0gMSA7IGogPCA2IDsg
aisrKSB7CQogICAgICB2YXIgdGQxX29iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRC
eUlkKCdjJyArIGogKyAnXycgKyByb3cxX2lkICsgdGFibGUpOwkKICAgICAgdmFy
IHRkMl9vYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYycgKyBqICsgJ18n
ICsgcm93Ml9pZCArIHRhYmxlKTsKCiAgICAgIGlmICghdGQxX29iaikgewogICAg
ICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBpZiAoaj09NSkgeyAvL21lcmdl
CiAgICAgICAgdmFyIGMxX2NoZWNrZWQgPSBmYWxzZTsKICAgICAgICB2YXIgYzJf
Y2hlY2tlZCA9IGZhbHNlOwoKICAgICAgICB2YXIgazsKICAgICAgICB2YXIgZWxl
bWVudHM7CgogICAgICAgIGVsZW1lbnRzID0gdGQxX29iai5nZXRFbGVtZW50c0J5
VGFnTmFtZSgiaW5wdXQiKTsKICAgICAgICBmb3IgKGs9MDsgayA8IGVsZW1lbnRz
Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAoZWxlbWVudHNba10udHlwZSA9
PSAiY2hlY2tib3giKSBjMV9jaGVja2VkID0gZWxlbWVudHNba10uY2hlY2tlZDsK
ICAgICAgICB9CgogICAgICAgIGVsZW1lbnRzID0gdGQyX29iai5nZXRFbGVtZW50
c0J5VGFnTmFtZSgiaW5wdXQiKTsKICAgICAgICBmb3IgKGs9MDsgayA8IGVsZW1l
bnRzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAoZWxlbWVudHNba10udHlw
ZSA9PSAiY2hlY2tib3giKSBjMl9jaGVja2VkID0gZWxlbWVudHNba10uY2hlY2tl
ZDsKICAgICAgICB9CiAgICAgIH0KICAgICAgICAKICAgICAgdmFyIHRkMV9pbm5l
ciA9IHRkMV9vYmouaW5uZXJIVE1MOwkKICAgICAgdmFyIHRkMV9pZCA9IHRkMV9v
YmouaWQ7CgogICAgICB2YXIgdGQyX2lubmVyID0gdGQyX29iai5pbm5lckhUTUw7
CQogICAgICB2YXIgdGQyX2lkID0gdGQyX29iai5pZDsKCiAgICAgIHRkMV9vYmou
aW5uZXJIVE1MPXRkMl9pbm5lcjsKICAgICAgdGQxX29iai5pZCA9IHRkMl9pZDsK
ICAgICAgdGQyX29iai5pbm5lckhUTUw9dGQxX2lubmVyOwogICAgICB0ZDJfb2Jq
LmlkID0gdGQxX2lkOwogICAgICAgIAogICAgICBpZiAoaj09MSkgewogICAgICAg
IHZhciB0ZDFfaW5wdXRfb2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImMx
XyIgKyByb3cxX2lkICsgdGFibGUgKyAiX29yZGVyIik7CiAgICAgICAgdmFyIHRk
Ml9pbnB1dF9vYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYzFfIiArIHJv
dzJfaWQgKyB0YWJsZSArICJfb3JkZXIiKTsKCQogICAgICAgIHRkMV9pbnB1dF9v
YmoudmFsdWUgPSBpKzE7CiAgICAgICAgdGQyX2lucHV0X29iai52YWx1ZSA9IGk7
CiAgICAgIH0KCiAgICAgIGlmIChqPT01KSB7CiAgICAgICAgZWxlbWVudHMgPSB0
ZDFfb2JqLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwogICAgICAgIGZv
ciAoaz0wOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGlm
IChlbGVtZW50c1trXS50eXBlID09ICJjaGVja2JveCIpIGVsZW1lbnRzW2tdLmNo
ZWNrZWQgPSBjMl9jaGVja2VkOwogICAgICAgIH0KCiAgICAgICAgZWxlbWVudHMg
PSB0ZDJfb2JqLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwogICAgICAg
IGZvciAoaz0wOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAg
IGlmIChlbGVtZW50c1trXS50eXBlID09ICJjaGVja2JveCIpIGVsZW1lbnRzW2td
LmNoZWNrZWQgPSBjMV9jaGVja2VkOwogICAgICAgIH0KICAgICAgfQoKICAgIH0g
Ly8gZW5kIGlubmVyIGxvb3AKCiAgICB2YXIgcm93MV9pZCA9IHJvdzFfb2JqLmlk
OwkKICAgIHZhciByb3cyX2lkID0gcm93Ml9vYmouaWQ7CgogICAgcm93MV9vYmou
aWQgPSByb3cyX2lkOwogICAgcm93Ml9vYmouaWQgPSByb3cxX2lkOwogCiAgICB2
YXIgdGVtcCA9IG9iamVjdHNbaV07CiAgICBvYmplY3RzW2ldID0gb2JqZWN0c1tp
LTFdOwogICAgb2JqZWN0c1tpLTFdID0gdGVtcDsKCiAgfS8vZW5kIG91dGVyIGxv
b3AKCn0KCmZ1bmN0aW9uIHN3YXBDZWxsc0RuRE1vdmVVcCAodGFibGUsIHJvd19p
ZCwgb2xkX3Bvc2l0aW9uLCBuZXdfcG9zaXRpb24sIG9iamVjdHMpIAp7CgogIGZv
ciAodmFyIGkgPSBvbGRfcG9zaXRpb24gOyBpID4gbmV3X3Bvc2l0aW9uIDsgaS0t
KSB7CiAgICB2YXIgcm93MV9pZCA9ICJyb3dfIiArIG9iamVjdHNbaS0xXTsKICAg
IHZhciByb3cyX2lkID0gInJvd18iICsgb2JqZWN0c1tpLTJdOwoKICAgIHZhciBy
b3cxX29iaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb3cxX2lkKTsJCiAgICB2
YXIgcm93Ml9vYmo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocm93Ml9pZCk7Cgog
ICAgZm9yICh2YXIgaiA9IDEgOyBqIDwgNiA7IGorKykgewkKICAgICAgdmFyIHRk
MV9vYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYycgKyBqICsgJ18nICsg
cm93MV9pZCArIHRhYmxlKTsJCiAgICAgIHZhciB0ZDJfb2JqID0gZG9jdW1lbnQu
Z2V0RWxlbWVudEJ5SWQoJ2MnICsgaiArICdfJyArIHJvdzJfaWQgKyB0YWJsZSk7
CgogICAgICBpZiAoIXRkMV9vYmopIHsKICAgICAgICBjb250aW51ZTsKICAgICAg
fQoKICAgICAgaWYgKGo9PTUpIHsgLy9tZXJnZQogICAgICAgIHZhciBjMV9jaGVj
a2VkID0gZmFsc2U7CiAgICAgICAgdmFyIGMyX2NoZWNrZWQgPSBmYWxzZTsKCiAg
ICAgICAgdmFyIGs7CiAgICAgICAgdmFyIGVsZW1lbnRzOwoKICAgICAgICBlbGVt
ZW50cyA9IHRkMV9vYmouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7CiAg
ICAgICAgZm9yIChrPTA7IGsgPCBlbGVtZW50cy5sZW5ndGg7IGsrKykgewogICAg
ICAgICAgaWYgKGVsZW1lbnRzW2tdLnR5cGUgPT0gImNoZWNrYm94IikgYzFfY2hl
Y2tlZCA9IGVsZW1lbnRzW2tdLmNoZWNrZWQ7CiAgICAgICAgfQoKICAgICAgICBl
bGVtZW50cyA9IHRkMl9vYmouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7
CiAgICAgICAgZm9yIChrPTA7IGsgPCBlbGVtZW50cy5sZW5ndGg7IGsrKykgewog
ICAgICAgICAgaWYgKGVsZW1lbnRzW2tdLnR5cGUgPT0gImNoZWNrYm94IikgYzJf
Y2hlY2tlZCA9IGVsZW1lbnRzW2tdLmNoZWNrZWQ7CiAgICAgICAgfQogICAgICB9
CiAgICAgICAgCiAgICAgIHZhciB0ZDFfaW5uZXIgPSB0ZDFfb2JqLmlubmVySFRN
TDsJCiAgICAgIHZhciB0ZDFfaWQgPSB0ZDFfb2JqLmlkOwoKICAgICAgdmFyIHRk
Ml9pbm5lciA9IHRkMl9vYmouaW5uZXJIVE1MOwkKICAgICAgdmFyIHRkMl9pZCA9
IHRkMl9vYmouaWQ7CgogICAgICB0ZDFfb2JqLmlubmVySFRNTD10ZDJfaW5uZXI7
CiAgICAgIHRkMV9vYmouaWQgPSB0ZDJfaWQ7CiAgICAgIHRkMl9vYmouaW5uZXJI
VE1MPXRkMV9pbm5lcjsKICAgICAgdGQyX29iai5pZCA9IHRkMV9pZDsKICAgICAg
ICAKICAgICAgaWYgKGo9PTEpIHsKICAgICAgICB2YXIgdGQxX2lucHV0X29iaiA9
IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjMV8iICsgcm93MV9pZCArIHRhYmxl
ICsgIl9vcmRlciIpOwogICAgICAgIHZhciB0ZDJfaW5wdXRfb2JqID0gZG9jdW1l
bnQuZ2V0RWxlbWVudEJ5SWQoImMxXyIgKyByb3cyX2lkICsgdGFibGUgKyAiX29y
ZGVyIik7CgkKICAgICAgICB0ZDFfaW5wdXRfb2JqLnZhbHVlID0gaS0xOwogICAg
ICAgIHRkMl9pbnB1dF9vYmoudmFsdWUgPSBpOwogICAgICB9CgogICAgICBpZiAo
aj09NSkgewogICAgICAgIGVsZW1lbnRzID0gdGQxX29iai5nZXRFbGVtZW50c0J5
VGFnTmFtZSgiaW5wdXQiKTsKICAgICAgICBmb3IgKGs9MDsgayA8IGVsZW1lbnRz
Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAoZWxlbWVudHNba10udHlwZSA9
PSAiY2hlY2tib3giKSBlbGVtZW50c1trXS5jaGVja2VkID0gYzJfY2hlY2tlZDsK
ICAgICAgICB9CgogICAgICAgIGVsZW1lbnRzID0gdGQyX29iai5nZXRFbGVtZW50
c0J5VGFnTmFtZSgiaW5wdXQiKTsKICAgICAgICBmb3IgKGs9MDsgayA8IGVsZW1l
bnRzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBpZiAoZWxlbWVudHNba10udHlw
ZSA9PSAiY2hlY2tib3giKSBlbGVtZW50c1trXS5jaGVja2VkID0gYzFfY2hlY2tl
ZDsKICAgICAgICB9CiAgICAgIH0KCiAgICB9IC8vIGVuZCBpbm5lciBsb29wCgog
ICAgdmFyIHJvdzFfaWQgPSByb3cxX29iai5pZDsJCiAgICB2YXIgcm93Ml9pZCA9
IHJvdzJfb2JqLmlkOwoKICAgIHJvdzFfb2JqLmlkID0gcm93Ml9pZDsKICAgIHJv
dzJfb2JqLmlkID0gcm93MV9pZDsKIAogICAgdmFyIHRlbXAgPSBvYmplY3RzW2kt
Ml07CiAgICBvYmplY3RzW2ktMl0gPSBvYmplY3RzW2ktMV07CiAgICBvYmplY3Rz
W2ktMV0gPSB0ZW1wOwoKICB9Ly9lbmQgb3V0ZXIgbG9vcAoKfQoKCi8vCmZ1bmN0
aW9uIHNhdmVPYmplY3RpZHNEbkQoKSB7CiAgdmFyIG9iamVjdGlkc19kbmQgPSBu
ZXcgQXJyYXkoKTsKICB2YXIgdGFibGVfbmFtZXMgPSBuZXcgQXJyYXkoKTsKICB0
YWJsZV9uYW1lcy5wdXNoKCJjb3ZlcnJlYnV0dGFsdGFibGUiKTsKICB0YWJsZV9u
YW1lcy5wdXNoKCJsZW5ndGh0ZW1wbGF0ZXRhYmxlIik7CiAgdGFibGVfbmFtZXMu
cHVzaCgiYXJ0ZmlndXJldGFibGUiKTsKICB0YWJsZV9uYW1lcy5wdXNoKCJvdGhl
cnRhYmxlIik7CgogIGZvciAodGJsX2NudD0wOyB0YmxfY250PHRhYmxlX25hbWVz
Lmxlbmd0aDsgdGJsX2NudCsrKSB7CiAgICB2YXIgY3RhYmxlPWRvY3VtZW50Lmdl
dEVsZW1lbnRCeUlkKHRhYmxlX25hbWVzW3RibF9jbnRdKTsJCiAgICBpZiAoY3Rh
YmxlPT0gbnVsbCB8fCBjdGFibGU9PSJ1bmRlZmluZWQiKSB7CiAgICAgIC8vIGRv
IG5vdGhpbmcKICAgIH0gZWxzZSB7CgkgdmFyIHJvd3MgPSBjdGFibGUudEJvZGll
c1swXS5yb3dzOwoKICAgICAgICAgZm9yICh2YXIgaT0xOyBpPHJvd3MubGVuZ3Ro
OyBpKyspIHsKICAgICAgICAgICAgdmFyIG9ial9pZD1uZXcgU3RyaW5nKHJvd3Nb
aV0uaWQpOwogICAgICAgICAgICBvYmpfaWQ9b2JqX2lkLnJlcGxhY2UoL3Jvd18v
LCIiKTsKICAgICAgICAgICAgb2JqZWN0aWRzX2RuZC5wdXNoKG9ial9pZCk7CiAg
ICAgICAgIH0KICAgIH0KICB9CiAgdmFyIG9iamVjdF9pZF9saXN0X29iaj1kb2N1
bWVudC5nZXRFbGVtZW50QnlJZCgnb2JqZWN0X2lkX2xpc3QnKTsJCiAgb2JqZWN0
X2lkX2xpc3Rfb2JqLnZhbHVlID0gb2JqZWN0aWRzX2RuZC5qb2luKCIsIik7Ci8v
ICBhbGVydCgiSEVSRTogIitvYmplY3RpZHNfZG5kLmpvaW4oIiwiKSk7Cn0gCgoK
Ly9UVFMgMTE1MzQgLSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvbmx5IG9uZSBm
aWxlIG9mIHRoZSBnaXZlbiB0eXBlIGNhbiBiZSB1cGxvYWRlZApmdW5jdGlvbiBj
aGVja09ubHlPbmVGaWxlT2ZUeXBlKG9iamVjdENkZSwgbGFiZWwpIHsKICB2YXIg
ZmlsZUNvdW50ID0gMDsKICB2YXIgcmVnID0gUmVnRXhwKCJeb2JqZWN0X2ZpbGVf
dHlwZV8iKTsKICB2YXIgc2VsZWN0OwogIHZhciBzZWxlY3RXaXRoRmlsZVR5cGU7
CiAgdmFyIGZvdW5kT2JqZWN0Q2RlOwogIHZhciBvcHRpb247CgogIC8vbG9vcCBv
dmVyIHNlbGVjdCBsaXN0cyB0byBzZWUgaWYgdGhpcyBmaWxlIHR5cGUgd2FzIGFs
cmVhZHkgc2VsZWN0ZWQgb25jZQogIGZvcih2YXIgaSA9IDA7IGkgPCBkb2N1bWVu
dC50dnNfc3VibWl0LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICBpZihkb2N1
bWVudC50dnNfc3VibWl0LmVsZW1lbnRzW2ldLnR5cGUgPT0gInNlbGVjdC1vbmUi
ICYmIHJlZy50ZXN0KGRvY3VtZW50LnR2c19zdWJtaXQuZWxlbWVudHNbaV0ubmFt
ZSkpIHsKICAgICAgc2VsZWN0ID0gZG9jdW1lbnQudHZzX3N1Ym1pdC5lbGVtZW50
c1tpXTsKICAgICAgaWYgKHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZElu
ZGV4XS52YWx1ZSA9PSBvYmplY3RDZGUpIHsKICAgICAgICBmaWxlQ291bnQrKzsK
ICAgICAgICBzZWxlY3RXaXRoRmlsZVR5cGUgPSBzZWxlY3Q7CiAgICAgICAgYnJl
YWs7CiAgICAgIH0KICAgIH0KICB9CiAgICAgCiAgaWYgKGZpbGVDb3VudCA+IDAp
IHsKICAgIC8vZmlsZSB0eXBlIHdhcyBzZWxlY3RlZCBvbmNlLCBzbyByZW1vdmUg
dGhhdCBvcHRpb24gZm9yIGFsbCBvdGhlciBzZWxlY3RzCiAgICBmb3IodmFyIGkg
PSAwOyBpIDwgZG9jdW1lbnQudHZzX3N1Ym1pdC5lbGVtZW50cy5sZW5ndGg7IGkr
KykgewogICAgICBpZihkb2N1bWVudC50dnNfc3VibWl0LmVsZW1lbnRzW2ldLnR5
cGUgPT0gInNlbGVjdC1vbmUiICYmIHJlZy50ZXN0KGRvY3VtZW50LnR2c19zdWJt
aXQuZWxlbWVudHNbaV0ubmFtZSkpIHsKICAgICAgICBzZWxlY3QgPSBkb2N1bWVu
dC50dnNfc3VibWl0LmVsZW1lbnRzW2ldOwogICAgICAgIGlmIChzZWxlY3QubmFt
ZSA9PSBzZWxlY3RXaXRoRmlsZVR5cGUubmFtZSkgewogICAgICAgICAgLy9za2lw
IHRoZSBvbmUgbGlzdCB3aXRoIHRoZSBmaWxlIHR5cGUgc2VsZWN0ZWQKICAgICAg
ICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmb3IodmFy
IGogPSAwOyBqIDwgc2VsZWN0Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAo
c2VsZWN0Lm9wdGlvbnNbal0udmFsdWUgPT0gb2JqZWN0Q2RlKSB7CiAgICAgICAg
ICAgIC8vcmVtb3ZlIHRoZSBvcHRpb24gd2l0aCB0aGUgZmlsZSB0eXBlIGZyb20g
YWxsIG90aGVyIHNlbGVjdHMgc28gdGhhdCBpdCBjYW4ndCBiZSBzZWxlY3RlZCB0
d2ljZQogICAgICAgICAgICBzZWxlY3QucmVtb3ZlKGopOwogICAgICAgICAgfQog
ICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICBlbHNlIHsKICAgIC8vZmlsZSB0
eXBlIHdhc24ndCBzZWxlY3RlZCBvbmNlLCBtYWtlIHN1cmUgaXQncyBhbiBhdmFp
bGFibGUgb3B0aW9uIGluIGFsbCBzZWxlY3QgbGlzdHMKICAgIGZvcih2YXIgaSA9
IDA7IGkgPCBkb2N1bWVudC50dnNfc3VibWl0LmVsZW1lbnRzLmxlbmd0aDsgaSsr
KSB7CiAgICAgIGlmKGRvY3VtZW50LnR2c19zdWJtaXQuZWxlbWVudHNbaV0udHlw
ZSA9PSAic2VsZWN0LW9uZSIgJiYgcmVnLnRlc3QoZG9jdW1lbnQudHZzX3N1Ym1p
dC5lbGVtZW50c1tpXS5uYW1lKSkgewogICAgICAgIHNlbGVjdCA9IGRvY3VtZW50
LnR2c19zdWJtaXQuZWxlbWVudHNbaV07CiAgICAgICAgZm91bmRPYmplY3RDZGUg
PSAwOwogICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBzZWxlY3QubGVuZ3RoOyBq
KyspIHsKICAgICAgICAgIGlmIChzZWxlY3Qub3B0aW9uc1tqXS52YWx1ZSA9PSBv
YmplY3RDZGUpIHsKICAgICAgICAgICAgLy9maWxlIHR5cGUgd2FzIGZvdW5kIGFz
IGFuIG9wdGlvbiwgc28gYWxsIGdvb2QKICAgICAgICAgICAgZm91bmRPYmplY3RD
ZGUgPSAxOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCFmb3Vu
ZE9iamVjdENkZSkgewogICAgICAgICAgLy9maWxlIHR5cGUgbm90IGZvdW5kIGFz
IGFuIG9wdGlvbiwgYWRkIGl0CiAgICAgICAgICBvcHRpb24gPSBkb2N1bWVudC5j
cmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgIG9wdGlvbi50ZXh0ID0g
bGFiZWw7CiAgICAgICAgICBvcHRpb24udmFsdWUgPSBvYmplY3RDZGU7CiAgICAg
ICAgICB0cnkgewogICAgICAgICAgICAvL3N0YW5kYXJkcyBjb21wbGlhbnQKICAg
ICAgICAgICAgc2VsZWN0LmFkZChvcHRpb24sIG51bGwpOwogICAgICAgICAgfQoK
ICAgICAgICAgIGNhdGNoIChleCkgewogICAgICAgICAgICAvL0lFIG9ubHkKICAg
ICAgICAgICAgc2VsZWN0LmFkZChvcHRpb24pOwogICAgICAgICAgfQogICAgICAg
IH0KICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuOwp9CgovL1RUIDEyOTM0CmZ1
bmN0aW9uIGNvcHlfYWRkcmVzc19pbmZvKGlkKXsKICAgIHZhciBhYm92ZV90YWc7
CiAgICB2YXIgdGhpc190YWc7CiAgICAKICAgIGlmIChpZCA9PSAxKSB7CiAgICAg
IGFib3ZlX3RhZyA9ICdjb3JyX2F1dGgnOwogICAgfQogICAgZWxzZSB7CiAgICAg
IGFib3ZlX3RhZyA9ICdjb250cmliX2F1dGhfJyArIChpZCAtIDEpOwogICAgfQoK
ICAgIHRoaXNfdGFnID0gJ2NvbnRyaWJfYXV0aF8nICsgaWQ7CgogICAgdmFyIGZp
ZWxkcyA9IFsnb3JnJywgJ2RlcHQnLCAnYWRkcjEnLCAnYWRkcjInLCAnYWRkcjMn
LCAnY2l0eScsICdzdGF0ZScsICdjb3VudHJ5JywgJ3ppcCcsICdzdWZmaXgnLAog
ICAgICAgICAgICAgICAgICAnam9iX3RpdGxlJywgJ3VybCcsICdtZW1iZXJfaW5k
JywgJ3N0dWRlbnRfaW5kJywgJ3VuaXZlcnNpdHlfbm0nLCAnYWR2aXNvcl9ubSdd
OwogCiAgICBmb3IgKHZhciBpIGluIGZpZWxkcykgewogICAgICB2YXIgZmllbGQg
PSBmaWVsZHNbaV07CiAgICAgIGlmICghJCh0aGlzX3RhZyArICJfIiArIGZpZWxk
KSB8fCAhJChhYm92ZV90YWcgKyAiXyIgKyBmaWVsZCkpIHsKICAgICAgICBjb250
aW51ZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKCQodGhpc190YWcgKyAiXyIg
KyBmaWVsZCkudHlwZSA9PSAnc2VsZWN0JykgewogICAgICAgICQodGhpc190YWcg
KyAiXyIgKyBmaWVsZCkuc2VsZWN0ZWRJbmRleCA9ICQoYWJvdmVfdGFnICsgIl8i
ICsgZmllbGQpLnNlbGVjdGVkSW5kZXg7CiAgICAgIH0KICAgICAgZWxzZSBpZiAo
JCh0aGlzX3RhZyArICJfIiArIGZpZWxkKS50eXBlID09ICdjaGVja2JveCcpIHsK
ICAgICAgICAkKHRoaXNfdGFnICsgIl8iICsgZmllbGQpLmNoZWNrZWQgPSAkKGFi
b3ZlX3RhZyArICJfIiArIGZpZWxkKS5jaGVja2VkOwogICAgICB9CiAgICAgIGVs
c2UgewogICAgICAgICQodGhpc190YWcgKyAiXyIgKyBmaWVsZCkudmFsdWUgPSAk
KGFib3ZlX3RhZyArICJfIiArIGZpZWxkKS52YWx1ZTsKICAgICAgfQogICAgfQp9
CgpmdW5jdGlvbiBkb19yZWJ1aWxkIChuZXdfdXJsKSB7CiAgaWYgKGNvbmZpcm0o
IkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZWJ1aWxkIHRoaXMgZmlsZT8iKSkg
ewogICAgLy8gcmVidWlsZCB0aGUgZmlsZQogICAgd2luZG93LmxvY2F0aW9uLmhy
ZWY9bmV3X3VybAogIH0KfQoKZnVuY3Rpb24gdG9nZ2xlX3Zpc2liaWxpdHkoaWQp
eyAKICAgIHZhciBvcGVuID0gaWQrJ19vcGVuJzsKICAgIHZhciBjbG9zZWQgPSBp
ZCsnX2Nsb3NlZCc7CQogICAgaWYgKCQob3Blbikuc3R5bGUuZGlzcGxheSA9PSAn
bm9uZScpIHsKCSQob3Blbikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkkKGNs
b3NlZCkuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0gZWxzZSB7CiAgICAg
ICAgJChvcGVuKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoJJChjbG9zZWQpLnN0
eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgfQp9CgpmdW5jdGlvbiB0dnNfY29w
eV9wa3dfZnJvbV90cmVlKGlkLCBjbnQsIHdvcmQpeyAKICAgIHZhciBpOwkKICAg
IHZhciBjdXJyX3BrdzsKICAgIHZhciBkb19jb3B5ID0gMDsKICAgIC8vIGNoZWNr
IGZvciBkdXBzCiAgICBmb3IgKGk9MTsgaTw9Y250OyBpKyspIHsKICAgICAgICBj
dXJyX3BrdyA9IGlkKydwa3dfJytpOwoJaWYgKCRGKGN1cnJfcGt3KSA9PSB3b3Jk
KSB7CgkgICAgcmV0dXJuOwoJfQogICAgfQogICAgZm9yIChpPTE7IGk8PWNudDsg
aSsrKSB7CgljdXJyX3BrdyA9IGlkKydwa3dfJytpOwoJaWYgKCRGKGN1cnJfcGt3
KSA9PSAiIikgewoJICAgIGRvX2NvcHkgKys7CgkgICAgJChjdXJyX3BrdykudmFs
dWUgPSB3b3JkOwkKCSAgICBicmVhazsKCX0KICAgIH0KICAgIGlmIChkb19jb3B5
ID09IDApIHsKCWFsZXJ0KCdQbGVhc2UgZGVsZXRlIG9uZSBvZiB0aGUgY3VycmVu
dCBrZXl3b3Jkcy4nKTsKICAgIH0KfQoKZnVuY3Rpb24gdHZzX2NsZWFyX3BrdyAo
aWQpIHsKICAgICQoaWQpLnZhbHVlID0gIiI7Cn0KCmZ1bmN0aW9uIHR2c19zZXRf
Y29va2llKCBuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1
cmUgKSB7CiAgLy8gc2V0IHRpbWUsIGl0J3MgaW4gbWlsbGlzZWNvbmRzCiAgdmFy
IHRvZGF5ID0gbmV3IERhdGUoKTsKICB0b2RheS5zZXRUaW1lKCB0b2RheS5nZXRU
aW1lKCkgKTsKCiAgLyoKICAgIGlmIHRoZSBleHBpcmVzIHZhcmlhYmxlIGlzIHNl
dCwgbWFrZSB0aGUgY29ycmVjdCAKICAgIGV4cGlyZXMgdGltZSwgdGhlIGN1cnJl
bnQgc2NyaXB0IGJlbG93IHdpbGwgc2V0IAogICAgaXQgZm9yIHggbnVtYmVyIG9m
IGRheXMsIHRvIG1ha2UgaXQgZm9yIGhvdXJzLCAKICAgIGRlbGV0ZSAqIDI0LCBm
b3IgbWludXRlcywgZGVsZXRlICogNjAgKiAyNAogICovCiAgaWYgKCBleHBpcmVz
ICkgewogICAgZXhwaXJlcyA9IGV4cGlyZXMgKiAxMDAwICogNjAgKiA2MCAqIDI0
OwogIH0KICB2YXIgZXhwaXJlc19kYXRlID0gbmV3IERhdGUoIHRvZGF5LmdldFRp
bWUoKSArIChleHBpcmVzKSApOwoKICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsg
Ij0iICtlc2NhcGUoIHZhbHVlICkgKwogICAgKCAoIGV4cGlyZXMgKSA/ICI7ZXhw
aXJlcz0iICsgZXhwaXJlc19kYXRlLnRvR01UU3RyaW5nKCkgOiAiIiApICsgCiAg
ICAoICggcGF0aCApID8gIjtwYXRoPSIgKyBwYXRoIDogIiIgKSArIAogICAgKCAo
IGRvbWFpbiApID8gIjtkb21haW49IiArIGRvbWFpbiA6ICIiICkgKwogICAgKCAo
IHNlY3VyZSApID8gIjtzZWN1cmUiIDogIiIgKTsKfQo=

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=tvs_submit.css
Content-Type: text/css; charset=utf-8; name=tvs_submit.css
Content-Location: http://compbiol.plosjms.org/html/tvs_submit.css
Content-Transfer-Encoding: 8bit

/* $Id: tvs_submit.css,v 18.0.2.9 2007/07/26 20:16:35 aweiland Exp $ */

.tvs_no_border {
  border: 0px none;
}

.tvs_black_border {
  border: 1px solid black;
}

.tvs_folder_row_even {
  background-color: #F0F0F0;
  color: #000000;
}

.tvs_folder_row_odd {
  background-color: #FFFFFF;
  color: #000000;
}


th.tvs_header
{
  padding-left: 4px;
  padding-right: 4px;
}

.tvs_folder_row_odd td,
.tvs_folder_row_even td
{
  padding-left: 4px;
  padding-right: 4px;
}

.tvs_middle_cell_warning {
  border-top: 1px solid blue;
  border-bottom: 1px solid blue;
}

.tvs_start_cell_warning {
  border-top: 1px solid blue;
  border-bottom: 1px solid blue;
  border-left: 1px solid blue;
}

.tvs_end_cell_warning {
  border-top: 1px solid blue;
  border-bottom: 1px solid blue;
  border-right: 1px solid blue;
}

.tvs_middle_cell_error {
  border-top: 1px solid red;
  border-bottom: 1px solid red;
}

.tvs_start_cell_error {
  border-top: 1px solid red;
  border-bottom: 1px solid red;
  border-left: 1px solid red;
}

.tvs_end_cell_error {
  border-top: 1px solid red;
  border-bottom: 1px solid red;
  border-right: 1px solid red;
}

.tvs_top_left_corner {
  padding-right: 10px;
}

.tvs_top_left_corner_error {
  border-top: 1px solid red;
  border-left: 1px solid red;
  padding-right: 10px;
}

.tvs_top_right_corner_error {
  border-top: 1px solid red;
  border-right: 1px solid red;
}
.tvs_bottom_left_corner_error {
  border-bottom: 1px solid red;
  border-left: 1px solid red;
}

.tvs_bottom_right_corner_error {
  border-bottom: 1px solid red;
  border-right: 1px solid red;
}

.tvs_top_left_corner_warning {
  border-top: 1px solid blue;
  border-left: 1px solid blue;
  padding-right: 10px;
}

.tvs_top_right_corner_warning {
  border-top: 1px solid blue;
  border-right: 1px solid blue;
}
.tvs_bottom_left_corner_warning {
  border-bottom: 1px solid blue;
  border-left: 1px solid blue;
}

.tvs_bottom_right_corner_warning {
  border-bottom: 1px solid blue;
  border-right: 1px solid blue;
}
.tvs_top_warning {
  border-top: 1px solid blue;
}

.tvs_top_error {
     border-top: 1px solid red;    
}

.tvs_bottom_warning {
  border-bottom: 1px solid blue;
}

.tvs_bottom_error {
  border-bottom: 1px solid red;
}

.tvs_left_warning {
  border-left: 1px solid blue;
}

.tvs_left_error {
  border-left: 1px solid red;
}

.tvs_right_warning {
  border-right: 1px solid blue;
}

.tvs_right_error {
     border-right: 1px solid red;    
}

.tvs_bottom_left_corner_default , .tvs_bottom_right_corner_default {
  border-bottom: 1px solid #d3d3d3;
}

.tvs_folder_row_header {
	background-color: #3A4972;
	color: #FFFFFF;
}

.tvs_folder_table {
  border-style: none;
}

.tvs_warning {
  font-family: Verdana;
  font-size: 10px; 
  color: blue;
}
.tvs_warning_prelim_msg {
  font-family: Verdana;
  font-size: 12pt;
  color: blue;
}
.tvs_error_prelim_msg {
  font-family: Verdana;
  font-size: 12pt;
  color: red;
}

.tvs_error {
  FONT-FAMILY: Verdana;
  FONT-SIZE: 10px; 
  COLOR: red;
}

.tvs_question {
  FONT-FAMILY: Verdana;
  FONT-SIZE: 10px; 
  FONT-STYLE: italic;
}

.tvs_answer {
  FONT-FAMILY: Verdana;
  FONT-SIZE: 10px; 
}

.tvs_approve_instructions {
  FONT-FAMILY: Verdana;
  FONT-SIZE: 10px; 
  FONT-STYLE: italic;
}

.tvs_no_vertical_break
{
clear: both;
line-height:0;
display: block;
}


.tvs_order_table {
     margin: 0px 0px 0px 0px;
}

.tvs_article_table {
     border: 1px solid blue;
}

.tvs_article_table_error {
     border: 1px soild red;
}

.tvs_not_article_table {
     border: 1px solid white;
}

.tvs_example {
  FONT-FAMILY: times;
  FONT-SIZE: 10px; 
  COLOR: black;
}
.tvs_conv_failed{
 font-size:8pt;
 font-family: times;
 color: #FF0000;
 font-weight: normal;
}

.tvs_limit {
 font-size:8pt;
 font-family: times;
 color: #FF0000;
 font-weight: normal;
}
/* Special symbols palette */
#symbol_palette {
     position: absolute;
     display:none;
     width:400px;
     height:200px;
     border:1px solid black;
     z-index:100;
     background-color:white;
     overflow:scroll;
}

#symbol_palette a.symbol {
     font-family: Courier New, Courier, monospace;
}
.check_length {
      position: absolute;
      background-color: white;
      border: 1px solid black;
      display: none;
      z-index: 22;
      font-family: Verdana, Tahoma;
      font-size: 12px; 
      padding: 3px;
      padding-bottom: 10px;
      width:400px;
}
.upload_pdf {
      position: absolute;
      background-color: white;
      border: 1px solid black;
      display: none;
      z-index: 22;
      font-family: Verdana, Tahoma;
      font-size: 12px; 
      padding: 3px;
      padding-bottom: 10px;
      width:300px;
}
.replace_source_file {
      position: absolute;
      background-color: white;
      border: 1px solid black;
      display: none;
      z-index: 22;
      font-family: Verdana, Tahoma;
      font-size: 12px; 
      padding: 3px;
      padding-bottom: 10px;
      width:300px;
}

div.tvs_author_name {
     font-weight: bold;
     font-size: 1.5em;
}

div.tvs_author_seq {
     font-weight:bold;
}

div.tvs_author_details {
     font-color: #DDDDDD;
}

div.fp_container {
width:100%;
border:1px solid gray;
}

div.fp_header {
width:100%;
clear:left;
}

div.fp_results_instructions {
width:100%;
clear:left;
}

div.fp_options {
float:left;
width:180px;
margin:0;
}
div.fp_results {
float:right;
width:50%;
margin:0;
}

div.fp_close {
width:100%;
clear:left;
}

span.fp_results_instructions {
  font-color: #FF0000;
}

#ejp_conv_log {
     border: 1px solid black;
     position: absolute;
     width:500px;
     height:300px;
     display: none;
     z-index: 10;
     background-color: white;
}

#ejp_conv_log_text {
     overflow: scroll;
     width:485px;
     height: 295px;
     font-size:.8em;

}

.tvs_top_tabs_selected
{
  font-family: Tahoma;
  font-size: 14px; 
  font-weight: bold;
/* background-color: #E68B2C; */
 background-color: #FFC83C; 
/* border: 1px solid lightblue; */
/* border-left: solid 1px lightblue; */
/* border-right: solid 1px lightblue; */
/* border-bottom: solid 1px lightblue; */
 text-decoration: none;
}
.tvs_top_tabs {
  font-family: Tahoma;
  font-size: 14px; 
  text-decoration: none;
}
.tvs_tab_title
{
  font-family: Tahoma;
  font-size: 12px; 
  text-decoration: none;
}

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=treemenu.js
Content-Type: application/x-javascript; charset=utf-8; name=treemenu.js
Content-Location: http://compbiol.plosjms.org/html/treemenu.js
Content-Transfer-Encoding: Base64

dmFyIHBlcnNpc3RlZHVscz1uZXcgT2JqZWN0KCkKdmFyIGRkdHJlZW1lbnU9bmV3
IE9iamVjdCgpCgpkZHRyZWVtZW51LmNsb3NlZm9sZGVyPSIvaW1hZ2VzL2Nsb3Nl
ZC5naWYiIC8vc2V0IGltYWdlIHBhdGggdG8gImNsb3NlZCIgZm9sZGVyIGltYWdl
CmRkdHJlZW1lbnUub3BlbmZvbGRlcj0iL2ltYWdlcy9vcGVuLmdpZiIgLy9zZXQg
aW1hZ2UgcGF0aCB0byAib3BlbiIgZm9sZGVyIGltYWdlCgovLy8vLy8vLy8vTm8g
bmVlZCB0byBlZGl0IGJleW9uZCBoZXJlLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v
Ly8vCgpkZHRyZWVtZW51LmNyZWF0ZVRyZWU9ZnVuY3Rpb24odHJlZWlkLCBlbmFi
bGVwZXJzaXN0LCBwZXJzaXN0ZGF5cyl7CnZhciB1bHRhZ3M9ZG9jdW1lbnQuZ2V0
RWxlbWVudEJ5SWQodHJlZWlkKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidWwiKQpp
ZiAodHlwZW9mIHBlcnNpc3RlZHVsc1t0cmVlaWRdPT0idW5kZWZpbmVkIikKcGVy
c2lzdGVkdWxzW3RyZWVpZF09KGVuYWJsZXBlcnNpc3Q9PXRydWUgJiYgZGR0cmVl
bWVudS5nZXRDb29raWUodHJlZWlkKSE9IiIpPyBkZHRyZWVtZW51LmdldENvb2tp
ZSh0cmVlaWQpLnNwbGl0KCIsIikgOiAiIgpmb3IgKHZhciBpPTA7IGk8dWx0YWdz
Lmxlbmd0aDsgaSsrKQpkZHRyZWVtZW51LmJ1aWxkU3ViVHJlZSh0cmVlaWQsIHVs
dGFnc1tpXSwgaSkKaWYgKGVuYWJsZXBlcnNpc3Q9PXRydWUpeyAvL2lmIGVuYWJs
ZSBwZXJzaXN0IGZlYXR1cmUKdmFyIGR1cmF0aW9uZGF5cz0odHlwZW9mIHBlcnNp
c3RkYXlzPT0idW5kZWZpbmVkIik/IDEgOiBwYXJzZUludChwZXJzaXN0ZGF5cykK
ZGR0cmVlbWVudS5kb3Rhc2sod2luZG93LCBmdW5jdGlvbigpe2RkdHJlZW1lbnUu
cmVtZW1iZXJzdGF0ZSh0cmVlaWQsIGR1cmF0aW9uZGF5cyl9LCAidW5sb2FkIikg
Ly9zYXZlIG9wZW5lZCBVTCBpbmRleGVzIG9uIGJvZHkgdW5sb2FkCn0KfQoKZGR0
cmVlbWVudS5idWlsZFN1YlRyZWU9ZnVuY3Rpb24odHJlZWlkLCB1bGVsZW1lbnQs
IGluZGV4KXsKdWxlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NOYW1lPSJzdWJtZW51
IgppZiAodHlwZW9mIHBlcnNpc3RlZHVsc1t0cmVlaWRdPT0ib2JqZWN0Iil7IC8v
aWYgY29va2llIGV4aXN0cyAocGVyc2lzdGVkdWxzW3RyZWVpZF0gaXMgYW4gYXJy
YXkgdmVyc3VzICIiIHN0cmluZykKaWYgKGRkdHJlZW1lbnUuc2VhcmNoYXJyYXko
cGVyc2lzdGVkdWxzW3RyZWVpZF0sIGluZGV4KSl7CnVsZWxlbWVudC5zZXRBdHRy
aWJ1dGUoInJlbCIsICJvcGVuIikKdWxlbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJs
b2NrIgp1bGVsZW1lbnQucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9
InVybCgiK2RkdHJlZW1lbnUub3BlbmZvbGRlcisiKSIKfQplbHNlCnVsZWxlbWVu
dC5zZXRBdHRyaWJ1dGUoInJlbCIsICJjbG9zZWQiKQp9IC8vZW5kIGNvb2tpZSBw
ZXJzaXN0IGNvZGUKZWxzZSBpZiAodWxlbGVtZW50LmdldEF0dHJpYnV0ZSgicmVs
Iik9PW51bGwgfHwgdWxlbGVtZW50LmdldEF0dHJpYnV0ZSgicmVsIik9PWZhbHNl
KSAvL2lmIG5vIGNvb2tpZSBhbmQgVUwgaGFzIE5PIHJlbCBhdHRyaWJ1dGUgZXhw
bGljdGVkIGFkZGVkIGJ5IHVzZXIKdWxlbGVtZW50LnNldEF0dHJpYnV0ZSgicmVs
IiwgImNsb3NlZCIpCmVsc2UgaWYgKHVsZWxlbWVudC5nZXRBdHRyaWJ1dGUoInJl
bCIpPT0ib3BlbiIpIC8vZWxzZSBpZiBubyBjb29raWUgYW5kIHRoaXMgVUwgaGFz
IGFuIGV4cGxpY2l0IHJlbCB2YWx1ZSBvZiAib3BlbiIKZGR0cmVlbWVudS5leHBh
bmRTdWJUcmVlKHRyZWVpZCwgdWxlbGVtZW50KSAvL2V4cGFuZCB0aGlzIFVMIHBs
dXMgYWxsIHBhcmVudCBVTHMgKHNvIHRoZSBtb3N0IGlubmVyIFVMIGlzIHJldmVh
bGVkISkKdWxlbGVtZW50LnBhcmVudE5vZGUub25jbGljaz1mdW5jdGlvbihlKXsK
dmFyIHN1Ym1lbnU9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidWwiKVswXQpp
ZiAoc3VibWVudS5nZXRBdHRyaWJ1dGUoInJlbCIpPT0iY2xvc2VkIil7CnN1Ym1l
bnUuc3R5bGUuZGlzcGxheT0iYmxvY2siCnN1Ym1lbnUuc2V0QXR0cmlidXRlKCJy
ZWwiLCAib3BlbiIpCnVsZWxlbWVudC5wYXJlbnROb2RlLnN0eWxlLmJhY2tncm91
bmRJbWFnZT0idXJsKCIrZGR0cmVlbWVudS5vcGVuZm9sZGVyKyIpIgp9CmVsc2Ug
aWYgKHN1Ym1lbnUuZ2V0QXR0cmlidXRlKCJyZWwiKT09Im9wZW4iKXsKc3VibWVu
dS5zdHlsZS5kaXNwbGF5PSJub25lIgpzdWJtZW51LnNldEF0dHJpYnV0ZSgicmVs
IiwgImNsb3NlZCIpCnVsZWxlbWVudC5wYXJlbnROb2RlLnN0eWxlLmJhY2tncm91
bmRJbWFnZT0idXJsKCIrZGR0cmVlbWVudS5jbG9zZWZvbGRlcisiKSIKfQpkZHRy
ZWVtZW51LnByZXZlbnRwcm9wYWdhdGUoZSkKfQp1bGVsZW1lbnQub25jbGljaz1m
dW5jdGlvbihlKXsKZGR0cmVlbWVudS5wcmV2ZW50cHJvcGFnYXRlKGUpCn0KfQoK
ZGR0cmVlbWVudS5leHBhbmRTdWJUcmVlPWZ1bmN0aW9uKHRyZWVpZCwgdWxlbGVt
ZW50KXsgLy9leHBhbmQgYSBVTCBlbGVtZW50IGFuZCBhbnkgb2YgaXRzIHBhcmVu
dCBVTHMKdmFyIHJvb3Rub2RlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyZWVp
ZCkKdmFyIGN1cnJlbnRub2RlPXVsZWxlbWVudApjdXJyZW50bm9kZS5zdHlsZS5k
aXNwbGF5PSJibG9jayIKY3VycmVudG5vZGUucGFyZW50Tm9kZS5zdHlsZS5iYWNr
Z3JvdW5kSW1hZ2U9InVybCgiK2RkdHJlZW1lbnUub3BlbmZvbGRlcisiKSIKd2hp
bGUgKGN1cnJlbnRub2RlIT1yb290bm9kZSl7CmlmIChjdXJyZW50bm9kZS50YWdO
YW1lPT0iVUwiKXsgLy9pZiBwYXJlbnQgbm9kZSBpcyBhIFVMLCBleHBhbmQgaXQg
dG9vCmN1cnJlbnRub2RlLnN0eWxlLmRpc3BsYXk9ImJsb2NrIgpjdXJyZW50bm9k
ZS5zZXRBdHRyaWJ1dGUoInJlbCIsICJvcGVuIikgLy9pbmRpY2F0ZSBpdCdzIG9w
ZW4KY3VycmVudG5vZGUucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9
InVybCgiK2RkdHJlZW1lbnUub3BlbmZvbGRlcisiKSIKfQpjdXJyZW50bm9kZT1j
dXJyZW50bm9kZS5wYXJlbnROb2RlCn0KfQoKZGR0cmVlbWVudS5mbGF0dGVuPWZ1
bmN0aW9uKHRyZWVpZCwgYWN0aW9uKXsgLy9leHBhbmQgb3IgY29udHJhY3QgYWxs
IFVMIGVsZW1lbnRzCnZhciB1bHRhZ3M9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo
dHJlZWlkKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidWwiKQpmb3IgKHZhciBpPTA7
IGk8dWx0YWdzLmxlbmd0aDsgaSsrKXsKdWx0YWdzW2ldLnN0eWxlLmRpc3BsYXk9
KGFjdGlvbj09ImV4cGFuZCIpPyAiYmxvY2siIDogIm5vbmUiCnZhciByZWx2YWx1
ZT0oYWN0aW9uPT0iZXhwYW5kIik/ICJvcGVuIiA6ICJjbG9zZWQiCnVsdGFnc1tp
XS5zZXRBdHRyaWJ1dGUoInJlbCIsIHJlbHZhbHVlKQp1bHRhZ3NbaV0ucGFyZW50
Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9KGFjdGlvbj09ImV4cGFuZCIpPyAi
dXJsKCIrZGR0cmVlbWVudS5vcGVuZm9sZGVyKyIpIiA6ICJ1cmwoIitkZHRyZWVt
ZW51LmNsb3NlZm9sZGVyKyIpIgp9Cn0KCmRkdHJlZW1lbnUucmVtZW1iZXJzdGF0
ZT1mdW5jdGlvbih0cmVlaWQsIGR1cmF0aW9uZGF5cyl7IC8vc3RvcmUgaW5kZXgg
b2Ygb3BlbmVkIFVMcyByZWxhdGl2ZSB0byBvdGhlciBVTHMgaW4gVHJlZSBpbnRv
IGNvb2tpZQp2YXIgdWx0YWdzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyZWVp
ZCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInVsIikKdmFyIG9wZW51bHM9bmV3IEFy
cmF5KCkKZm9yICh2YXIgaT0wOyBpPHVsdGFncy5sZW5ndGg7IGkrKyl7CmlmICh1
bHRhZ3NbaV0uZ2V0QXR0cmlidXRlKCJyZWwiKT09Im9wZW4iKQpvcGVudWxzW29w
ZW51bHMubGVuZ3RoXT1pIC8vc2F2ZSB0aGUgaW5kZXggb2YgdGhlIG9wZW5lZCBV
TCAocmVsYXRpdmUgdG8gdGhlIGVudGlyZSBsaXN0IG9mIFVMcykgYXMgYW4gYXJy
YXkgZWxlbWVudAp9CmlmIChvcGVudWxzLmxlbmd0aD09MCkgLy9pZiB0aGVyZSBh
cmUgbm8gb3BlbmVkIFVMcyB0byBzYXZlL3BlcnNpc3QKb3BlbnVsc1swXT0ibm9u
ZSBvcGVuIiAvL3NldCBhcnJheSB2YWx1ZSB0byBzdHJpbmcgdG8gc2ltcGx5IGlu
ZGljYXRlIGFsbCBVTHMgc2hvdWxkIHBlcnNpc3Qgd2l0aCBzdGF0ZSBiZWluZyBj
bG9zZWQKZGR0cmVlbWVudS5zZXRDb29raWUodHJlZWlkLCBvcGVudWxzLmpvaW4o
IiwiKSwgZHVyYXRpb25kYXlzKSAvL3BvcHVsYXRlIGNvb2tpZSB3aXRoIHZhbHVl
IHRyZWVpZD0xLDIsMyBldGMgKHdoZXJlIDEsMi4uLiBhcmUgdGhlIGluZGV4ZXMg
b2YgdGhlIG9wZW5lZCBVTHMpCn0KCi8vLy9BIGZldyB1dGlsaXR5IGZ1bmN0aW9u
cyBiZWxvdy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCmRkdHJlZW1lbnUuZ2V0Q29v
a2llPWZ1bmN0aW9uKE5hbWUpeyAvL2dldCBjb29raWUgdmFsdWUKdmFyIHJlPW5l
dyBSZWdFeHAoTmFtZSsiPVteO10rIiwgImkiKTsgLy9jb25zdHJ1Y3QgUkUgdG8g
c2VhcmNoIGZvciB0YXJnZXQgbmFtZS92YWx1ZSBwYWlyCmlmIChkb2N1bWVudC5j
b29raWUubWF0Y2gocmUpKSAvL2lmIGNvb2tpZSBmb3VuZApyZXR1cm4gZG9jdW1l
bnQuY29va2llLm1hdGNoKHJlKVswXS5zcGxpdCgiPSIpWzFdIC8vcmV0dXJuIGl0
cyB2YWx1ZQpyZXR1cm4gIiIKfQoKZGR0cmVlbWVudS5zZXRDb29raWU9ZnVuY3Rp
b24obmFtZSwgdmFsdWUsIGRheXMpeyAvL3NldCBjb29rZWkgdmFsdWUKdmFyIGV4
cGlyZURhdGUgPSBuZXcgRGF0ZSgpCi8vc2V0ICJleHBzdHJpbmciIHRvIGVpdGhl
ciBmdXR1cmUgb3IgcGFzdCBkYXRlLCB0byBzZXQgb3IgZGVsZXRlIGNvb2tpZSwg
cmVzcGVjdGl2ZWx5CnZhciBleHBzdHJpbmc9ZXhwaXJlRGF0ZS5zZXREYXRlKGV4
cGlyZURhdGUuZ2V0RGF0ZSgpK3BhcnNlSW50KGRheXMpKQpkb2N1bWVudC5jb29r
aWUgPSBuYW1lKyI9Iit2YWx1ZSsiOyBleHBpcmVzPSIrZXhwaXJlRGF0ZS50b0dN
VFN0cmluZygpKyI7IHBhdGg9LyI7Cn0KCmRkdHJlZW1lbnUuc2VhcmNoYXJyYXk9
ZnVuY3Rpb24odGhlYXJyYXksIHZhbHVlKXsgLy9zZWFyY2hlcyBhbiBhcnJheSBm
b3IgdGhlIGVudGVyZWQgdmFsdWUuIElmIGZvdW5kLCBkZWxldGUgdmFsdWUgZnJv
bSBhcnJheQp2YXIgaXNmb3VuZD1mYWxzZQpmb3IgKHZhciBpPTA7IGk8dGhlYXJy
YXkubGVuZ3RoOyBpKyspewppZiAodGhlYXJyYXlbaV09PXZhbHVlKXsKaXNmb3Vu
ZD10cnVlCnRoZWFycmF5LnNoaWZ0KCkgLy9kZWxldGUgdGhpcyBlbGVtZW50IGZy
b20gYXJyYXkgZm9yIGVmZmljaWVuY3kgc2FrZQpicmVhawp9Cn0KcmV0dXJuIGlz
Zm91bmQKfQoKZGR0cmVlbWVudS5wcmV2ZW50cHJvcGFnYXRlPWZ1bmN0aW9uKGUp
eyAvL3ByZXZlbnQgYWN0aW9uIGZyb20gYnViYmxpbmcgdXB3YXJkcwppZiAodHlw
ZW9mIGUhPSJ1bmRlZmluZWQiKQplLnN0b3BQcm9wYWdhdGlvbigpCmVsc2UKZXZl
bnQuY2FuY2VsQnViYmxlPXRydWUKfQoKZGR0cmVlbWVudS5kb3Rhc2s9ZnVuY3Rp
b24odGFyZ2V0LCBmdW5jdGlvbnJlZiwgdGFza3R5cGUpeyAvL2Fzc2lnbiBhIGZ1
bmN0aW9uIHRvIGV4ZWN1dGUgdG8gYW4gZXZlbnQgaGFuZGxlciAoaWU6IG9udW5s
b2FkKQp2YXIgdGFza3R5cGU9KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKT8gdGFz
a3R5cGUgOiAib24iK3Rhc2t0eXBlCmlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5l
cikKdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodGFza3R5cGUsIGZ1bmN0aW9ucmVm
LCBmYWxzZSkKZWxzZSBpZiAodGFyZ2V0LmF0dGFjaEV2ZW50KQp0YXJnZXQuYXR0
YWNoRXZlbnQodGFza3R5cGUsIGZ1bmN0aW9ucmVmKQp9

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=treemenu.css
Content-Type: text/css; charset=utf-8; name=treemenu.css
Content-Location: http://compbiol.plosjms.org/html/treemenu.css
Content-Transfer-Encoding: 8bit

.treeview ul{ /*CSS for Simple Tree Menu*/
margin: 0;
padding: 0;
}

.treeview li{ /*Style for LI elements in general (excludes an LI that contains sub lists)*/
background: white url(/images/list.gif) no-repeat left center;
list-style-type: none;
padding-left: 22px;
margin-bottom: 3px;
}

.treeview li.submenu{ /* Style for LI that contains sub lists (other ULs). */
background: white url(/images/closed.gif) no-repeat left 1px;
cursor: hand !important;
cursor: pointer !important;
}


.treeview li.submenu ul{ /*Style for ULs that are children of LIs (submenu) */
display: none; /*Hide them by default. Don't delete. */
}

.treeview .submenu ul li{ /*Style for LIs of ULs that are children of LIs (submenu) */
cursor: default;
}

.treeview .link
{
text-decoration: none;
}
------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=iscb195x108.gif
Content-Type: image/gif; name=iscb195x108.gif
Content-Location: http://compbiol.plosjms.org/images/iscb195x108.gif
Content-Transfer-Encoding: Base64

R0lGODlhwwBsAKIAAOQhK21orqmizjo6ly4wkklGnP///2Z4kyH5BAAAAAAALAAA
AADDAGwAAAP/eLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//A
oHBILBqPyKRyyWw6n9CodEqtWq/YqmHL7Xq/4LB4TC6bz+i0es1uGAqD+AAur9vn
97x+n6fr/Xx7fgUAhYaAdQQBXgJxiIKBco94kZR8Bm4FmgSaBQR4nHChn5ugnXN0
mo4DpASjo6ihnqeqsaabm7CinbKGh7Kti10CwLeupcisvMiet8rNqpzP0KSzmpgM
b7jSc6TduJTQqHCqqc/HnqPk3+Wp6+Hs1d7fo76Hs6MCjJzSuf6z4bxZ6/eOnDp4
/V5tK4BtwRt6u1ZRA8jNmiOKoqQdcwUR/9cudxpT8evWqmLIUPYK5RogrEsAfhE3
tsLoaCS+iPRgmlIWkhXEhgoeWksHDZksZdNQjUMqkyS4deTa4YnJyynRaTM1pSyk
DAzAmCTZ4aw6FOnUrFSNogV64KHPjKxKfjoWt+5Vuhxdzc37Ka4oUE791uWYbu/e
ON740tkKoOUwwoP57oVLWK9gvqAOp0Ocue7bAWy1eU48efNnzHc7V+5L2i7Hy5p9
wub81zUne/q8jgY8+3TY3okRa2QN+K/p0KduDQQUMWq1pQZrLfu6CnpZ5QfN9YtF
CxWA3F4rYvWonZbHo9jJr9rezl3ol2NthgoAn+fEi/J2mVxYHR/E/v/yOSfSfbYE
AN4X5gREIEDf0POfgjPVNOBHEoLmRn37BcNFI/Z1qBRUG531X4YNImYOgWZhxE0c
BoohAADlSRihifZt02B8RG3XE1QDWpgNLyH948VHOSrFnT/PBVlkNN3EEuRbSRLZ
ilIHfuELkFI2yeR4xsnz5JRbAiNdRMgJp5dhigxp2ZqstRmXYW+yCSebwr1p52uS
xalXAVUOkxKaklmm55yYRUZonXSOphdyyZQEx4ECkBfKRfg546g4xRQVnFrRGEfN
K44xAkdKjXaqKXZaamcLUWBx6s4q7yG0E0Nc1EfdmPCc9U9iXzEooILRUWdMqBsC
FEBKkkhUYYz/A0mSXX/xFCTRhMj1JBM/BkY6VEK40pjTZnfho1OJKoo0YkZwhBHA
ZrfZA46DvpIYb4/jTtSTiT2+1+llJM0F1VRTDcIUWejQJeKrSoY4nY619RmpLPQJ
8OKVA2t5VMI2fcQwpWilKFUojCp6p2K+gTvHunGqVmhrq9EWWb+nGcbnFxFLLDF9
x/qyG2XDuexmYTHbNpfKYR2XiXA8mznbayxJPMzNQB72MqJtJk110oURa7MA9Kmy
1dRTS2YalG7KKbJssuElDaNRNbuvmOnQN4wBfRoQwDnJSckMpekVtd4yoXJ9d7Ck
lnde3kmZVymF6rRnXVTjvMetWU3frBO2/xtyjUqLxS6oDj/bcZeixT02mOYwfvXz
NY4zlutRhWp3CVKwfOMi+TI8cc6F6QOA9zBPrPgeIGDVnDI0JZgd5m+KoAduYrtb
tQ56M3JMz625sBV2K8C0c8c2MJzULU/vG0LpZG7rFulItl/cvG5ffG4tv/vh5uL8
M4wBoNSktKzr/+Aoc1w5ugYK+pzjQ+2ZFAIZcrTIEGsLxNhLS16SKFfkJiMSrFsY
uOYJNHDtTHGqEnzyBwA8ESBSmitAzSLmP4mpkEONOOFLsrUuYtwsUgb6RCP4NMO7
VXAu3+uGMLgGqY3Qim570whLthCYmbGBa2nw4ZYCR0IY4aV3LDQgff/CV0MDvRCF
mpAYK3LIw7thMVsn/KIiOAQmMl0oHEP0xIFeggrwDE4gBaJbk8jnojI8cAw7DNgJ
N0TCEzVDcAYy0ByIkciandGFNhvcDgU3RvdB0oVbXI6yJIcYYcBnkLvjiGOMWBN2
0G0kdeMgWdjnkg3h7JUOw8ss9FHFvlgMi5MkBp+4WEacnZCILwzjIsuIw7vd8IWJ
1A+1jiaKRQTwiHo8hvBStRxnhqJP78uRTF5Yqw1VzRW624JBSFJFak6JgJpAGXyS
+b9Z4Oxk6TzZIj+Yya5xooYf3CM4vpeXTTgmhpx4zPRMA0676ZARb9Em6Pakj5bo
MnV9mSPSoJf/Es35haDVG6gJ0YWOA67EJyBU26A02pcyge1AGfnnytrUUFDWimoL
hQ3IIKi01/zTTPmbowmVlycTcoY2PkVbT/OS0bO9hm1/u0YXCuiFUjquaXPwwuBm
147n1NGb56FS51CyFYcNbnHP8GjbHmck9ZgqP687yphilSBPqFSIUiVXvPi4hfqY
zj/zgiaH7BXGLmgkZ/YIHjbjUbTKaCo6+KqOfUpS2LlapEGcZJ5Ov/EFuVYPDv+k
zkmU6VSBLkh46fjaW7w6HBW685Mq/CrOUpu+cSiitZlUYWN3wo4KIbUnQ2JS+/y2
v76+NEpYSdVbUGeUyJWvGaTy1yxFRRKo/xERhzbjoSWPqblf1kyM0TWsPxLnxh+Z
aU+PMZPWggre8ikqpCsNqDdHNsYuAK2iDztMlQAqwzWC04t6AaNbI7iIv3Dwg2lE
4aC+66Y4hWx8jqGjbMIJwTYeI8FIqx/ZtvQYVvmFuMpISbY4SJj5+oWIFAQmYkCc
Pl2m8ZAoDPGGfzo+kynxGpl4ShxQepAltu9GckCpjGclOknoFXQLHsY4CeGuk0Vy
uUtlkRcFx2Sckdi+j1rHwxopYIvu+ETZKdNNXCHkmUjjgTH0w0FpWq/NklJLw3hl
xERFSg1zY4VO/O1q4+dPVSLznngwI2bdaed08pVypAtojL+iXgjeh/8OqdQRXYmB
42exZ7hneNhYBoCs2rAkkQgVT+qc1RyFGUVcFjn06A5t0sQkGE9OcqlLXgEab5YG
T9EgaRzSUN3pURpZhfJtg1kTa03xmqOsjpmFiYOkSRGbgd5lE40BlZe6UVCarj6v
2XYKTTQ8Oy/Rm1Pghnom9ErthyPjabfZa+BBr0dNdTRV8MAgxVY3eG99s2q6njY/
h7HqE1sxT7UNSrBLtbijHbMKNcp6Gnin643J0utokbhYupZPGgeSXunyKlBEsQhS
92EMHVRdV5jYM7UF60T6ovJKyLGWFwY03ut6bA0tI+Wm6g0kTKAtVX7QeF4Nn6u7
9Qid4RRx5nP/0LjDfJLIJn/QoHaLpC6fG6neMVLpX2Ry8ILXQ+Yd/Ef7KuIQB5aM
9kF81X7DWNijilWLyEWnfiOyPdQ1SwryaZbxu2HNwifH/Up66TlcY7Z6t0ZGvq+3
PnLIxvO7wWnnhVgXdrVPDa+08C7+TI5vE74LocEI6rAwAAWmk/+rQx0K9oO7xKU0
nfwSp4F8pwTgpxzZjbSSWbCpeJBo2pw0bNr8WGMKcekOCyZBFxG1kSz8byXDLPXe
hTFiYbx8k7d4zKJn8ypsvUjg2oqUaub2ZELGD4+UBY7Um7dt0tJx6Li5Qbw1bYvJ
NK0iTNsJF/q5f7JVoQ7peVp3xk/P6+Dk/1dyw+GJn8TGXOARP8cf8gITnkVVX8cF
47JIY2AIn6M+AcJrZ/JpHbIiQ3MTwAMZpsRMHpMj67AjU7JzouFWNddoWGY6nLNX
AVMcxKURGrQFRaZZ4iBq4gEiMlaDEaIfKwhZ5vZrewJcXkIU2ZcLImR729Qln7Bm
p8Q4uXA6NEUULxgppJJQnjZ7xaZux3aEVihh+zNrDSQ2NyNt15J4u/YmcWZo3JYy
LeI0PEdeTthxylB5b/En3GZ4zFZTMbVThnJenvE9y7BqZbUtRAh2TwEGTdcyfqE7
bMhoQXWGSLQJGuR2WuEuSZg+74NOdJRO7/NandA2cBNWjWM4ywFjWP+3ZUV0Ih6S
DqgDE7XgcJkzZzXTPvznfEzHbqQAZqUBWIfwecTkXJWERjS0ZHeUV9ESEJx2E1qW
EBj3gZxlc+6FgfvHBk/DBs/miHZjZDZzABNjCN0ATCImemlkQW8XFRKzI4BGPZcz
IF6GbIInFhwHOWIHTcMoQGskjXKjBk0XF2AWSV2jdrv4SyDGaOAYX0SkdzwUilWI
FrL0aaQoeJPRFeEFNsewasdDNsLBYIBER/hIQW9CLCXnF19jQU6GTP/VQhEjQ4kU
jmb4MkAjUqvxkKWWGVXSDCzzhnuFUbi3PhtGN3RDP4ShZkD5kRN1T6LCLhT1C+Ck
OeqUcqu1Wkn/mE9ShClAhpMQxRve4IfhACntVhS+s5XQAn5vwxy2pH2sKBDm2IrO
kyAa5x+6wCy8Aj/bAzncIyyoWIiDlo6OqC2bg3ELuB+vclfW43+cFWicVW0PdZQU
g4Fldi4S0Trl4lQM42U/wUwJMRJgRjM+ZILchxD0kleVOYOOZg5fAD8klIOjZpo4
eCPlcJqaeTD9UGpYAj+s9DTw0SW0B4pjspADFyaxaWxG2BPTV0i6uZBbSJwO1pth
QnsAlyrVsodsInKxxnjOKXnTeSh2WJ12IoLlNGDdRp2BIifgyXjX2Z2s4Icrd1Yv
Zj65OR24eSpIyAy8ojGrElyzAEHldFZk/9GeLaaf82ls8Ikq99YJfng9EpIaslM7
t1IOD7gexiAtrvkr5JKEVWQay6FpwTJ+jXllFYJjpmASD5iMguiapQUlfykp0rGO
TNFY/zdk6Sgj3yCcOJeOkqmY9tIRGVJmJwguBkiZ+uZagRE7z6FvanU4O3FFZZEw
YsF14pBTdPN3BMOMFzER++KjR5olVUqf2sWOQUGTSsSHaUhe1fMbzxk2KyU0IsM0
HMEY86VgqGY1a1JUL3mmciGncEocXoh1LDlhOxMZH1WTYtozY9qmLCmoqCF0N7Yn
eUoyhPqQi2obPqMZIhV4Wyod3CcVPGZwhMYMvwKPmHo9xSM6zhF0yex1T9gkb5WK
HnpTFJu6KlTlNpZ6dQ6BIRNSO5tVfbBDE7pCo5/RmR06IS0qqoF1UR6Jq3i1H6lo
rHdljLqaWBvoXZO2fcnqgU4FmA9qLRGqKwpDmCnyJ61XjxXmK6RzWY25R9GyouGq
g3IJEO8xctD5fqnVie5qiSN3N/4DT+wHr/MqcvYaT/6Dr/Aar+lUOFMlcozQj9AJ
QO7aifl6rwf7fuzaruy3sALqBtJYsRZ7sRibsRq7sWyRBR77sSAbsiI7siRbsiZ7
siibsiq7sizbsi77sjAbszI7szRbszZ7szibszq7szzbszybAAA7

------------3obnvootT3GXYRHo5brlc5
Content-Disposition: inline; filename=plos73x108.gif
Content-Type: image/gif; name=plos73x108.gif
Content-Location: http://compbiol.plosjms.org/images/plos73x108.gif
Content-Transfer-Encoding: Base64

R0lGODlhSQBsAKIAAJCdsMzR2eTn7HuKoaexwLzDzv///2Z4kyH5BAAAAAAALAAA
AABJAGwAAAP/eLrc/jDKSau9OOszNidF541NIYiZYBgCQL6H6mbEugYwOcxZYLO5
IKZmKwiPlcINhXQwg4Nnk6FqTQaEgGDLChR4UwrRgIMAVF0fCy0gSMMlm+BxZrkP
2fvHRpgQwDkDaIAHSgJaLgUBUoIqixBEhC87Uj5GHEpldAE1J3Qrb00+h314AQGS
Cl+CBm8AoUhKpYoELbWpAzgDQHAAXmYGRlhaLAWKW156Co9Kl1NKrQ9buV7DqAqC
f4qcHQRuXgapMDuSNac8i4IzuSIDil+KLltwEY4MINieB2cMWCqXPsRNAUCmwTUF
Z0QYi/PoHz2ECqMtyNUgywJOC7JwOqfl/6EhBfPuObtYSlAHRRSVYJEYZpSCYCUk
WcHzblmeReHoYXGxS9Oydqc6CEIIE6QnYwZKPeTAC5smNZcKeNuooBYKFUof7pq5
zxm0UgTLSK0xUtZSbME0ASg7y8ulXWMZEMz6MBg+PHTxCAAI4AynL3Jzno2B45c3
uXtRhO1wqCLLpUpUxbXGJMtMRQ1CTjwEi8TcqmSyhJAblOKBjhmLXlyRN8g/L1WY
+Dp4+tU50I9Ps87xx7GbKKi89I3XYO2Xte58+MR2GEakzHN+stqibME0E6hU0iOY
m2AbE6QQbjtlDDynOQQvWRxYjgWA9U4oaYlqLp/gwYWS1pbgy/Qoxf+tQUaGLxEk
dNpK+uAXQSea3fNIDPYoSEEuK7QglGhR1OKehGY84csPFXKxIYefROfAWqdssVd1
JDYgyEgtxiijEM3NOAIay9l4AXeg6KjBLjZ05iMkWwg0ZARCHqnkkkw26eSTUEYp
5ZRUVmnllVgiEQUHW/YjFAcevJdkmMQcosVBWaxBmwV+acRiEC5x4NBLBSHZ5QKf
LZNbEJngucIMWEFAzTsooGadkR70aV8pgTqh2jQgGRDTFPVZV1SjmUk6UZ2Ygklp
nUwJ1iloy6nQAVRjklApHk2Nmh+MPvTBo2qftrAWC1fpFwesutZRIaIedAICi66S
ZZCumKCxJ2//oDrg6lb9mOoiNDkyW22krfmgGK0MQJPqEM1mmlcfiOzT2D6AAPnt
BR9BMOpaVZXHw11ULPtCu9Jwi1mBCb5kohCsLMvjKxlyW1yzSgCLwWyn/OKgmeRp
wdUDWJhgTLlNMPHEumZ4o3CWIIcs8sgkB0LcaO6Ycs1omMTLcsota5SIcOIJRdx7
XV1RGDsc7MzOgxTV6NTQ6SyyCLw08eRzCIBJ8DPPFKUTAtBGO1FG1KceCG8uW+/c
VYD90PxI1KeQC5RpYRNd9mm3+YISNUqtKagmveFcNM894+Xi1T4bvUMfgHnDjjMP
Ou3MMHe8MzM36hkD1DlGKF5IFJEj5EbkbApxXPLmnHe+zyMozgAC08AFBRjMoycn
NxQguCCaKvPGDdxFRev9ExyrCEP36T7VbtMXVV+k+QWP+M7c1AwUbbo7WaDN9uq8
vRKC8znXaLzUOFg/vAXunO5MHiKkPn3DyOVME9Nre67++iAnAAA7

------------3obnvootT3GXYRHo5brlc5--
